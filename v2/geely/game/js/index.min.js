!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e){function i(t){return this.id=t.id||"",this.adsorbed=t.adsorbed||!0,this.duration=t.duration||.3,this.position=t.position||"1,0.5",this.adsorb=t.adsorb||!1,this.notRotate=t.notRotate||!1,this.init(t),this}i.prototype.init=function(t){if(this.id){this.target=document.querySelector(this.id),this.WIDTH=document.documentElement.clientWidth||document.body.clientWidth,this.HEIGHT=document.documentElement.clientHeight||document.body.clientHeight,this.offX=0,this.offY=0,this.width=t.width||this.target.offsetWidth||64,this.height=t.height||this.target.offsetHeight||64,console.log(this.target.offsetWidth),t.width&&(this.target.style.width=t.width+"px"),t.height&&(this.target.style.height=t.height+"px"),this.tapFlag=!1,this.timer=null,this.hasMove=!1;var e=this.position.split(","),i=parseFloat(e[0])*(this.WIDTH-this.width)>>0,n=window.touch_initY||parseFloat(e[1]),s=n*(this.HEIGHT-this.height)>>0;this.top=s,this.left=i,this.hiddenState(),this.target.addEventListener("touchstart",this.touchDown.bind(this),!1),document.addEventListener("touchmove",this.touchMove.bind(this),!1),this.target.addEventListener("touchend",this.touchUp.bind(this),!1)}},i.prototype.update=function(){this.WIDTH=document.documentElement.clientWidth||document.body.clientWidth,this.HEIGHT=document.documentElement.clientHeight||document.body.clientHeight;var t=this.WIDTH-this.width;this.top=0,this.left=t;var e="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s";this.target.style.webkitTransition=this.target.style.transition=e;this.target.style.webkitTransform=this.target.style.transform="translate3d(0px,0px,0)"},i.prototype.setPositionY=function(t,e){var i=this.HEIGHT*(t||.5)-this.height/2;i=Math.max(0,i),i=Math.min(this.HEIGHT-this.height,i),this.top=i;var n="translate3d(0px,"+i+"px,0)";this.target.style.webkitTransform=this.target.style.transform=n,e||this.hiddenState()},i.prototype.touchDown=function(t){if(t.preventDefault(),!this.tapFlag){this.hasMove=!1,this.target.style.opacity="1";var e=this.target.getBoundingClientRect();if(t.touches)var i=t.touches[0];else var i=t;this.offX=i.clientX-e.left,this.offY=i.clientY-e.top,this.tapFlag=!0,this.clearTimer(),this.touchMove(t),this.target.style.transition=this.target.style.webkitTransition="none"}},i.prototype.touchMove=function(t){if(this.tapFlag){if(this.hasMove=!0,t.changedTouches)var e=t.changedTouches[0];else var e=t;var i=e.clientY-this.offY,n=e.clientX-this.offX;i=Math.max(0,i),i=Math.min(this.HEIGHT-this.height,i),n=Math.max(0,n),n=Math.min(this.WIDTH-this.width,n);var s="translate3d(0px,"+i+"px,0)";this.target.style.transform=this.target.style.webkitTransform=s}},i.prototype.touchUp=function(t){if(t.preventDefault(),this.tapFlag){if(this.tapFlag=!1,t.changedTouches)var e=t.changedTouches[0];else var e=t;var i=e.clientX-this.offX,n=e.clientY-this.offY;if(n=Math.max(0,n),n=Math.min(this.HEIGHT-this.height,n),i=i<=this.WIDTH/2-this.width/2&&this.adsorb?0:this.WIDTH-this.width,this.top=n,this.left=i,this.target.style.webkitTransition="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s",this.target.style.transition="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s",this.target.style.webkitTransform="translate3d(0px,"+n+"px,0)",this.target.style.transform="translate3d(0px,"+n+"px,0)",this.timer=setTimeout(function(){this.hiddenState()}.bind(this),2e3),!this.hasMove){var s="canvas"==t.target.tagName.toLocaleLowerCase();("barrage-cont"==t.target.className||"barrage-text"==t.target.className||s)&&this.target.click()}}},i.prototype.clearTimer=function(){clearTimeout(this.timer)},i.prototype.hiddenState=function(){if(this.target.style.opacity="1",this.notRotate)var t=(this.left,"translate3d(0px,"+this.top+"px,0)");else var t=(this.left,this.width,"translate3d(0px,"+this.top+"px,0) rotate(-45deg)");this.target.style.webkitTransform=this.target.style.transform=t},t.exports=i},function(t,e){var i={default:["我是默认的加载文案..."],auth:["我是游戏授权完成后的文案..."],loaded:["我是游戏加载完成后的文案..."],setText:function(t){this[t]&&console.log(this[t][0])}};t.exports=i},function(t,e){var i={_key:"playGameTime",postAjaxData:function(t,e,i){var n=SDW_WEB.createXMLHTTPRequest();n&&(n.open("POST",t,!0),n.onerror=function(){dialog.show("error","[Ajax Error]，请检查网络接口",1)},n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){JSON.parse(n.responseText)}},n.send(JSON.stringify(e)))},start:function(t){this.gameId=t,this.startTime=+new Date;var e=SDW_WEB.Store.get(this._key,!0);SDW_WEB.Store.set(this._key,{startTime:this.startTime,gameId:this.gameId},!0),e&&SDW_WEB.USER_INFO&&SDW_WEB.USER_INFO.uid&&this.uploadData(e),t&&this.timer()},uploadData:function(t){var e={appid:t.gameId,start:t.startTime,end:t.time};e.sign=SDW_WEB.MD5(""+t.gameId+SDW_WEB.USER_INFO.uid+SDW_WEB.channel+t.startTime+t.time+"19666419c828842887b7294025667d79");var i={channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme},n=window.devicePixelRatio||1;i.imei=SDW_WEB.guid,i.os=SDW_WEB.os,i.tg=0,i.w=SDW_WEB.width*n,i.h=SDW_WEB.height*n,SDW_WEB.USER_INFO&&SDW_WEB.USER_INFO.fl&&(i.fl=SDW_WEB.USER_INFO.fl);var s=SDW_WEB.queryParam;s[SDW_WEB.sender_sdw_id]&&(i.rfid=s[SDW_WEB.sender_sdw_id]);var a=SDW_WEB.URLS.addParam(i,!0,"http://platform.shandw.com/pltupot");this.postAjaxData(a,e,function(t){})},timer:function(){var t=this,e=SDW_WEB.Store.get(this._key,!0);e.time=+new Date,SDW_WEB.Store.set(this._key,e,!0),setTimeout(function(){t.timer()},2e3)}};t.exports=i},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){i(4),i(5),i(3),window.loadPageTime=+new Date,SDW_WEB.playGameTimer=i(2),SDW_WEB.setLoadText=i(1),SDW_WEB.setLoadText.setText("default");var n=i(0);console.log("------"+SDW_WEB.MOBILE_GAME_GID);var s="1"==SDW_WEB.queryParam.screen||"3"==SDW_WEB.queryParam.screen,a={landscape:s,gameName:"",gid:SDW_WEB.MOBILE_GAME_GID,fullscreen:!1,showLogin:!1,showfocus:!1},o={init:function(){var t=document.querySelector("#my-menu");t.style.visibility="visible",window.touch=new n({id:"#my-menu",position:"0.97,0.2"});var e=this;$("#menu-btn").tap(function(i){i.stopPropagation(),SDW_WEB.onIOS&&$("#my-game-container").addClass("my-game-container-ani"),window.touch.hiddenState(),window.touch.clearTimer(),t.style.opacity="0",e.showfocus=!0});var i=document.documentElement.clientWidth||document.body.clientWidth,a=document.documentElement.clientHeight||document.body.clientHeight;s?$("#g-container").css({height:a+"px",width:i+"px"}):$("#g-container").css({height:a+"px",width:.6*a+"px"})},closeMask:function(){this.showfocus=!1,window.touch.hiddenState()},refreshUser:function(){SDW_WEB.onShandw?SDW_WEB.sdw.logout():this.loginFlagV2=1},login:function(){this.showLogin=!0,this.createQ()},createQ:function(){var t=SDW_WEB.URLS.queryUrl.gid||1,e="http://www.shandw.com/pc/auth/qAuth.html?channel="+SDW_WEB.channel+"&unitid="+SDW_WEB.guid+"&gid="+t+"&os="+SDW_WEB.os+"&w="+SDW_WEB.width+"&h="+SDW_WEB.height+"&m="+ +new Date;SDW_WEB.qrcode.clear(),SDW_WEB.qrcode.makeCode(e),this.qLoginData()},loginSuccessFn:function(t){this.showLogin=!1;var e={avatar:t.avatar,fl:t.fl,nick:t.nick,otoken:t.token,sex:t.sex,uid:t.id,day:t.day,month:t.month,result:t.result,secheme:+new Date,year:t.year};e.token=SDW_WEB.MD5(""+SDW_WEB.channel+e.uid+e.secheme+e.otoken),SDW_WEB.USER_INFO=e;e.nick||e.uid,e.avatar;SDW_WEB.Store.set(SDW_WEB.localItem,e,!0),SDW_WEB.checkUserInfo(!0),authGame()},qLoginData:function(){var t=this,e=+new Date/1e3>>0,i=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,unitid:SDW_WEB.guid,token:SDW_WEB.MD5(SDW_WEB.guid+e+"b30e0224d659cfac"+SDW_WEB.guid+SDW_WEB.channel),t:e},!1,HTTP_USER_STATIC+"pcauthget");SDW_WEB.getAjaxData(i,function(e){1===e.result&&t.loginSuccessFn(e)})}},h=new Vue({el:"#app",data:a,methods:o});visitorMode.isVisitor?(SDW_WEB.qrcode=new QRCode(document.querySelector("#ewm"),{width:260,height:260}),h.login()):function(){visitorMode.isVisitor=!1,SDW_WEB.getSdwUserData().then(function(){window.unloadStorageFlg+=SDW_WEB.USER_INFO.uid,authGame()},function(){SDW_WEB._refreshUserData()}),SDW_WEB.onShandw&&!SDW_WEB.hasH5NativePay&&SDW_WEB.sdw.onShowToolBarItems(["addDesktop"])}(),h.init(),window._fullScreen=!1;setTimeout(function(){document.body.style.display="block"},20)}]);