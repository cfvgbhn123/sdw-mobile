!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=20)}([function(t,e){t.exports=function(t,e,n,o){var i,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(i=t,r=t.default);var s="function"==typeof r?r.options:r;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),o){var c=s.computed||(s.computed={});Object.keys(o).forEach(function(t){var e=o[t];c[t]=function(){return e}})}return{esModule:i,exports:r,options:s}}},function(t,e){function n(t,e,n,o){return"function"!=typeof t?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=e||!1,this.enable=!0,this.callback=t||null,this.delayTime=n||200,this.offset=o||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var t=this;t.timer=null,t.callback&&window.addEventListener("scroll",function(e){if(t.enable){var n=document.body.scrollTop+t.clientHeigth,o=document.documentElement.scrollHeight-t.offset,i=n>=o,r=1==t.toBottom&&i||0==t.toBottom;r&&!t.timer&&(t.timer=setTimeout(function(){t.callback(e),t.timer=null},t.delayTime))}},!1)},n.prototype.setCallback=function(t){"function"==typeof t?self.callback=t:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},t.exports=n},function(t,e,n){var o,i,r;!function(a,s){i=[t,n(9),n(17),n(15)],o=s,r="function"==typeof o?o.apply(e,i):o,!(void 0!==r&&(t.exports=r))}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),h=function(t){function e(t,n){r(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return s(e,t),d(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,f.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(u.default);t.exports=h})},function(t,e){},function(t,e){},function(t,e,n){n(13);var o=n(0)(n(7),n(19),null,null);t.exports=o.exports},function(t,e,n){n(12);var o=n(0)(n(8),n(18),null,null);t.exports=o.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"gift-item",data:function(){return{}},props:["giftItem"],methods:{},computed:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"fast-login",data:function(){return{maskType:SDW_WEB.onIOS?"ios-mask":"and-mask",loginFlagV2:1,phoneLoginData:{getCodeFlag:!1,phoneNum:"",phoneCode:"",RES_TIME:"",timerHand:null,message:"获取验证码"},tapTimer:null}},props:["show"],methods:{forbidScroll:function(t){t.preventDefault()},timers:function(){var t=this,e=60,n=document.querySelector("#getCode-v-2");n.className="codetimer",t.codeMessage=e--+"秒后获取",t.timerHand=setInterval(function(){e<=0?(clearInterval(t.timerHand),n.className="codenormal",t.phoneLoginData.message="获取验证码",t.phoneLoginData.getCodeFlag=!1):t.phoneLoginData.message=e--+"秒后获取"},1e3)},chooseLoginType:function(){},getPhoneCode:function(){var t=this,e=this.phoneLoginData,n=SDW_WEB.channel;if(!e.getCodeFlag)if(/^1\d{10}$/.test(e.phoneNum)){e.getCodeFlag=!0;var o=+new Date/1e3>>0,i=(new Date).Format("yyyyMMdd"),r=SDW_WEB.MD5("SDW"+i+n+SDW_WEB.guid+e.phoneNum+o),a=HTTP_USER_STATIC+"telcode?channel="+n+"&phone="+e.phoneNum+"&time="+o+"&sign="+r;dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(a,function(n){1==n.result?(e.RES_TIME=n.time,e.getCodeFlag=!0,t.timers(),dialog.show("ok","验证码已发送",1),document.querySelector(".short").focus()):(e.getCodeFlag=!1,dialog.show("error",n.msg,1))},!1)}else dialog.show("error","请输入正确的手机号",1)},phoneLogin:function(t){var e=this,n=this.phoneLoginData,o=SDW_WEB.channel;if(/^1\d{10}$/.test(n.phoneNum))if(/^\d+$/.test(n.phoneCode)){var i=t?"&vst=1&vsttoken="+visitorMode.visitorToken:"",r=HTTP_USER_STATIC+"telcheck?channel="+o+"&phone="+n.phoneNum+"&time="+n.RES_TIME+"&sign="+SDW_WEB.MD5(o+SDW_WEB.guid+n.phoneNum+n.RES_TIME+n.phoneCode)+i;dialog.show("loading","登录中..."),SDW_WEB.getAjaxData(r,function(t){if(1==t.result){var n={uid:t.id,otoken:t.token,nick:t.nick,sex:t.sex,avatar:t.avatar,city:t.city,fl:t.fl};SDW_WEB.Store.set(SDW_WEB.localItem,n,!0),localStorage.setItem(window.DATAITEM,JSON.stringify(n)),dialog.show("ok","登录成功",1),n.secheme=+new Date,n.token=SDW_WEB.MD5(""+SDW_WEB.channel+n.uid+n.secheme+n.otoken),SDW_WEB.USER_INFO=n,e.$emit("login-ok"),e.show=0}else dialog.show("error",t.msg,1)},!1)}else dialog.show("error","请输入正确的验证码",1);else dialog.show("error","请输入正确的手机号",1)}},computed:{showLogin:function(){return this.show||!1}}}},function(t,e,n){var o,i,r;!function(a,s){i=[t,n(16)],o=s,r="function"==typeof o?o.apply(e,i):o,!(void 0!==r&&(t.exports=r))}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},function(t,e){function n(t,e){for(;t&&t.nodeType!==o;){if(t.matches(e))return t;t=t.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=n},function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}var r=n(10);t.exports=o},function(t,e){},function(t,e){},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return i(t,e,n);if(s.nodeList(t))return r(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return c(document.body,t,e,n)}var s=n(14),c=n(11);t.exports=o},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i),e=o.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;r<a;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showLogin?n("div",{staticClass:"login-container",class:t.maskType},[n("div",{staticClass:"mask-v2",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&(t.show=0)}}}),t._v(" "),n("i",{staticClass:"sdw-logo-v2"}),t._v(" "),n("div",{staticClass:"forms",attrs:{id:"loginForm-v2"}},[n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 phone"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneLoginData.phoneNum,expression:"phoneLoginData.phoneNum"}],staticClass:"long",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:t._s(t.phoneLoginData.phoneNum)},on:{input:function(e){e.target.composing||(t.phoneLoginData.phoneNum=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 code"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneLoginData.phoneCode,expression:"phoneLoginData.phoneCode"}],staticClass:"short",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:t._s(t.phoneLoginData.phoneCode)},on:{input:function(e){e.target.composing||(t.phoneLoginData.phoneCode=e.target.value)}}}),t._v(" "),n("div",{staticClass:"codenormal",attrs:{id:"getCode-v-2"},on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.getPhoneCode()}}},[t._v(t._s(t.phoneLoginData.message)+"\n            ")])]),t._v(" "),n("div",{staticClass:"login-btn-v2",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.phoneLogin(0)}}},[t._v("登"),n("span",{staticStyle:{width:"50px"}}),t._v("录")])])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gift-item"},[n("div",{staticClass:"gift-container-info"},[n("div",{staticClass:"gift-title"},[t._v(t._s(t.giftItem.name))]),t._v(" "),n("div",{staticClass:"gift-desc"},[t._v(t._s(t.giftItem.info))]),t._v(" "),t._t("gift-line")],2),t._v(" "),t._t("gift-btn")],2)},staticRenderFns:[]}},function(t,e,n){function o(){var t=document.querySelectorAll('img[data-loaded="0"]');i(t)}function i(t){for(var e=0,n=t.length;e<n;e++)t[e].getBoundingClientRect().top<document.documentElement.clientHeight&&!t[e].isLoad&&(t[e].isLoad=!0,t[e].dataset.loaded="1",t[e].style.cssText="transition: ''; opacity: 0;",r(t[e],t[e].dataset.src))}function r(t,e){if(e){var n=new Image;n.onload=function(){t.src=n.src,t.style.cssText="transition: 1s; opacity: 1;";var e=t.parentNode;e&&e.classList.contains("game-cover-info")&&(e.style.transition=".4s",e.style.background="rgba(0,0,0,0)")},n.src=e}}var a=n(5),s=n(6),c=n(2),l=new c(".game-code");l.on("success",function(t){alert("Action:"+t.action),alert("Text:"+t.text),alert("Trigger:"+t.trigger),t.clearSelection()}),n(3),n(4);var u=new Vue({el:"#app",data:{currentGame:0,showGift:0,giftCode:"",giftLists:[],gamesMap:{},giftsMap:{}},methods:{createGameMap:function(t){for(var e=0;e<t.length;e++){var n=t[e];this.gamesMap[n.id]=n}},createGiftMap:function(t){for(var e=0;e<t.length;e++){var n=t[e];this.giftsMap[n.gid]||(this.giftsMap[n.gid]=[]),n._hasGet=0,this.giftsMap[n.gid].push(n)}},loadGiftsList:function(){var t=this,e=SDW_WEB.URLS.addParam({token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme},!1,HTTP_STATIC+"gift");SDW_WEB.getAjaxData(e,function(e){t.createGameMap(e.game),t.createGiftMap(e.gift);for(var n in t.giftsMap){var i={};i.id=n,i.list=t.giftsMap[n],t.giftLists.push(i)}t.$nextTick(function(){o()})})},computedQuantity:function(t){return t.num/t.count*100>>0},checkGiftState:function(t){var e=this;if(!SDW_WEB.USER_INFO.uid)return void(this.$refs.login.show=1);if(e.currentGame=t.gid,t._hasGet)this.showGift=1,this.giftCode=t.code;else{dialog.show("loading","礼包领取中");var n=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,uid:SDW_WEB.USER_INFO.uid,gid:t.gid,id:t.id},!1,HTTP_STATIC+"getgift");SDW_WEB.getAjaxData(n,function(n){1==n.result?(t._hasGet=1,e.showGift=1,t.code=n.code,e.giftCode=n.code,dialog.show("ok","礼包领取成功",1)):dialog.show("error",n.msg,1)})}},checkGameSate:function(t){var e=SDW_WEB.USER_INFO.uid,n={gid:this.currentGame,channel:SDW_WEB.channel},o=SDW_WEB.MOBILE_ROOT+"game/",i=SDW_WEB.URLS.addParam(n,!1,o);e?SDW_WEB.openNewWindow({link:i,isFullScreen:!1,showMoreBtn:!0,title:" "}):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.$refs.login.show=1}},components:{giftItem:a,fastLogin:s}}),f=n(1);new f(o);SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(t){u.loadGiftsList()}):u.loadGiftsList()}]);