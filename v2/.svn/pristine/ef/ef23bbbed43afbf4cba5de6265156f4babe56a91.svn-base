!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=16)}([function(t,e){t.exports=function(t,e,n,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var r="function"==typeof a?a.options:a;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),n&&(r._scopeId=n),i){var c=r.computed||(r.computed={});Object.keys(i).forEach(function(t){var e=i[t];c[t]=function(){return e}})}return{esModule:o,exports:a,options:r}}},function(t,e){function n(t,e,n,i){return"function"!=typeof t?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=e||!1,this.enable=!0,this.callback=t||null,this.delayTime=n||200,this.offset=i||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var t=this;t.timer=null,t.callback&&window.addEventListener("scroll",function(e){if(t.enable){var n=document.body.scrollTop+t.clientHeigth,i=document.documentElement.scrollHeight-t.offset,o=n>=i,a=1==t.toBottom&&o||0==t.toBottom;a&&!t.timer&&(t.timer=setTimeout(function(){t.callback(e),t.timer=null},t.delayTime))}},!1)},n.prototype.setCallback=function(t){"function"==typeof t?self.callback=t:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},t.exports=n},function(t,e){},function(t,e){},function(t,e,n){n(12);var i=n(0)(n(7),n(15),null,null);t.exports=i.exports},function(t,e,n){n(10);var i=n(0)(n(8),n(13),null,null);t.exports=i.exports},function(t,e,n){n(11);var i=n(0)(n(9),n(14),null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bind-phone",data:function(){return{bindMyPhone:"",bindMyCode:"",bindTimer:null,bindMsg:"获取验证码",bindStartTimer:0}},props:["showBindPhone","bindPhoneItem"],methods:{bindPhoneCheck:function(){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);if(!/\d+/.test(this.bindMyCode))return void window.dialog.show("error","请输入正确的验证码",1);dialog.show("loading","手机绑定中...");var t=this,e=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,time:this.bindTime},!1,HTTP_USER_STATIC+"checkcode");SDW_WEB.getAjaxData(e,function(e){if(1==e.result){var n=t.bindMyPhone.substring(0,3)+"****"+t.bindMyPhone.substring(7);e.myPhoneStr=n,t.$emit("bind-callback",e)}else dialog.show("error",e.msg,1)})},getBindCode:function(){var t=this;if(!(this.bindStartTimer>0)){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);var e=+new Date,n=+new Date,i=faultylabs.MD5(SDW_WEB.channel+SDW_WEB.USER_INFO.uid+e+this.bindMyPhone+n+SDW_WEB.USER_INFO.otoken),o=HTTP_USER_STATIC+"getcode?channel="+SDW_WEB.channel+"&token="+i+"&uid="+SDW_WEB.USER_INFO.uid+"&sec="+e+"&phone="+this.bindMyPhone+"&time="+n;dialog.show("loading","验证码获取中..."),$.ajax({type:"GET",url:o,dataType:"jsonp",jsonp:"cb",timeout:18e5,jsonpCallback:"callFn"+ +new Date+(65536*(1+Math.random())|0).toString(16).substring(1),success:function(e,n){1==e.result?(dialog.show("ok","验证码已发送",1),t.bindTime=e.time,t.bindStartTimer=60,t.bindTimer=setInterval(function(){t.bindStartTimer<=1?(clearInterval(t.bindTimer),t.bindStartTimer=0,t.bindMsg="获取验证码",t.bindTimer=null):t.bindMsg=t.bindStartTimer--+"秒后获取"},1e3)):dialog.show("error",e.msg,1)},error:function(t,e){}})}},transCoins:function(t){var e,n;return t<1e4?t:t<1e8?(e=t/1e4>>0,n=t%1e4+"",0==n?e+"万":e+"."+n[0]+"万"):t<1e10?(e=t/1e8>>0,n=t%1e8+"",0==n?e+"亿":e+"."+n[0]+"亿"):void 0},bindPhoneCheck:function(){}},computed:{show:function(){return this.showBindPhone||0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"game-item",data:function(){return{msg:"i am compB!"}},props:["gameItem","showMore"],methods:{transDate:function(t){var e=+new Date,n=new Date(t),i=e-t,o=(n.getFullYear(),n.getMonth()+1),a=n.getDate();return i<864e5?i<36e5?i<1e4?"刚刚玩过":i<6e4?(i/1e3>>0)+"秒前玩过":(i/6e4>>0)+"分钟前玩过":(i/36e5>>0)+"小时前玩过":(o<10&&(o="0"+o),a<10&&(a="0"+a),o+"."+a+"玩过")},checkAuth:function(t,e){this.$emit("tap-game",t,e)},transformQuantity:function(t){if(t<1e4)return t;if(t<1e8){var e=(t/1e4).toFixed(1).split(".");return"0"==e[1]?e[0]+"万":e[0]+"."+e[1]+"万"}if(t<1e10){var e=(t/1e8).toFixed(1).split(".");return"0"==e[1]?e[0]+"亿":e[0]+"."+e[1]+"亿"}}},computed:{starLists:function(){var t=Math.max(0,this.gameItem.star>>0);t=Math.min(10,t);var e,n=[],i=t/2>>0,o=t%2;for(e=0;e<i;e++)n.push("star2");for(1==o&&(n.push("star1"),i++),e=i;e<5;e++)n.push("star0");return n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkUserLogin:function(){return SDW_WEB.USER_INFO.uid},checkNavState:function(t){var e={0:"index/?",1:"rank/?",2:"task/?",3:"home/?"};if(this.index==t.index);else{var n=t.index;if(0!=n&&null==SDW_WEB.USER_INFO.uid)return void this.$emit("show-login",n);location.href=SDW_WEB.MOBILE_ROOT+e[""+n]+SDW_WEB.URLS.spliceParam()}}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var t=parseInt(this.index)||0,e=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],i=[],o=0;o<e.length;o++){var a={};a.title=e[o],a.icon=n[o],a.select=o==t,a.select&&(a.icon+=" icon-select"),i.push(a)}return i}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-list-item",on:{click:function(e){e.stopPropagation(),t.checkAuth("detail",t.gameItem.id)}}},[n("div",{staticClass:"game-cover-info"},[n("img",{staticClass:"game-list-cover",attrs:{"data-src":t.gameItem.cover,"data-loaded":"0"}}),t._v(" "),n("div",{staticClass:"game-title"},[t._v(t._s(t.gameItem.title))])]),t._v(" "),t.showMore?[n("div",{staticClass:"tag-list"},t._l(t.gameItem.tags,function(t){return n("i",{staticClass:"tags",class:t})}))]:[n("div",{staticClass:"game-play-time"},[t._v(t._s(t.transDate(t.gameItem.time)))])],t._v(" "),n("div",{staticClass:"game-more-info"},[t.showMore?[n("div",{staticClass:"game-info"},[n("span",{staticClass:"star-list"},t._l(t.starLists,function(t,e){return n("i",{class:t})})),t._v(" "),n("span",{staticClass:"light-num"},[t._v(t._s(t.transformQuantity(t.gameItem.quantity)))]),t._v("人在玩\n            ")]),t._v(" "),n("div",{staticClass:"game-desc"},[t._v(t._s(t.gameItem.desc))])]:t._e(),t._v(" "),t.showMore?n("div",{staticClass:"game-btn",on:{click:function(e){e.target===e.currentTarget&&(e.stopPropagation(),t.checkAuth("play",t.gameItem.id))}}},[t._v("开玩")]):t._e(),t._v(" "),t.showMore?t._e():n("div",{staticClass:"game-btn larger",on:{click:function(e){e.target===e.currentTarget&&(e.stopPropagation(),t.checkAuth("play",t.gameItem.id))}}},[t._v("开玩")])],2)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.navList.length&&!t.onShandw?n("div",{class:t.footerClass},t._l(t.navList,function(e,i){return n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:t.checkNavState,item:e,index:i},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:e.icon}),t._v(" "),e.select?t._e():n("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),e.select?n("i",{staticClass:"light"}):t._e()])})):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"bind-phone-info-container"},[t.show?n("div",{staticClass:"mask",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&(t.showBindPhone=0)}}}):t._e(),t._v(" "),n("transition",{attrs:{name:"fade2"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"bind-phone-infos"},[n("div",{staticClass:"bind-phone-name"},[t._v(t._s(t.bindPhoneItem.title))]),t._v(" "),n("div",{staticClass:"bind-phone-gift"},[t._v("奖励"),n("span",{staticClass:"conts-i"},[t._v(t._s(t.transCoins(t.bindPhoneItem.coin)))])]),t._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bindMyPhone,expression:"bindMyPhone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:t._s(t.bindMyPhone)},on:{input:function(e){e.target.composing||(t.bindMyPhone=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.bindMyCode,expression:"bindMyCode"}],attrs:{type:"tel",placeholder:"请输入验证码","data-module":"80%"},domProps:{value:t._s(t.bindMyCode)},on:{input:function(e){e.target.composing||(t.bindMyCode=e.target.value)}}}),t._v(" "),n("div",{staticClass:"get-code",class:t.bindTimer?"":"normal-code",attrs:{id:"bindCode"},on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.getBindCode()}}},[t._v("\n                    "+t._s(t.bindMsg)+"\n                ")])]),t._v(" "),n("section",{staticClass:"login-btn-v3",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.bindPhoneCheck()}}},[t._v("绑"),n("span",{staticStyle:{width:"20px"}}),t._v("定\n            ")])])])],1)},staticRenderFns:[]}},function(t,e,n){function i(t){for(var e=0,n=t.length;e<n;e++)t[e].getBoundingClientRect().top<document.documentElement.clientHeight&&!t[e].isLoad&&(t[e].isLoad=!0,t[e].dataset.loaded="1",t[e].style.cssText="transition: ''; opacity: 0;",o(t[e],t[e].dataset.src))}function o(t,e){if(e){var n=new Image;n.onload=function(){t.src=n.src,t.style.cssText="transition: 1s; opacity: 1;";var e=t.parentNode;e&&e.classList.contains("game-cover-info")&&(e.style.transition=".4s",e.style.background="rgba(0,0,0,0)")},n.src=e}}n(2);var a=n(5),s=n(6),r=n(4);n(3);var c={onShandw:SDW_WEB.onShandw,bindPhoneItem:{},SCROLL_HEIGHT:document.documentElement.clientHeight,item:{name:"测试"},user:{avatar:"",uid:"",nick:"",phone:""},gameList:[]},l={bindPhoneCallback:function(t){dialog.hidden(),this.user.phone=t.myPhoneStr},getMyData:function(){var t=this,e=(+new Date,SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,sec:SDW_WEB.USER_INFO.secheme,token:SDW_WEB.USER_INFO.token,type:1,page:0},!1,HTTP_STATIC+"userinfo"));SDW_WEB.getAjaxData(e,function(e){if(1==e.result){var n,i=e.recent||[],o=[];for(n=0;n<i.length;n++){var a=i[n];o.push({id:a.id,cover:a.bIcon,title:a.name,time:a.time})}t.gameList=o;var s=e.info;t.user.avatar=s.avatar,t.user.uid=s.id,t.user.nick=s.nick,t.user.phone=s.phone||"",t.user.sex=s.sex,t.$nextTick(function(){setTimeout(function(){m.runCallback()},200)})}})},gotoCollect:function(){location.href="https://www.shandw.com/mobile/collect.html?channel="+SDW_WEB.channel},checkMyPhone:function(){this.user.phone||(this.$refs.binPhone.showBindPhone=1)},checkGameSate:function(t,e){var n,i={gid:e,channel:SDW_WEB.channel};n="play"==t?SDW_WEB.MOBILE_ROOT+"game/":"https://www.shandw.com/mobile/details.html",location.href=SDW_WEB.URLS.addParam(i,!1,n)}},d=new Vue({el:"#app",data:c,methods:l,components:{gameItem:a,sdwFooter:s,bindPhone:r}}),u=n(1),m=new u(function(){i(document.querySelectorAll('img[data-loaded="0"]'))});m.runCallback();new u(function(){},!0);SDW_WEB.onShandw?SDW_WEB.sdw&&SDW_WEB.sdw.getUserInfo({success:function(t){SDW_WEB.USER_INFO=t,d.getMyData()},fail:function(t){alert(t.msg)}}):d.getMyData()}]);