!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){e.exports=function(e,t,n,i){var o,a=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,a=e.default);var r="function"==typeof a?a.options:a;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),i){var c=r.computed||(r.computed={});Object.keys(i).forEach(function(e){var t=i[e];c[e]=function(){return t}})}return{esModule:o,exports:a,options:r}}},function(e,t){function n(e,t,n,i){return"function"!=typeof e?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=t||!1,this.enable=!0,this.callback=e||null,this.delayTime=n||200,this.offset=i||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var e=this;e.timer=null,e.callback&&window.addEventListener("scroll",function(t){if(e.enable){var n=document.body.scrollTop+e.clientHeigth,i=document.documentElement.scrollHeight-e.offset,o=n>=i,a=1==e.toBottom&&o||0==e.toBottom;a&&!e.timer&&(e.timer=setTimeout(function(){e.callback(t),e.timer=null},e.delayTime))}},!1)},n.prototype.setCallback=function(e){"function"==typeof e?self.callback=e:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},e.exports=n},function(e,t){},function(e,t){},function(e,t,n){n(12);var i=n(0)(n(7),n(15),null,null);e.exports=i.exports},function(e,t,n){n(10);var i=n(0)(n(8),n(13),null,null);e.exports=i.exports},function(e,t,n){n(11);var i=n(0)(n(9),n(14),null,null);e.exports=i.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bind-phone",data:function(){return{bindMyPhone:"",bindMyCode:"",bindTimer:null,bindMsg:"获取验证码",bindStartTimer:0}},props:["showbind","bindPhoneItem"],methods:{bindPhoneCheck:function(){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);if(!/\d+/.test(this.bindMyCode))return void window.dialog.show("error","请输入正确的验证码",1);dialog.show("loading","手机绑定中...");var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.MD5(""+SDW_WEB.channel+SDW_WEB.USER_INFO.uid+SDW_WEB.USER_INFO.secheme+e.bindTime+e.bindMyCode),sec:SDW_WEB.USER_INFO.secheme,time:e.bindTime},!1,HTTP_USER_STATIC+"checkcode");SDW_WEB.getAjaxData(t,function(t){if(1==t.result){var n=e.bindMyPhone.substring(0,3)+"****"+e.bindMyPhone.substring(7);t.myPhoneStr=n,dialog.show("ok","手机绑定成功",1),e.$emit("bind-callback",t)}else dialog.show("error",t.msg,1)})},getBindCode:function(){var e=this;if(!(this.bindStartTimer>0)){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);var t=+new Date,n=+new Date,i=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.MD5(""+SDW_WEB.channel+SDW_WEB.USER_INFO.uid+t+this.bindMyPhone+n+SDW_WEB.USER_INFO.otoken),phone:this.bindMyPhone,sec:t,time:n},!1,HTTP_USER_STATIC+"getcode");dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(i,function(t){1==t.result?(dialog.show("ok","验证码已发送",1),e.bindTime=t.time,e.bindStartTimer=60,e.bindTimer=setInterval(function(){e.bindStartTimer<=1?(clearInterval(e.bindTimer),e.bindStartTimer=0,e.bindMsg="获取验证码",e.bindTimer=null):e.bindMsg=e.bindStartTimer--+"秒后获取"},1e3)):dialog.show("error",t.msg,1)})}},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0}},computed:{show:function(){return this.showbind||0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"game-item",data:function(){return{msg:"i am compB!"}},props:["gameItem","showMore"],methods:{transDate:function(e){var t=+new Date,n=new Date(e),i=t-e,o=(n.getFullYear(),n.getMonth()+1),a=n.getDate();return i<864e5?i<36e5?i<1e4?"刚刚玩过":i<6e4?(i/1e3>>0)+"秒前玩过":(i/6e4>>0)+"分钟前玩过":(i/36e5>>0)+"小时前玩过":(o<10&&(o="0"+o),a<10&&(a="0"+a),o+"."+a+"玩过")},checkAuth:function(e,t){this.$emit("tap-game",e,t)},transformQuantity:function(e){if(e<1e4)return e;if(e<1e8){var t=(e/1e4).toFixed(1).split(".");return"0"==t[1]?t[0]+"万":t[0]+"."+t[1]+"万"}if(e<1e10){var t=(e/1e8).toFixed(1).split(".");return"0"==t[1]?t[0]+"亿":t[0]+"."+t[1]+"亿"}}},computed:{starLists:function(){var e=Math.max(0,this.gameItem.star>>0);e=Math.min(10,e);var t,n=[],i=e/2>>0,o=e%2;for(t=0;t<i;t++)n.push("star2");for(1==o&&(n.push("star1"),i++),t=i;t<5;t++)n.push("star0");return n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkNavState:function(e){var t={0:"index/?",1:"rank/?",2:"task/?",3:"home/?"};if(this.index==e.index);else{var n=e.index;if(0!=n&&!SDW_WEB.USER_INFO.uid)return void this.$emit("show-login",n);location.href=SDW_WEB.MOBILE_ROOT+t[""+n]+SDW_WEB.URLS.spliceParam()}}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var e=parseInt(this.index)||0,t=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],i=[],o=0;o<t.length;o++){var a={};a.title=t[o],a.icon=n[o],a.select=o==e,a.select&&(a.icon+=" icon-select"),i.push(a)}return i}}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-list-item",on:{click:function(t){t.stopPropagation(),e.checkAuth("detail",e.gameItem.id)}}},[n("div",{staticClass:"game-cover-info"},[n("img",{staticClass:"game-list-cover",attrs:{"data-src":e.gameItem.cover,"data-loaded":"0"}}),e._v(" "),n("div",{staticClass:"game-title"},[e._v(e._s(e.gameItem.title))])]),e._v(" "),e.showMore?[n("div",{staticClass:"tag-list"},e._l(e.gameItem.tags,function(e){return n("i",{staticClass:"tags",class:e})}))]:[n("div",{staticClass:"game-play-time"},[e._v(e._s(e.transDate(e.gameItem.time)))])],e._v(" "),n("div",{staticClass:"game-more-info"},[e.showMore?[n("div",{staticClass:"game-info"},[n("span",{staticClass:"star-list"},e._l(e.starLists,function(e,t){return n("i",{class:e})})),e._v(" "),n("span",{staticClass:"light-num"},[e._v(e._s(e.transformQuantity(e.gameItem.quantity)))]),e._v("人在玩\n            ")]),e._v(" "),n("div",{staticClass:"game-desc"},[e._v(e._s(e.gameItem.desc))])]:e._e(),e._v(" "),e.showMore?n("div",{staticClass:"game-btn",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")]):e._e(),e._v(" "),e.showMore?e._e():n("div",{staticClass:"game-btn larger",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")])],2)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.navList.length&&!e.onShandw?n("div",{class:e.footerClass},e._l(e.navList,function(t,i){return n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:e.checkNavState,item:t,index:i},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:t.icon}),e._v(" "),t.select?e._e():n("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),t.select?n("i",{staticClass:"light"}):e._e()])})):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-info-container"},[e.show?n("div",{staticClass:"mask",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&(e.showbind=0)}}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade2"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-infos"},[n("div",{staticClass:"bind-phone-name"},[e._v(e._s(e.bindPhoneItem.title))]),e._v(" "),n("div",{staticClass:"bind-phone-gift"},[e._v("奖励"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.bindPhoneItem.coin)))])]),e._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyPhone,expression:"bindMyPhone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:e._s(e.bindMyPhone)},on:{input:function(t){t.target.composing||(e.bindMyPhone=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyCode,expression:"bindMyCode"}],attrs:{type:"tel",placeholder:"请输入验证码","data-module":"80%"},domProps:{value:e._s(e.bindMyCode)},on:{input:function(t){t.target.composing||(e.bindMyCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"get-code",class:e.bindTimer?"":"normal-code",attrs:{id:"bindCode"},on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.getBindCode()}}},[e._v("\n                    "+e._s(e.bindMsg)+"\n                ")])]),e._v(" "),n("section",{staticClass:"login-btn-v3",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.bindPhoneCheck()}}},[e._v("绑"),n("span",{staticStyle:{width:"20px"}}),e._v("定\n            ")])])])],1)},staticRenderFns:[]}},function(e,t,n){function i(e){for(var t=0,n=e.length;t<n;t++)e[t].getBoundingClientRect().top<document.documentElement.clientHeight&&!e[t].isLoad&&(e[t].isLoad=!0,e[t].dataset.loaded="1",e[t].style.cssText="transition: ''; opacity: 0;",o(e[t],e[t].dataset.src))}function o(e,t){if(t){var n=new Image;n.onload=function(){e.src=n.src,e.style.cssText="transition: 1s; opacity: 1;";var t=e.parentNode;t&&t.classList.contains("game-cover-info")&&(t.style.transition=".4s",t.style.background="rgba(0,0,0,0)")},n.src=t}}n(2);var a=n(5),s=n(6),r=n(4);n(3);var c={onShandw:SDW_WEB.onShandw,bindPhoneItem:{},SCROLL_HEIGHT:document.documentElement.clientHeight,item:{name:"测试"},user:{avatar:"",uid:"",nick:"",phone:""},gameList:[]},l={gotoMySet:function(){var e={channel:SDW_WEB.channel},t=SDW_WEB.MOBILE_ROOT+"myset/",n=SDW_WEB.URLS.addParam(e,!1,t);SDW_WEB.openNewWindow({link:n,isFullScreen:!1,showMoreBtn:!1,title:""})},refreshUser:function(){SDW_WEB.onShandw&&(alert("ok"),SDW_WEB.sdw.openLogin())},clearAppCache:function(){SDW_WEB.onShandw&&(SDW_WEB.sdw.clearAPPCache(),dialog.show("ok","clear",1))},bindPhoneCallback:function(e){dialog.hidden(),this.user.phone=e.myPhoneStr},getMyData:function(){var e=this,t=(+new Date,SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,sec:SDW_WEB.USER_INFO.secheme,token:SDW_WEB.USER_INFO.token,type:1,page:0},!1,HTTP_STATIC+"userinfo"));SDW_WEB.getAjaxData(t,function(t){if(1==t.result){var n,i=t.recent||[],o=[];for(n=0;n<i.length;n++){var a=i[n];o.push({id:a.id,cover:a.bIcon,title:a.name,time:a.time})}e.gameList=o;var s=t.info;e.user.avatar=s.avatar,e.user.uid=s.id,e.user.nick=s.nick,e.user.phone=s.phone||"",e.user.sex=s.sex,e.$nextTick(function(){setTimeout(function(){h.runCallback()},200)})}})},gotoCollect:function(){location.href="https://www.shandw.com/mobile/collect.html?channel="+SDW_WEB.channel},checkMyPhone:function(){this.user.phone||(this.$refs.binPhone.showbind=1)},checkGameSate:function(e,t){var n=SDW_WEB.USER_INFO.uid,i={gid:t,channel:SDW_WEB.channel},o="play"==e?SDW_WEB.MOBILE_ROOT+"game/":SDW_WEB.MOBILE_ROOT+"detail/",a=SDW_WEB.URLS.addParam(i,!1,o);"play"==e?n?SDW_WEB.openNewWindow({link:a,isFullScreen:!1,showMoreBtn:!0,title:""}):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage():SDW_WEB.openNewWindow({link:a,isFullScreen:!1,title:""})}},d=new Vue({el:"#app",data:c,methods:l,components:{gameItem:a,sdwFooter:s,bindPhone:r}}),u=n(1),h=new u(function(){i(document.querySelectorAll('img[data-loaded="0"]'))});h.runCallback();new u(function(){},!0);SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(){d.getMyData()}):d.getMyData()}]);