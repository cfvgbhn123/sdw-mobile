!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=12)}([function(t,e){t.exports=function(t,e,n,o){var i,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,a=t.default);var r="function"==typeof a?a.options:a;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),n&&(r._scopeId=n),o){var c=r.computed||(r.computed={});Object.keys(o).forEach(function(t){var e=o[t];c[t]=function(){return e}})}return{esModule:i,exports:a,options:r}}},function(t,e){function n(t,e,n,o){return"function"!=typeof t?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=e||!1,this.enable=!0,this.callback=t||null,this.delayTime=n||200,this.offset=o||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var t=this;t.timer=null,t.callback&&window.addEventListener("scroll",function(e){if(t.enable){var n=document.body.scrollTop+t.clientHeigth,o=document.documentElement.scrollHeight-t.offset,i=n>=o,a=1==t.toBottom&&i||0==t.toBottom;a&&!t.timer&&(t.timer=setTimeout(function(){t.callback(e),t.timer=null},t.delayTime))}},!1)},n.prototype.setCallback=function(t){"function"==typeof t?self.callback=t:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},t.exports=n},function(t,e){},function(t,e){},function(t,e,n){n(9);var o=n(0)(n(6),n(11),null,null);t.exports=o.exports},function(t,e,n){n(8);var o=n(0)(n(7),n(10),null,null);t.exports=o.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"gift-item",data:function(){return{}},props:["giftItem"],methods:{},computed:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"fast-login",data:function(){return{maskType:SDW_WEB.onIOS?"ios-mask":"and-mask",loginFlagV2:1,phoneLoginData:{getCodeFlag:!1,phoneNum:"",phoneCode:"",RES_TIME:"",timerHand:null,message:"获取验证码"},tapTimer:null}},props:["show"],methods:{forbidScroll:function(t){t.preventDefault()},timers:function(){var t=this,e=60,n=document.querySelector("#getCode-v-2");n.className="codetimer",t.codeMessage=e--+"秒后获取",t.timerHand=setInterval(function(){e<=0?(clearInterval(t.timerHand),n.className="codenormal",t.phoneLoginData.message="获取验证码",t.phoneLoginData.getCodeFlag=!1):t.phoneLoginData.message=e--+"秒后获取"},1e3)},chooseLoginType:function(){},getPhoneCode:function(){var t=this,e=this.phoneLoginData,n=SDW_WEB.channel;if(!e.getCodeFlag)if(/^1\d{10}$/.test(e.phoneNum)){e.getCodeFlag=!0;var o=+new Date/1e3>>0,i=(new Date).Format("yyyyMMdd"),a=SDW_WEB.MD5("SDW"+i+n+SDW_WEB.guid+e.phoneNum+o),s=HTTP_USER_STATIC+"telcode?channel="+n+"&phone="+e.phoneNum+"&time="+o+"&sign="+a;dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(s,function(n){1==n.result?(e.RES_TIME=n.time,e.getCodeFlag=!0,t.timers(),dialog.show("ok","验证码已发送",1),document.querySelector(".short").focus()):(e.getCodeFlag=!1,dialog.show("error",n.msg,1))},!1)}else dialog.show("error","请输入正确的手机号",1)},phoneLogin:function(t){var e=this,n=this.phoneLoginData,o=SDW_WEB.channel;if(/^1\d{10}$/.test(n.phoneNum))if(/^\d+$/.test(n.phoneCode)){var i=t?"&vst=1&vsttoken="+visitorMode.visitorToken:"",a=HTTP_USER_STATIC+"telcheck?channel="+o+"&phone="+n.phoneNum+"&time="+n.RES_TIME+"&sign="+SDW_WEB.MD5(o+SDW_WEB.guid+n.phoneNum+n.RES_TIME+n.phoneCode)+i;dialog.show("loading","登录中..."),SDW_WEB.getAjaxData(a,function(t){if(1==t.result){var n={uid:t.id,otoken:t.token,nick:t.nick,sex:t.sex,avatar:t.avatar,city:t.city,fl:t.fl};SDW_WEB.Store.set(SDW_WEB.localItem,n,!0),localStorage.setItem(window.DATAITEM,JSON.stringify(n)),dialog.show("ok","登录成功",1),n.secheme=+new Date,n.token=SDW_WEB.MD5(""+SDW_WEB.channel+n.uid+n.secheme+n.otoken),SDW_WEB.USER_INFO=n,e.$emit("login-ok"),e.show=0}else dialog.show("error",t.msg,1)},!1)}else dialog.show("error","请输入正确的验证码",1);else dialog.show("error","请输入正确的手机号",1)}},computed:{showLogin:function(){return this.show||!1}}}},function(t,e){},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showLogin?n("div",{staticClass:"login-container"},[n("div",{staticClass:"mask-v2",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&(t.show=0)}}}),t._v(" "),n("i",{staticClass:"sdw-logo-v2"}),t._v(" "),n("div",{staticClass:"forms",attrs:{id:"loginForm-v2"}},[n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 phone"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneLoginData.phoneNum,expression:"phoneLoginData.phoneNum"}],staticClass:"long",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:t._s(t.phoneLoginData.phoneNum)},on:{input:function(e){e.target.composing||(t.phoneLoginData.phoneNum=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 code"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneLoginData.phoneCode,expression:"phoneLoginData.phoneCode"}],staticClass:"short",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:t._s(t.phoneLoginData.phoneCode)},on:{input:function(e){e.target.composing||(t.phoneLoginData.phoneCode=e.target.value)}}}),t._v(" "),n("div",{staticClass:"codenormal",attrs:{id:"getCode-v-2"},on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.getPhoneCode()}}},[t._v(t._s(t.phoneLoginData.message)+"\n            ")])]),t._v(" "),n("div",{staticClass:"login-btn-v2",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.phoneLogin(0)}}},[t._v("登"),n("span",{staticStyle:{width:"50px"}}),t._v("录")])])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gift-item"},[n("div",{staticClass:"gift-container-info"},[n("div",{staticClass:"gift-title"},[t._v(t._s(t.giftItem.name))]),t._v(" "),n("div",{staticClass:"gift-desc"},[t._v(t._s(t.giftItem.info))]),t._v(" "),t._t("gift-line")],2),t._v(" "),t._t("gift-btn")],2)},staticRenderFns:[]}},function(t,e,n){function o(){var t=document.querySelectorAll('img[data-loaded="0"]');i(t)}function i(t){for(var e=0,n=t.length;e<n;e++)t[e].getBoundingClientRect().top<document.documentElement.clientHeight&&!t[e].isLoad&&(t[e].isLoad=!0,t[e].dataset.loaded="1",t[e].style.cssText="transition: ''; opacity: 0;",a(t[e],t[e].dataset.src))}function a(t,e){if(e){var n=new Image;n.onload=function(){t.src=n.src,t.style.cssText="transition: 1s; opacity: 1;";var e=t.parentNode;e&&e.classList.contains("game-cover-info")&&(e.style.transition=".4s",e.style.background="rgba(0,0,0,0)")},n.src=e}}var s=n(4),r=n(5);n(2),n(3);var c=new Vue({el:"#app",data:{user:{avatar:"",uid:"",nick:"",phone:null},showGift:0,detail:{cover:"",icon:"",title:"",info:"",desc:"",type:"",star:["star0","star0","star0","star0","star0"],quantity:0},giftLists:[],giftCode:"",banners:[],onShandw:SDW_WEB.onShandw},methods:{loadDetailData:function(){var t=this,e=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,gid:SDW_WEB.queryParam.gid},!1,HTTP_STATIC+"gameinfo");SDW_WEB.getAjaxData(e,function(e){var n=e.info;t.detail.cover=n.bg,t.detail.icon=n.icon,t.detail.title=n.name,t.detail.desc=n.sub,t.detail.info=n.info,t.detail.type=n.type,t.detail.star=t.starLists(n.vStar),t.detail.quantity=n.vPv,document.title=n.name,t.banners=n.img,e.gift=e.gift||[];for(var i=[],a=0;a<e.gift.length;a++){var s=e.gift[a];s._hasGet=0,i.push(s)}t.giftLists=i,t.$nextTick(function(){o()})})},computedQuantity:function(t){return t.num/t.count*100>>0},checkGiftState:function(t){var e=this;if(!SDW_WEB.USER_INFO.uid)return void(this.$refs.login.show=1);if(t._hasGet)this.showGift=1,this.giftCode=t.code;else{dialog.show("loading","礼包领取中");var n=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,uid:SDW_WEB.USER_INFO.uid,gid:SDW_WEB.queryParam.gid,id:t.id},!1,HTTP_STATIC+"getgift");SDW_WEB.getAjaxData(n,function(n){1==n.result?(t._hasGet=1,e.showGift=1,t.code=n.code,e.giftCode=n.code,dialog.show("ok","礼包领取成功",1)):dialog.show("error",n.msg,1)})}},checkGameSate:function(){if(SDW_WEB.USER_INFO.uid){var t,e={gid:SDW_WEB.queryParam.gid,channel:SDW_WEB.channel};t=SDW_WEB.MOBILE_ROOT+"game/";var n=SDW_WEB.URLS.addParam(e,!1,t);SDW_WEB.openNewWindow({link:n,isFullScreen:!1,showMoreBtn:!0,title:""})}else SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.$refs.login.show=1},transformQuantity:function(t){if(t<1e4)return t;if(t<1e8){var e=(t/1e4).toFixed(1).split(".");return"0"==e[1]?e[0]+"万":e[0]+"."+e[1]+"万"}if(t<1e10){var e=(t/1e8).toFixed(1).split(".");return"0"==e[1]?e[0]+"亿":e[0]+"."+e[1]+"亿"}},starLists:function(t){var e=Math.max(0,t>>0);e=Math.min(10,e);var n,o=[],i=e/2>>0,a=e%2;for(n=0;n<i;n++)o.push("star2");for(1==a&&(o.push("star1"),i++),n=i;n<5;n++)o.push("star0");return o}},components:{giftItem:s,fastLogin:r}}),l=n(1);new l(o);SDW_WEB.onShandw&&SDW_WEB.getSdwUserData().then(function(t){}),SDW_WEB.queryParam.gid&&c.loadDetailData()}]);