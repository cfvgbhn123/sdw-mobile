!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=39)}([,function(e,t){e.exports=function(e,t,n,a){var o,i=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,i=e.default);var r="function"==typeof i?i.options:i;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),a){var c=r.computed||(r.computed={});Object.keys(a).forEach(function(e){var t=a[e];c[e]=function(){return t}})}return{esModule:o,exports:i,options:r}}},,function(e,t){function n(e,t,n,a){return"function"!=typeof e?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=t||!1,this.enable=!0,this.callback=e||null,this.delayTime=n||200,this.offset=a||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var e=this;e.timer=null,e.callback&&window.addEventListener("scroll",function(t){if(e.enable){var n=document.body.scrollTop+e.clientHeigth,a=document.documentElement.scrollHeight-e.offset,o=n>=a,i=1==e.toBottom&&o||0==e.toBottom;i&&!e.timer&&(e.timer=setTimeout(function(){e.callback(t),e.timer=null},e.delayTime))}},!1)},n.prototype.setCallback=function(e){"function"==typeof e?self.callback=e:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},e.exports=n},function(e,t){},function(e,t){},,function(e,t,n){n(23);var a=n(1)(n(14),n(35),null,null);e.exports=a.exports},function(e,t,n){n(25);var a=n(1)(n(15),n(37),null,null);e.exports=a.exports},function(e,t,n){n(24);var a=n(1)(n(16),n(36),null,null);e.exports=a.exports},function(e,t,n){n(21);var a=n(1)(n(17),n(33),null,null);e.exports=a.exports},function(e,t,n){n(20);var a=n(1)(n(18),n(32),null,null);e.exports=a.exports},function(e,t,n){n(22);var a=n(1)(n(19),n(34),null,null);e.exports=a.exports},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bind-phone",data:function(){return{bindMyPhone:"",bindMyCode:"",bindTimer:null,bindMsg:"获取验证码",bindStartTimer:0}},props:["showBindPhone","bindPhoneItem"],methods:{bindPhoneCheck:function(){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);if(!/\d+/.test(this.bindMyCode))return void window.dialog.show("error","请输入正确的验证码",1);dialog.show("loading","手机绑定中...");var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,time:this.bindTime},!1,HTTP_USER_STATIC+"checkcode");SDW_WEB.getAjaxData(t,function(t){if(1==t.result){var n=e.bindMyPhone.substring(0,3)+"****"+e.bindMyPhone.substring(7);t.myPhoneStr=n,e.$emit("bind-callback",t)}else dialog.show("error",t.msg,1)})},getBindCode:function(){var e=this;if(!(this.bindStartTimer>0)){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);var t=+new Date,n=+new Date,a=faultylabs.MD5(SDW_WEB.channel+SDW_WEB.USER_INFO.uid+t+this.bindMyPhone+n+SDW_WEB.USER_INFO.otoken),o=HTTP_USER_STATIC+"getcode?channel="+SDW_WEB.channel+"&token="+a+"&uid="+SDW_WEB.USER_INFO.uid+"&sec="+t+"&phone="+this.bindMyPhone+"&time="+n;dialog.show("loading","验证码获取中..."),$.ajax({type:"GET",url:o,dataType:"jsonp",jsonp:"cb",timeout:18e5,jsonpCallback:"callFn"+ +new Date+(65536*(1+Math.random())|0).toString(16).substring(1),success:function(t,n){1==t.result?(dialog.show("ok","验证码已发送",1),e.bindTime=t.time,e.bindStartTimer=60,e.bindTimer=setInterval(function(){e.bindStartTimer<=1?(clearInterval(e.bindTimer),e.bindStartTimer=0,e.bindMsg="获取验证码",e.bindTimer=null):e.bindMsg=e.bindStartTimer--+"秒后获取"},1e3)):dialog.show("error",t.msg,1)},error:function(e,t){}})}},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},bindPhoneCheck:function(){}},computed:{show:function(){return this.showBindPhone||0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"game-item",data:function(){return{msg:"i am compB!"}},props:["gameItem","showMore"],methods:{transDate:function(e){var t=+new Date,n=new Date(e),a=t-e,o=(n.getFullYear(),n.getMonth()+1),i=n.getDate();return a<864e5?a<36e5?a<1e4?"刚刚玩过":a<6e4?(a/1e3>>0)+"秒前玩过":(a/6e4>>0)+"分钟前玩过":(a/36e5>>0)+"小时前玩过":(o<10&&(o="0"+o),i<10&&(i="0"+i),o+"."+i+"玩过")},checkAuth:function(e,t){this.$emit("tap-game",e,t)},transformQuantity:function(e){if(e<1e4)return e;if(e<1e8){var t=(e/1e4).toFixed(1).split(".");return"0"==t[1]?t[0]+"万":t[0]+"."+t[1]+"万"}if(e<1e10){var t=(e/1e8).toFixed(1).split(".");return"0"==t[1]?t[0]+"亿":t[0]+"."+t[1]+"亿"}}},computed:{starLists:function(){var e=Math.max(0,this.gameItem.star>>0);e=Math.min(10,e);var t,n=[],a=e/2>>0,o=e%2;for(t=0;t<a;t++)n.push("star2");for(1==o&&(n.push("star1"),a++),t=a;t<5;t++)n.push("star0");return n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-item",data:function(){return{}},methods:{},computed:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fast-login",data:function(){return{loginFlagV2:1,phoneLoginData:{getCodeFlag:!1,phoneNum:"",phoneCode:"",RES_TIME:"",timerHand:null,message:"获取验证码"}}},props:["show"],methods:{timers:function(){var e=this,t=60,n=document.querySelector("#getCode-v-2");n.className="codetimer",e.codeMessage=t--+"秒后获取",e.timerHand=setInterval(function(){t<=0?(clearInterval(e.timerHand),n.className="codenormal",e.phoneLoginData.message="获取验证码",e.phoneLoginData.getCodeFlag=!1):e.phoneLoginData.message=t--+"秒后获取"},1e3)},chooseLoginType:function(){},getPhoneCode:function(){var e=this,t=this.phoneLoginData,n=SDW_WEB.channel;if(!t.getCodeFlag)if(/^1\d{10}$/.test(t.phoneNum)){t.getCodeFlag=!0;var a=+new Date/1e3>>0,o=(new Date).Format("yyyyMMdd"),i=SDW_WEB.MD5("SDW"+o+n+SDW_WEB.guid+t.phoneNum+a),s=HTTP_USER_STATIC+"telcode?channel="+n+"&phone="+t.phoneNum+"&time="+a+"&sign="+i;dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(s,function(n){1==n.result?(t.RES_TIME=n.time,t.getCodeFlag=!0,e.timers(),dialog.show("ok","验证码已发送",1),document.querySelector(".short").focus()):(t.getCodeFlag=!1,dialog.show("error",n.msg,1))},!1)}else dialog.show("error","请输入正确的手机号",1)},phoneLogin:function(e){var t=this,n=this.phoneLoginData,a=SDW_WEB.channel;if(/^1\d{10}$/.test(n.phoneNum))if(/^\d+$/.test(n.phoneCode)){var o=e?"&vst=1&vsttoken="+visitorMode.visitorToken:"",i=HTTP_USER_STATIC+"telcheck?channel="+a+"&phone="+n.phoneNum+"&time="+n.RES_TIME+"&sign="+SDW_WEB.MD5(a+SDW_WEB.guid+n.phoneNum+n.RES_TIME+n.phoneCode)+o;dialog.show("loading","登录中..."),SDW_WEB.getAjaxData(i,function(e){if(localStorage.setItem(window.DATAITEM,JSON.stringify(e)),1==e.result){var n={uid:e.id,otoken:e.token,nick:e.nick,sex:e.sex,avatar:e.avatar,city:e.city,fl:e.fl};SDW_WEB.Store.set(SDW_WEB.localItem,n,!0),n.secheme=+new Date,n.token=SDW_WEB.MD5(""+SDW_WEB.channel+n.uid+n.secheme+n.otoken),SDW_WEB.USER_INFO=n,dialog.show("loading","登录成功",1),t.$emit("login-ok")}else dialog.show("error",e.msg,1)},!1)}else dialog.show("error","请输入正确的验证码",1);else dialog.show("error","请输入正确的手机号",1)}},computed:{showLogin:function(){return this.show||!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkNavState:function(e){this.index==e.index||(0==e.index?location.href=SDW_WEB.MOBILE_ROOT+"index/?"+SDW_WEB.URLS.spliceParam():2==e.index?location.href=SDW_WEB.MOBILE_ROOT+"home/?"+SDW_WEB.URLS.spliceParam():1==e.index&&(location.href=SDW_WEB.MOBILE_ROOT+"task/?"+SDW_WEB.URLS.spliceParam()))}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var e=parseInt(this.index)||0,t=["首页","成就","我"],n=["icon icon-main","icon icon-task","icon icon-me"],a=[],o=0;o<3;o++){var i={};i.title=t[o],i.icon=n[o],i.select=o==e,i.select&&(i.icon+=" icon-select"),a.push(i)}return a}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkUserLogin:function(){return SDW_WEB.USER_INFO.uid},checkNavState:function(e){var t={0:"index/?",1:"rank/?",2:"task/?",3:"home/?"};if(this.index==e.index);else{var n=e.index;if(0!=n&&null==SDW_WEB.USER_INFO.uid)return void this.$emit("show-login",n);location.href=SDW_WEB.MOBILE_ROOT+t[""+n]+SDW_WEB.URLS.spliceParam()}}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var e=parseInt(this.index)||0,t=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],a=[],o=0;o<t.length;o++){var i={};i.title=t[o],i.icon=n[o],i.select=o==e,i.select&&(i.icon+=" icon-select"),a.push(i)}return a}}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.navList.length&&!e.onShandw?n("div",{class:e.footerClass},e._l(e.navList,function(t,a){return n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:e.checkNavState,item:t,index:a},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:t.icon}),e._v(" "),t.select?e._e():n("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),t.select?n("i",{staticClass:"light"}):e._e()])})):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showLogin?n("div",{staticClass:"login-container ios-mask"},[n("div",{staticClass:"mask-v2",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&(e.show=0)}}}),e._v(" "),n("i",{staticClass:"sdw-logo-v2"}),e._v(" "),n("div",{staticClass:"forms",attrs:{id:"loginForm-v2"}},[n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 phone"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneNum,expression:"phoneLoginData.phoneNum"}],staticClass:"long",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e._s(e.phoneLoginData.phoneNum)},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneNum=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 code"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneCode,expression:"phoneLoginData.phoneCode"}],staticClass:"short",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e._s(e.phoneLoginData.phoneCode)},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"codenormal",attrs:{id:"getCode-v-2"},on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.getPhoneCode()}}},[e._v(e._s(e.phoneLoginData.message)+"\n            ")])]),e._v(" "),n("div",{staticClass:"login-btn-v2",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.phoneLogin(0)}}},[e._v("登"),n("span",{staticStyle:{width:"50px"}}),e._v("录")])])]):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.navList.length&&!e.onShandw?n("div",{class:e.footerClass},e._l(e.navList,function(t,a){return n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:e.checkNavState,item:t,index:a},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:t.icon}),e._v(" "),t.select?e._e():n("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),t.select?n("i",{staticClass:"light"}):e._e()])})):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-info-container"},[e.show?n("div",{staticClass:"mask",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&(e.showBindPhone=0)}}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade2"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-infos"},[n("div",{staticClass:"bind-phone-name"},[e._v(e._s(e.bindPhoneItem.title))]),e._v(" "),n("div",{staticClass:"bind-phone-gift"},[e._v("奖励"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.bindPhoneItem.coin)))])]),e._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyPhone,expression:"bindMyPhone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:e._s(e.bindMyPhone)},on:{input:function(t){t.target.composing||(e.bindMyPhone=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyCode,expression:"bindMyCode"}],attrs:{type:"tel",placeholder:"请输入验证码","data-module":"80%"},domProps:{value:e._s(e.bindMyCode)},on:{input:function(t){t.target.composing||(e.bindMyCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"get-code",class:e.bindTimer?"":"normal-code",attrs:{id:"bindCode"},on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.getBindCode()}}},[e._v("\n                    "+e._s(e.bindMsg)+"\n                ")])]),e._v(" "),n("section",{staticClass:"login-btn-v3",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.bindPhoneCheck()}}},[e._v("绑"),n("span",{staticStyle:{width:"20px"}}),e._v("定\n            ")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c||t;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-container"},[n("div",{staticClass:"loading-more"},[n("i",{staticClass:"icon-loading"}),e._v(" "),n("span",{staticClass:"loading-text"},[e._v("努力加载中...")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-list-item",on:{click:function(t){t.stopPropagation(),e.checkAuth("detail",e.gameItem.id)}}},[n("div",{staticClass:"game-cover-info"},[n("img",{staticClass:"game-list-cover",attrs:{"data-src":e.gameItem.cover,"data-loaded":"0"}}),e._v(" "),n("div",{staticClass:"game-title"},[e._v(e._s(e.gameItem.title))])]),e._v(" "),e.showMore?[n("div",{staticClass:"tag-list"},e._l(e.gameItem.tags,function(e){return n("i",{staticClass:"tags",class:e})}))]:[n("div",{staticClass:"game-play-time"},[e._v(e._s(e.transDate(e.gameItem.time)))])],e._v(" "),n("div",{staticClass:"game-more-info"},[e.showMore?[n("div",{staticClass:"game-info"},[n("span",{staticClass:"star-list"},e._l(e.starLists,function(e,t){return n("i",{class:e})})),e._v(" "),n("span",{staticClass:"light-num"},[e._v(e._s(e.transformQuantity(e.gameItem.quantity)))]),e._v("人在玩\n            ")]),e._v(" "),n("div",{staticClass:"game-desc"},[e._v(e._s(e.gameItem.desc))])]:e._e(),e._v(" "),e.showMore?n("div",{staticClass:"game-btn",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")]):e._e(),e._v(" "),e.showMore?e._e():n("div",{staticClass:"game-btn larger",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")])],2)],2)},staticRenderFns:[]}},,function(e,t,n){function a(){var e=document.querySelectorAll('img[data-loaded="0"]');o(e)}function o(e,t){for(var n=0,a=e.length;n<a;n++)e[n].getBoundingClientRect().top<document.documentElement.clientHeight&&!e[n].isLoad&&(e[n].isLoad=!0,e[n].dataset.loaded="1",!t&&(e[n].style.cssText="transition: ''; opacity: 0;"),i(e[n],e[n].dataset.src,t))}function i(e,t,n){function a(e,t){return e.classList.contains(t)}if(t){var o=new Image;o.onload=function(){e.src=o.src,!n&&(e.style.cssText="transition: 1s; opacity: 1;");var t=e.parentNode;t&&(a(t,"game-cover-info")||a(t,"recommend-list"))&&(t.style.transition=".4s",t.style.background="rgba(0,0,0,0)")},o.src=t}}var s=n(8);if("10041"==SDW_WEB.channel)var r=n(11);else var r=n(12);var c=n(9),l=n(7),d=n(10);n(5),n(4);var u={__footIndex__:null,showTopNav:"10041"!=SDW_WEB.channel,onShandw:SDW_WEB.onShandw,bindPhoneItem:{},showEwmV2:0,user:{isLogin:0,gold:0,avatar:"",nick:"",phone:0},pageHasLoading:!1,hotGameList:[],newGameList:[],isShowHotGame:!0,hotGames:{isLoad:!1,page:0,hasMoreData:!0},newGames:{isLoad:!1,page:0,hasMoreData:!0},recommendList:[],bannerList:[]},h={showPhoneBindFn:function(){this.$refs.binPhone.showBindPhone=1},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},transDate:function(e){if(!e)return null;var t=+new Date,n=new Date(e),a=t-e,o=(n.getFullYear(),n.getMonth()+1),i=n.getDate();return a<864e5?a<36e5?a<1e4?"刚刚玩过":a<6e4?(a/1e3>>0)+"秒前":(a/6e4>>0)+"分前":(a/36e5>>0)+"时前":(o<10&&(o="0"+o),i<10&&(i="0"+i),o+"."+i)},changeGameListState:function(e){this.pageHasLoading||(this.isShowHotGame=e,f.enable=1==e,p.enable=0==e,0==e&&0==this.newGames.page&&this.loadNewGameList())},openNewWindow:function(e){},checkGameSate:function(e,t){var n=SDW_WEB.USER_INFO.uid,a={gid:t,channel:SDW_WEB.channel},o="play"==e?SDW_WEB.MOBILE_ROOT+"game/":SDW_WEB.MOBILE_ROOT+"detail/",i=SDW_WEB.URLS.addParam(a,!1,o);"play"==e?n?SDW_WEB.openNewWindow({link:i,isFullScreen:!1,title:""}):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){SDW_WEB.getSdwUserData().then(function(e){})}}):this.__showLoginPage():SDW_WEB.openNewWindow({link:i,isFullScreen:!1,title:""})},__showLoginPage:function(e){this.$refs.login.show="1",this.__footIndex__=e},loginOkCallback:function(){0<=this.__footIndex__&&this.__footIndex__<=3,alert("登录成功"+this.__footIndex__)},loadNewGameList:function(){if(!this.newGames.isLoad&&this.newGames.hasMoreData){this.newGames.isLoad=!0;var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,page:this.newGames.page,type:"",flag:1},!1,HTTP_STATIC+"pcgg");this.pageHasLoading=!0,SDW_WEB.getAjaxData(t,function(t){if(e.pageHasLoading=!1,1==t.result){e.newGames.page++,0==t.list.length&&(e.newGames.hasMoreData=!1);for(var n=t.list,o=[],i=0;i<n.length;i++){var s=n[i];o.push({id:s.id,cover:s.bIcon,title:s.name,time:s.time,star:s.vStar,quantity:s.vPv,desc:s.sInfo,tags:s.gift?["gift"]:[]})}e.newGameList=e.newGameList.concat(o)}e.$nextTick(function(){a(),setTimeout(function(){e.newGames.isLoad=!1},300)})})}},clickBannerEvt:function(e){this.checkGameSate("play",this.bannerList[e].id)},createRecommend:function(e){var t,n=e.recent||[],a=e.recommand||[],o=[];if(n.length)for(var i=0;i<a.length;i++){for(var s=0;s<n.length;s++)if(a[i].id==n[s].id){t=s;break}t==n.length&&o.push(a[i])}else o=a;var r=n.concat(o);return r.splice(0,5)},createBanner:function(e){var t=e.ad||[],n='<img data-src=D_IMG class="swiper-slide slider-img" data-index=D_INDEX data-loaded="5">';return t.forEach(function(e,t){if("10041"==SDW_WEB.channel)var a=n.replace(/D_IMG/,e["670x280"]).replace(/D_INDEX/,t);else var a=n.replace(/D_IMG/,e.adImg).replace(/D_INDEX/,t);$("#bannercont").append(a)}),t},bindPhoneCallback:function(){},goMorePage:function(){SDW_WEB.onShandw},loadMainData:function(){if(!this.hotGames.isLoad&&this.hotGames.hasMoreData){this.hotGames.isLoad=!0;var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,page:this.hotGames.page,type:1,flag:1},!1,HTTP_STATIC+("10041"==SDW_WEB.channel?"hts10041":"main"));this.pageHasLoading=!0,SDW_WEB.getAjaxData(t,function(t){if(e.pageHasLoading=!1,0==e.hotGames.page){1==t.result&&"10041"!=SDW_WEB.channel&&(e.user.avatar=t.avatar,e.user.gold=t.gold,e.bindPhoneItem=t.phoneTask,e.user.phone=t.phone,e.user.isLogin=1),e.recommendList=e.createRecommend(t),e.bannerList=e.createBanner(t);new Swiper(".banner-conatiner",{pagination:".swiper-pagination",effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,coverflow:{rotate:45,stretch:0,depth:145,modifier:1,slideShadows:!0}});if(e.bannerList.length){var n="10041"==SDW_WEB.channel?e.bannerList[0]["670x280"]:e.bannerList[0].adImg;$("#topBanner").attr("src",n)}}e.hotGames.page++;for(var a=t.list,i=[],s=0;s<a.length;s++){var r=a[s];i.push({id:r.id,cover:r.bIcon,title:r.name,time:r.time,star:r.vStar,quantity:r.vPv,desc:r.sInfo,tags:r.gift?["gift"]:[]})}e.hotGameList=e.hotGameList.concat(i),0==t.list.length&&(e.hotGames.hasMoreData=!1),e.$nextTick(function(){var t=document.querySelectorAll('img[data-loaded="0"]');o(t),setTimeout(function(){e.hotGames.isLoad=!1},300),1==e.hotGames.page&&setTimeout(function(){var t=document.querySelectorAll('img[data-loaded="5"]');o(t,!0),$(".slider-img").click(function(t){e.clickBannerEvt(this.dataset.index)})},200)})})}}},m=new Vue({el:"#app",data:u,methods:h,components:{gameItem:s,sdwFooter:r,loadingView:c,bindPhone:l,fastLogin:d}});a();var g=n(3),f=(new g(a),new g(function(){m.loadMainData()},!0,200,10)),p=new g(function(){m.loadNewGameList()},!0,200,10);p.enable=!1,SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(e){m.loadMainData()}):m.loadMainData()}]);