!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=36)}([function(e,t){e.exports=function(e,t,n,o){var a,i=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,i=e.default);var r="function"==typeof i?i.options:i;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),o){var c=r.computed||(r.computed={});Object.keys(o).forEach(function(e){var t=o[e];c[e]=function(){return t}})}return{esModule:a,exports:i,options:r}}},function(e,t){function n(e,t,n,o){return"function"!=typeof e?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=t||!1,this.enable=!0,this.callback=e||null,this.delayTime=n||200,this.offset=o||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var e=this;e.timer=null,e.callback&&window.addEventListener("scroll",function(t){if(e.enable){var n=document.body.scrollTop+e.clientHeigth,o=document.documentElement.scrollHeight-e.offset,a=n>=o,i=1==e.toBottom&&a||0==e.toBottom;i&&!e.timer&&(e.timer=setTimeout(function(){e.callback(t),e.timer=null},e.delayTime))}},!1)},n.prototype.setCallback=function(e){"function"==typeof e?self.callback=e:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},e.exports=n},function(e,t){},function(e,t){},function(e,t,n){n(24);var o=n(0)(n(12),n(32),null,null);e.exports=o.exports},function(e,t,n){n(26);var o=n(0)(n(13),n(34),null,null);e.exports=o.exports},function(e,t,n){n(25);var o=n(0)(n(14),n(33),null,null);e.exports=o.exports},function(e,t,n){n(22);var o=n(0)(n(15),n(30),null,null);e.exports=o.exports},,function(e,t,n){n(23);var o=n(0)(n(17),n(31),null,null);e.exports=o.exports},function(e,t,n){n(27);var o=n(0)(n(18),n(35),null,null);e.exports=o.exports},function(e,t,n){n(20);var o=n(0)(n(19),n(28),null,null);e.exports=o.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bind-phone",data:function(){return{bindMyPhone:"",bindMyCode:"",bindTimer:null,bindMsg:"获取验证码",bindStartTimer:0}},props:["showbind","bindPhoneItem"],methods:{bindPhoneCheck:function(){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);if(!/\d+/.test(this.bindMyCode))return void window.dialog.show("error","请输入正确的验证码",1);dialog.show("loading","手机绑定中...");var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.MD5(""+SDW_WEB.channel+SDW_WEB.USER_INFO.uid+SDW_WEB.USER_INFO.secheme+e.bindTime+e.bindMyCode),sec:SDW_WEB.USER_INFO.secheme,time:e.bindTime},!1,HTTP_USER_STATIC+"checkcode");SDW_WEB.getAjaxData(t,function(t){if(1==t.result){var n=e.bindMyPhone.substring(0,3)+"****"+e.bindMyPhone.substring(7);t.myPhoneStr=n,dialog.show("ok","手机绑定成功",1),e.$emit("bind-callback",t)}else dialog.show("error",t.msg,1)})},getBindCode:function(){var e=this;if(!(this.bindStartTimer>0)){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);var t=+new Date,n=+new Date,o=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.MD5(""+SDW_WEB.channel+SDW_WEB.USER_INFO.uid+t+this.bindMyPhone+n+SDW_WEB.USER_INFO.otoken),phone:this.bindMyPhone,sec:t,time:n},!1,HTTP_USER_STATIC+"getcode");dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(o,function(t){1==t.result?(dialog.show("ok","验证码已发送",1),e.bindTime=t.time,e.bindStartTimer=60,e.bindTimer=setInterval(function(){e.bindStartTimer<=1?(clearInterval(e.bindTimer),e.bindStartTimer=0,e.bindMsg="获取验证码",e.bindTimer=null):e.bindMsg=e.bindStartTimer--+"秒后获取"},1e3)):dialog.show("error",t.msg,1)})}},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0}},computed:{show:function(){return this.showbind||0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"game-item",data:function(){return{msg:"i am compB!"}},props:["gameItem","showMore"],methods:{transDate:function(e){var t=+new Date,n=new Date(e),o=t-e,a=(n.getFullYear(),n.getMonth()+1),i=n.getDate();return o<864e5?o<36e5?o<1e4?"刚刚玩过":o<6e4?(o/1e3>>0)+"秒前玩过":(o/6e4>>0)+"分钟前玩过":(o/36e5>>0)+"小时前玩过":(a<10&&(a="0"+a),i<10&&(i="0"+i),a+"."+i+"玩过")},checkAuth:function(e,t){this.$emit("tap-game",e,t)},transformQuantity:function(e){if(e<1e4)return e;if(e<1e8){var t=(e/1e4).toFixed(1).split(".");return"0"==t[1]?t[0]+"万":t[0]+"."+t[1]+"万"}if(e<1e10){var t=(e/1e8).toFixed(1).split(".");return"0"==t[1]?t[0]+"亿":t[0]+"."+t[1]+"亿"}}},computed:{starLists:function(){var e=Math.max(0,this.gameItem.star>>0);e=Math.min(10,e);var t,n=[],o=e/2>>0,a=e%2;for(t=0;t<o;t++)n.push("star2");for(1==a&&(n.push("star1"),o++),t=o;t<5;t++)n.push("star0");return n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-item",data:function(){return{}},methods:{},computed:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fast-login",data:function(){return{loginFlagV2:1,phoneLoginData:{getCodeFlag:!1,phoneNum:"",phoneCode:"",RES_TIME:"",timerHand:null,message:"获取验证码"},tapTimer:null}},props:["show"],methods:{forbidScroll:function(e){e.preventDefault()},timers:function(){var e=this,t=60,n=document.querySelector("#getCode-v-2");n.className="codetimer",e.codeMessage=t--+"秒后获取",e.timerHand=setInterval(function(){t<=0?(clearInterval(e.timerHand),n.className="codenormal",e.phoneLoginData.message="获取验证码",e.phoneLoginData.getCodeFlag=!1):e.phoneLoginData.message=t--+"秒后获取"},1e3)},chooseLoginType:function(){},getPhoneCode:function(){var e=this,t=this.phoneLoginData,n=SDW_WEB.channel;if(!t.getCodeFlag)if(/^1\d{10}$/.test(t.phoneNum)){t.getCodeFlag=!0;var o=+new Date/1e3>>0,a=(new Date).Format("yyyyMMdd"),i=SDW_WEB.MD5("SDW"+a+n+SDW_WEB.guid+t.phoneNum+o),s=HTTP_USER_STATIC+"telcode?channel="+n+"&phone="+t.phoneNum+"&time="+o+"&sign="+i;dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(s,function(n){1==n.result?(t.RES_TIME=n.time,t.getCodeFlag=!0,e.timers(),dialog.show("ok","验证码已发送",1),document.querySelector(".short").focus()):(t.getCodeFlag=!1,dialog.show("error",n.msg,1))},!1)}else dialog.show("error","请输入正确的手机号",1)},phoneLogin:function(e){var t=this,n=this.phoneLoginData,o=SDW_WEB.channel;if(/^1\d{10}$/.test(n.phoneNum))if(/^\d+$/.test(n.phoneCode)){var a=e?"&vst=1&vsttoken="+visitorMode.visitorToken:"",i=HTTP_USER_STATIC+"telcheck?channel="+o+"&phone="+n.phoneNum+"&time="+n.RES_TIME+"&sign="+SDW_WEB.MD5(o+SDW_WEB.guid+n.phoneNum+n.RES_TIME+n.phoneCode)+a;dialog.show("loading","登录中..."),SDW_WEB.getAjaxData(i,function(e){if(1==e.result){var n={uid:e.id,otoken:e.token,nick:e.nick,sex:e.sex,avatar:e.avatar,city:e.city,fl:e.fl};SDW_WEB.Store.set(SDW_WEB.localItem,n,!0),localStorage.setItem(window.DATAITEM,JSON.stringify(n)),dialog.show("ok","登录成功",1),n.secheme=+new Date,n.token=SDW_WEB.MD5(""+SDW_WEB.channel+n.uid+n.secheme+n.otoken),SDW_WEB.USER_INFO=n,t.$emit("login-ok"),t.show=0}else dialog.show("error",e.msg,1)},!1)}else dialog.show("error","请输入正确的验证码",1);else dialog.show("error","请输入正确的手机号",1)}},computed:{showLogin:function(){return this.show||!1}},watch:{showLogin:function(e){var t=this;e?(this.tapTimer&&clearTimeout(this.tapTimer),this.tapTimer=setTimeout(function(){document.addEventListener("touchmove",t.forbidScroll,!1)},200)):(this.tapTimer&&clearTimeout(this.tapTimer),document.removeEventListener("touchmove",t.forbidScroll,!1))}}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkNavState:function(e){var t={0:"index/?",1:"rank/?",2:"task/?",3:"home/?"};if(this.index==e.index);else{var n=e.index;if(0!=n&&!SDW_WEB.USER_INFO.uid)return void this.$emit("show-login",n);location.href=SDW_WEB.MOBILE_ROOT+t[n]+SDW_WEB.URLS.spliceParam()}}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var e=parseInt(this.index)||0,t=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],o=[],a=0;a<t.length;a++){var i={};i.title=t[a],i.icon=n[a],i.select=a==e,i.select&&(i.icon+=" icon-select"),i.show=!0,"10041"==SDW_WEB.channel&&"排行"==i.title&&(i.show=!1),o.push(i)}return o}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-get-alert",data:function(){return{}},props:["taskItemInfo","showInfo","typeindex"],methods:{transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},hideInfo:function(){this.showInfo=0},showTask:function(){this.showInfo=1}},computed:{show:function(){return this.showInfo||0},type:function(){return this.typeindex||"1"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-info",data:function(){return{}},props:["taskItemInfo","showInfo"],methods:{transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},hideInfo:function(){this.showInfo=0},showTask:function(){this.showInfo=1}},computed:{show:function(){return this.showInfo||0}}}},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"task-info-container"},[e.show?n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:e.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"mask"}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.show?n("div",{staticClass:"task-infos"},[n("div",{staticClass:"task-name"},[e._v(e._s(e.taskItemInfo.title))]),e._v(" "),n("div",{staticClass:"task-gift"},[e._v("奖励"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.taskItemInfo.coin)))])]),e._v(" "),n("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.taskItemInfo.info)}}),e._v(" "),e._t("default",[n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:e.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"login-btn-v3"},[e._v("知道了\n                ")])])],2):e._e()])],1)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"scale21"}},[e.showLogin?n("div",{staticClass:"login-container"},[n("div",{staticClass:"mask-v2",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&(e.show=0)}}}),e._v(" "),e.show?n("div",[n("i",{staticClass:"sdw-logo-v2"}),e._v(" "),n("div",{staticClass:"forms",attrs:{id:"loginForm-v2"}},[n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 phone"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneNum,expression:"phoneLoginData.phoneNum"}],staticClass:"long",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e._s(e.phoneLoginData.phoneNum)},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneNum=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 code"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneCode,expression:"phoneLoginData.phoneCode"}],staticClass:"short",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e._s(e.phoneLoginData.phoneCode)},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"codenormal",attrs:{id:"getCode-v-2"},on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.getPhoneCode()}}},[e._v("\n                        "+e._s(e.phoneLoginData.message)+"\n                    ")])]),e._v(" "),n("div",{staticClass:"login-btn-v2",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.phoneLogin(0)}}},[e._v("登"),n("span",{staticStyle:{width:"50px"}}),e._v("录\n                ")])])]):e._e()]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.navList.length&&!e.onShandw?n("div",{class:e.footerClass},e._l(e.navList,function(t,o){return t.show?n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:e.checkNavState,item:t,index:o},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:t.icon}),e._v(" "),t.select?e._e():n("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),t.select?n("i",{staticClass:"light"}):e._e()]):e._e()})):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-info-container"},[e.show?n("div",{staticClass:"mask",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&(e.showbind=0)}}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade2"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-infos"},[n("div",{staticClass:"bind-phone-name"},[e._v(e._s(e.bindPhoneItem.title))]),e._v(" "),n("div",{staticClass:"bind-phone-gift"},[e._v("奖励"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.bindPhoneItem.coin)))])]),e._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyPhone,expression:"bindMyPhone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:e._s(e.bindMyPhone)},on:{input:function(t){t.target.composing||(e.bindMyPhone=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyCode,expression:"bindMyCode"}],attrs:{type:"tel",placeholder:"请输入验证码","data-module":"80%"},domProps:{value:e._s(e.bindMyCode)},on:{input:function(t){t.target.composing||(e.bindMyCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"get-code",class:e.bindTimer?"":"normal-code",attrs:{id:"bindCode"},on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.getBindCode()}}},[e._v("\n                    "+e._s(e.bindMsg)+"\n                ")])]),e._v(" "),n("section",{staticClass:"login-btn-v3",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.bindPhoneCheck()}}},[e._v("绑"),n("span",{staticStyle:{width:"20px"}}),e._v("定\n            ")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c||t;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-container"},[n("div",{staticClass:"loading-more"},[n("i",{staticClass:"icon-loading"}),e._v(" "),n("span",{staticClass:"loading-text"},[e._v("努力加载中...")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-list-item",on:{click:function(t){t.stopPropagation(),e.checkAuth("detail",e.gameItem.id)}}},[n("div",{staticClass:"game-cover-info"},[n("img",{staticClass:"game-list-cover",attrs:{"data-src":e.gameItem.cover,"data-loaded":"0"}}),e._v(" "),n("div",{staticClass:"game-title"},[e._v(e._s(e.gameItem.title))])]),e._v(" "),e.showMore?[n("div",{staticClass:"tag-list"},e._l(e.gameItem.tags,function(e){return n("i",{staticClass:"tags",class:e})}))]:[n("div",{staticClass:"game-play-time"},[e._v(e._s(e.transDate(e.gameItem.time)))])],e._v(" "),n("div",{staticClass:"game-more-info"},[e.showMore?[n("div",{staticClass:"game-info"},[n("span",{staticClass:"star-list"},e._l(e.starLists,function(e,t){return n("i",{class:e})})),e._v(" "),n("span",{staticClass:"light-num"},[e._v(e._s(e.transformQuantity(e.gameItem.quantity)))]),e._v("人在玩\n            ")]),e._v(" "),n("div",{staticClass:"game-desc"},[e._v(e._s(e.gameItem.desc))])]:e._e(),e._v(" "),e.showMore?n("div",{staticClass:"game-btn",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")]):e._e(),e._v(" "),e.showMore?e._e():n("div",{staticClass:"game-btn larger",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")])],2)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"task-get-container"},[e.show?n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:e.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"mask"}):e._e(),e._v(" "),"1"==e.type?[n("transition",{attrs:{name:"scale2"}},[e.show?n("div",{staticClass:"task-get-info"},[n("div",{staticClass:"task-infos-container"},[n("div",{staticClass:"task-name"},[e._v(e._s(e.taskItemInfo.title||"任务名称"))]),e._v(" "),n("div",{staticClass:"task-gift"},[e._v("获得"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.taskItemInfo.coin||0)))]),e._v("奖励\n                    ")])]),e._v(" "),e._t("default",[n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:e.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"task-get-btn"},[e._v("知道了\n                    ")])])],2):e._e()])]:e._e(),e._v(" "),"2"==e.type?[n("transition",{attrs:{name:"scale2"}},[e.show?n("div",{staticClass:"task-get-info2"},[n("div",{staticClass:"task-infos-container"},[n("div",{staticClass:"task-gift"},[n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.taskItemInfo.coin||0)))])]),e._v(" "),n("div",{staticClass:"task-name"},[e._v("奖励已到账")])]),e._v(" "),e._t("default",[n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:e.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"task-get-btn"},[e._v("知道了\n                    ")])])],2):e._e()])]:e._e()],2)},staticRenderFns:[]}},function(e,t,n){function o(){var e=document.querySelectorAll('img[data-loaded="0"]');a(e)}function a(e,t){for(var n=0,o=e.length;n<o;n++)e[n].getBoundingClientRect().top<document.documentElement.clientHeight&&!e[n].isLoad&&(e[n].isLoad=!0,e[n].dataset.loaded="1",!t&&(e[n].style.cssText="transition: ''; opacity: 0;"),i(e[n],e[n].dataset.src,t))}function i(e,t,n){function o(e,t){return e.classList.contains(t)}if(t){var a=new Image;a.onload=function(){e.src=a.src,!n&&(e.style.cssText="transition: 1s; opacity: 1;");var t=e.parentNode;t&&(o(t,"game-cover-info")||o(t,"recommend-list"))&&(t.style.transition=".4s",t.style.background="rgba(0,0,0,0)")},a.src=t}}var s=n(5),r=n(9),c=n(6),d=n(4),l=n(7),u=n(11),h=n(10),m=n(1);n(3),n(2);var f={onSafari:SDW_WEB.onSafari&&SDW_WEB.onIOS&&!SDW_WEB.onAPPs,__footIndex__:null,showTopNav:"10041"!=SDW_WEB.channel,onShandw:SDW_WEB.onShandw,bindPhoneItem:{},showEwmV2:0,user:{isLogin:0,gold:0,avatar:"",nick:"",phone:0,showPhoneTips:!1},pageHasLoading:!1,hotGameList:[],newGameList:[],isShowHotGame:!0,hotGames:{isLoad:!1,page:0,hasMoreData:!0},newGames:{isLoad:!1,page:0,hasMoreData:!0},recommendList:[],bannerList:[],currentTaskItem:{}},p={gotoTaskPage:function(){return this.$refs.taskgetalert.showInfo=0,this.user.phone=0,SDW_WEB.onShandw?void SDW_WEB.sdw.switchTab("task"):void(location.href=SDW_WEB.MOBILE_ROOT+"task/?channel="+SDW_WEB.channel)},gotoMyHome:function(){return SDW_WEB.onShandw?void SDW_WEB.sdw.switchTab("home"):void(SDW_WEB.USER_INFO.uid?location.href=SDW_WEB.MOBILE_ROOT+"home/?channel="+SDW_WEB.channel:this.__showLoginPage())},showSdwAPPMoreBtn:function(){SDW_WEB.onShandw&&SDW_WEB.sdw.onShowToolBar()},gotoGiftPage:function(){var e=SDW_WEB.MOBILE_ROOT+"gift/?channel="+SDW_WEB.channel;SDW_WEB.openNewWindow({link:e,isFullScreen:!1,showMoreBtn:!1,title:"游戏礼包"})},showPhoneBindFn:function(){var e=this;this.user.showPhoneTips=0,clearInterval(window.bindPhoneTimer),setTimeout(function(){e.$refs.bindPhone.showbind=1},20)},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},transDate:function(e){if(!e)return null;var t=+new Date,n=new Date(e),o=t-e,a=(n.getFullYear(),n.getMonth()+1),i=n.getDate();return o<864e5?o<36e5?o<1e4?"刚刚玩过":o<6e4?(o/1e3>>0)+"秒前":(o/6e4>>0)+"分前":(o/36e5>>0)+"时前":(a<10&&(a="0"+a),i<10&&(i="0"+i),a+"."+i)},changeGameListState:function(e){this.pageHasLoading||(this.isShowHotGame=e,g.enable=1==e,_.enable=0==e,0==e&&0==this.newGames.page&&this.loadNewGameList())},checkGameSate:function(e,t){var n=SDW_WEB.USER_INFO.uid,o={gid:t,channel:SDW_WEB.channel},a="play"==e?SDW_WEB.MOBILE_ROOT+"game/":SDW_WEB.MOBILE_ROOT+"detail/",i=SDW_WEB.URLS.addParam(o,!1,a);"play"==e?n?SDW_WEB.openNewWindow({link:i,isFullScreen:!1,showMoreBtn:!0,title:""}):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage():SDW_WEB.openNewWindow({link:i,isFullScreen:!1,showMoreBtn:!0,title:""})},__showLoginPage:function(e){this.$refs.login.show="1",this.__footIndex__=e},loginOkCallback:function(){var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,page:0,type:1,flag:1},!1,HTTP_STATIC+("10041"==SDW_WEB.channel?"hts10041":"main"));SDW_WEB.getAjaxData(t,function(t){function n(t){window.bindPhoneTimer&&clearTimeout(window.bindPhoneTimer),window.bindPhoneTimer=setTimeout(function(){e.user.showPhoneTips=!1},3e3),document.removeEventListener("touchstart",n,!1)}1==t.result&&"10041"!=SDW_WEB.channel&&(e.user.avatar=t.avatar,e.user.gold=t.gold,e.bindPhoneItem=t.phoneTask,e.currentTaskItem=t.phoneTask,e.user.phone=t.phone,e.user.isLogin=1,e.currentTaskItem.info="新的成就已经解锁，请前往成就领取奖励"),e.recommendList=e.createRecommend(t),e.user.showPhoneTips=!t.phone,window.bindPhoneTimer=setTimeout(function(){e.user.showPhoneTips=0},1e4),document.addEventListener("touchstart",n,!1),e.$nextTick(function(){var e=document.querySelectorAll('img[data-loaded="0"]');a(e)}),e.$refs.login.show="",dialog.show("ok","登录成功",1)})},loadNewGameList:function(){if(!this.newGames.isLoad&&this.newGames.hasMoreData){this.newGames.isLoad=!0;var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,page:this.newGames.page,type:"",flag:1},!1,HTTP_STATIC+"pcgg");this.pageHasLoading=!0,SDW_WEB.getAjaxData(t,function(t){if(e.pageHasLoading=!1,1==t.result){e.newGames.page++,0==t.list.length&&(e.newGames.hasMoreData=!1);for(var n=t.list,a=[],i=0;i<n.length;i++){var s=n[i];a.push({id:s.id,cover:s.bIcon,title:s.name,time:s.time,star:s.vStar,quantity:s.vPv,desc:s.sInfo,tags:s.gift?["gift"]:[]})}e.newGameList=e.newGameList.concat(a)}e.$nextTick(function(){o(),setTimeout(function(){e.newGames.isLoad=!1},300)})})}},clickBannerEvt:function(e){this.checkGameSate("play",this.bannerList[e].id)},createRecommend:function(e){var t=e.recent||[],n=e.recommand||[],o=[];if(t.length)for(var a=0;a<n.length;a++){for(var i=0;i<t.length&&n[a].id!=t[i].id;i++);i==t.length&&o.push(n[a])}else o=n;var s=t.concat(o);return s.splice(0,5)},createBanner:function(e){var t=e.ad||[],n='<img data-src=D_IMG class="swiper-slide slider-img" data-index=D_INDEX data-loaded="5">',o="";return t.forEach(function(e,t){if("10041"==SDW_WEB.channel)var a=n.replace(/D_IMG/,e["670x280"]).replace(/D_INDEX/,t);else var a=n.replace(/D_IMG/,e.adImg).replace(/D_INDEX/,t);o+=a}),document.querySelector("#bannercont").innerHTML=o,t},bindPhoneCallback:function(){this.$refs.taskgetalert.showInfo=1,this.$refs.bindPhone.showbind=0},goMorePage:function(){var e=SDW_WEB.MOBILE_ROOT+"more/?channel="+SDW_WEB.channel;SDW_WEB.openNewWindow({link:e,isFullScreen:!1,showMoreBtn:!1,title:""})},loadMainData:function(){if(!this.hotGames.isLoad&&this.hotGames.hasMoreData){this.hotGames.isLoad=!0;var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,page:this.hotGames.page,type:1,flag:1},!1,HTTP_STATIC+("10041"==SDW_WEB.channel?"hts10041":"main"));this.pageHasLoading=!0,SDW_WEB.getAjaxData(t,function(t){function n(t){window.bindPhoneTimer&&clearTimeout(window.bindPhoneTimer),window.bindPhoneTimer=setTimeout(function(){e.user.showPhoneTips=!1},3e3),document.removeEventListener("touchstart",n,!1)}if(e.pageHasLoading=!1,0==e.hotGames.page){e.user.avatar=t.avatar,e.user.gold=t.gold,1==t.result&&"10041"!=SDW_WEB.channel&&(e.bindPhoneItem=t.phoneTask,e.currentTaskItem=t.phoneTask,e.user.phone=t.phone,e.user.isLogin=1,e.currentTaskItem.info="新的成就已经解锁，请前往成就领取奖励"),e.recommendList=e.createRecommend(t),e.bannerList=e.createBanner(t),e.user.showPhoneTips=!t.phone,window.bindPhoneTimer=setTimeout(function(){e.user.showPhoneTips=0},1e4),document.addEventListener("touchstart",n,!1);var o=new Swiper(".banner-conatiner",{pagination:".swiper-pagination",effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,coverflow:{rotate:45,stretch:0,depth:145,modifier:1,slideShadows:!0}});if(e.bannerList.length){var i="10041"==SDW_WEB.channel?e.bannerList[0]["670x280"]:e.bannerList[0].adImg;document.querySelector("#topBanner").src=i}document.addEventListener("touchstart",function(e){o&&o.update(!0),o&&o.startAutoplay()},!1)}e.hotGames.page++;for(var s=t.list,r=[],c=0;c<s.length;c++){var d=s[c];r.push({id:d.id,cover:d.bIcon,title:d.name,time:d.time,star:d.vStar,quantity:d.vPv,desc:d.sInfo,tags:d.gift?["gift"]:[]})}e.hotGameList=e.hotGameList.concat(r),0==t.list.length&&(e.hotGames.hasMoreData=!1),e.$nextTick(function(){var t=document.querySelectorAll('img[data-loaded="0"]');a(t),setTimeout(function(){e.hotGames.isLoad=!1},300),1==e.hotGames.page&&setTimeout(function(){var t=document.querySelectorAll('img[data-loaded="5"]');a(t,!0);for(var n=document.querySelectorAll(".slider-img"),o=0;o<n.length;o++)n[o].onclick=function(){e.clickBannerEvt(this.dataset.index)}},200)})})}}},v=new Vue({el:"#app",data:f,methods:p,components:{gameItem:s,sdwFooter:r,loadingView:c,bindPhone:d,fastLogin:l,taskInfo:u,taskGetAlert:h}});o();var g=(new m(o),new m(function(){v.loadMainData()},!0,200,10)),_=new m(function(){v.loadNewGameList()},!0,200,10);_.enable=!1,SDW_WEB.onShandw?(SDW_WEB.getSdwUserData().then(function(e){v.loadMainData()},function(e){SDW_WEB.USER_INFO={},v.loadMainData()}),SDW_WEB.sdw.onSetToolBarOperation(["AppMessage","Timeline","QQ","QZone","Weibo","copyLink"])):v.loadMainData(),v.$nextTick(function(){var e=SDW_WEB.Store.get("_SB_CIGARETTE_FLAG_",!0);if(console.log(e),"10041"==SDW_WEB.channel){if(!e){SDW_WEB.Store.set("_SB_CIGARETTE_FLAG_",1,!0);var t=document.createElement("iframe");t.src=location.protocol+"//www.shandw.com/h5/cigarette/dialog.html?n=0001",t.id="sbmh",document.body.appendChild(t),window.addEventListener("message",function(e){try{if(postData=JSON.parse(e.data),"closeIframe"==postData.oprate){var t=document.querySelector("#sbmh");t&&document.body.removeChild(t)}"goBack"==postData.oprate&&(location.href="https://www.shandw.com/h5/cigarette/")}catch(e){}},!1)}document.querySelector(".top-split-line").style.marginBottom=".625rem"}})}]);