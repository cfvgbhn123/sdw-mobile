!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t){e.exports=function(e,t,n,i){var s,a=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(s=e,a=e.default);var r="function"==typeof a?a.options:a;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),i){var c=r.computed||(r.computed={});Object.keys(i).forEach(function(e){var t=i[e];c[e]=function(){return t}})}return{esModule:s,exports:a,options:r}}},function(e,t){},function(e,t){},function(e,t,n){n(14);var i=n(0)(n(7),n(18),null,null);e.exports=i.exports},function(e,t,n){n(11);var i=n(0)(n(8),n(15),null,null);e.exports=i.exports},function(e,t,n){n(13);var i=n(0)(n(9),n(17),null,null);e.exports=i.exports},function(e,t,n){n(12);var i=n(0)(n(10),n(16),null,null);e.exports=i.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bind-phone",data:function(){return{bindMyPhone:"",bindMyCode:"",bindTimer:null,bindMsg:"获取验证码",bindStartTimer:0}},props:["showBindPhone","bindPhoneItem"],methods:{bindPhoneCheck:function(){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);if(!/\d+/.test(this.bindMyCode))return void window.dialog.show("error","请输入正确的验证码",1);dialog.show("loading","手机绑定中...");var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,time:this.bindTime},!1,HTTP_USER_STATIC+"checkcode");SDW_WEB.getAjaxData(t,function(t){if(1==t.result){var n=e.bindMyPhone.substring(0,3)+"****"+e.bindMyPhone.substring(7);t.myPhoneStr=n,e.$emit("bind-callback",t)}else dialog.show("error",t.msg,1)})},getBindCode:function(){var e=this;if(!(this.bindStartTimer>0)){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);var t=+new Date,n=+new Date,i=faultylabs.MD5(SDW_WEB.channel+SDW_WEB.USER_INFO.uid+t+this.bindMyPhone+n+SDW_WEB.USER_INFO.otoken),s=HTTP_USER_STATIC+"getcode?channel="+SDW_WEB.channel+"&token="+i+"&uid="+SDW_WEB.USER_INFO.uid+"&sec="+t+"&phone="+this.bindMyPhone+"&time="+n;dialog.show("loading","验证码获取中..."),$.ajax({type:"GET",url:s,dataType:"jsonp",jsonp:"cb",timeout:18e5,jsonpCallback:"callFn"+ +new Date+(65536*(1+Math.random())|0).toString(16).substring(1),success:function(t,n){1==t.result?(dialog.show("ok","验证码已发送",1),e.bindTime=t.time,e.bindStartTimer=60,e.bindTimer=setInterval(function(){e.bindStartTimer<=1?(clearInterval(e.bindTimer),e.bindStartTimer=0,e.bindMsg="获取验证码",e.bindTimer=null):e.bindMsg=e.bindStartTimer--+"秒后获取"},1e3)):dialog.show("error",t.msg,1)},error:function(e,t){}})}},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},bindPhoneCheck:function(){}},computed:{show:function(){return this.showBindPhone||0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkUserLogin:function(){return SDW_WEB.USER_INFO.uid},checkNavState:function(e){var t={0:"index/?",1:"rank/?",2:"task/?",3:"home/?"};if(this.index==e.index);else{var n=e.index;if(0!=n&&null==SDW_WEB.USER_INFO.uid)return void this.$emit("show-login",n);location.href=SDW_WEB.MOBILE_ROOT+t[""+n]+SDW_WEB.URLS.spliceParam()}}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var e=parseInt(this.index)||0,t=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],i=[],s=0;s<t.length;s++){var a={};a.title=t[s],a.icon=n[s],a.select=s==e,a.select&&(a.icon+=" icon-select"),i.push(a)}return i}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-info",data:function(){return{}},props:["taskItemInfo","showInfo"],methods:{transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},hideInfo:function(){this.showInfo=0},showTask:function(){this.showInfo=1}},computed:{show:function(){return this.showInfo||0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-item",data:function(){return{inputData:{phone:null,code:null},loginFlagV2:1}},props:["taskItem"],methods:{transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},chooseLoginType:function(){},sayHello:function(){alert("TASK_ITEM:HELLO")},clickBtn:function(){this.$emit("btn-click")}},computed:{}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.navList.length&&!e.onShandw?n("div",{class:e.footerClass},e._l(e.navList,function(t,i){return n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:e.checkNavState,item:t,index:i},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:t.icon}),e._v(" "),t.select?e._e():n("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),t.select?n("i",{staticClass:"light"}):e._e()])})):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"task-item "},[n("div",{staticClass:"task-title"},[e._v(e._s(e.taskItem.title))]),e._v(" "),e._t("recharge"),e._v(" "),n("p",{staticClass:"task-gold-container"},[n("span",{staticClass:"task-text"},[e._v("奖励")]),e._v(" "),n("span",{staticClass:"task-gold"},[e._v(e._s(e.transCoins(e.taskItem.coin)))])]),e._v(" "),e._t("task-btn")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"task-info-container"},[e.show?n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:e.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"mask"}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.show?n("div",{staticClass:"task-infos"},[n("div",{staticClass:"task-name"},[e._v(e._s(e.taskItemInfo.title))]),e._v(" "),n("div",{staticClass:"task-gift"},[e._v("奖励"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.taskItemInfo.coin)))])]),e._v(" "),n("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.taskItemInfo.info)}}),e._v(" "),n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:e.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"login-btn-v3"},[e._v("知道了\n            ")])]):e._e()])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-info-container"},[e.show?n("div",{staticClass:"mask",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&(e.showBindPhone=0)}}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade2"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-infos"},[n("div",{staticClass:"bind-phone-name"},[e._v(e._s(e.bindPhoneItem.title))]),e._v(" "),n("div",{staticClass:"bind-phone-gift"},[e._v("奖励"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.bindPhoneItem.coin)))])]),e._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyPhone,expression:"bindMyPhone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:e._s(e.bindMyPhone)},on:{input:function(t){t.target.composing||(e.bindMyPhone=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyCode,expression:"bindMyCode"}],attrs:{type:"tel",placeholder:"请输入验证码","data-module":"80%"},domProps:{value:e._s(e.bindMyCode)},on:{input:function(t){t.target.composing||(e.bindMyCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"get-code",class:e.bindTimer?"":"normal-code",attrs:{id:"bindCode"},on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.getBindCode()}}},[e._v("\n                    "+e._s(e.bindMsg)+"\n                ")])]),e._v(" "),n("section",{staticClass:"login-btn-v3",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.bindPhoneCheck()}}},[e._v("绑"),n("span",{staticStyle:{width:"20px"}}),e._v("定\n            ")])])])],1)},staticRenderFns:[]}},function(e,t,n){document.addEventListener("touchstart",function(e){},!1);var i=n(6),s=n(4),a=n(5),o=n(3);n(2),n(1);var r={onShandw:SDW_WEB.onShandw,currentTaskItem:null,bindPhoneItem:{},chargeMap:{day:{min:10,max:13,len:0,list:[]},week:{min:14,max:16,len:0,list:[]},month:{min:17,max:19,len:0,list:[]},all:{min:20,max:27,len:0,list:[]}},rcDay:0,rcWeek:0,rcMonth:0,user:{avatar:"",uid:"",nick:"",phone:null,gold:0,offset:0},taskList:[]},c=new Vue({el:"#app",data:r,methods:{bindPhoneCallback:function(e){},appendToLast:function(e,t){for(var n=0;n<t.length;n++)t[n]==e&&t.splice(n,1);t.push(e)},clickTaskItem:function(e){var t=e.item;this.currentTaskItem=t,this.$nextTick(function(){this.$refs.taskContainer.showInfo=1})},finishTaskCheck:function(e){var t=e.item,n=this;if(2!=t.flag){if(0==t.flag)return void(1==t.id?this.$refs.bindPhone.showBindPhone=1:dialog.show("error","您还没有完成任务",1));dialog.show("loading","领取中...");var i=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,tid:t.id},!1,HTTP_STATIC+"taskaw");SDW_WEB.getAjaxData(i,function(e){if(1==e.result){n.changeList(t),n.appendToLast(t,n.taskList),t.flag=2,t.btnMsg="已领取",n.user.gold+=t.coin,n.$nextTick(function(){});var i="获得"+t.coin+"闪电币";dialog.show("ok",i,1)}})}},isBetween:function(e,t,n){return e>=t&&e<=n},searchTaskForId:function(e){for(var t=0;t<this.lists.length;t++){var n=this.lists[t];if(n.id==e)return n}},changeList:function(e){var t="";if(this.isBetween(e.id,10,13)&&(t="day"),this.isBetween(e.id,14,16)&&(t="week"),this.isBetween(e.id,17,19)&&(t="month"),this.isBetween(e.id,20,27)&&(t="all"),t&&this.chargeMap[t].list.length){var n=this.chargeMap[t].list.shift();n.showFlag=1}},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},loadList:function(){var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme},!1,HTTP_STATIC+"tasklt");SDW_WEB.getAjaxData(t,function(t){function n(e,t){e=parseInt(e),t=parseInt(t);var n=new Date(e),i=new Date(t);return n.getFullYear()==i.getFullYear()&&n.getMonth()==i.getMonth()&&n.getDate()==i.getDate()}if(1==t.result){window.PAGE_TIME=t.ct,e.user.chAll=t.rcAll,e.rcDay=t.rcDay,e.rcWeek=t.rcWeek,e.rcMonth=t.rcMonth,e.user.avatar=SDW_WEB.USER_INFO.avatar;for(var i=t.list,s=[],a=[],o=0;o<i.length;o++){var r=i[o],c=e.rcDay>=r.data/100>>0,l=e.rcWeek>=r.data/100>>0,d=e.rcMonth>=r.data/100>>0;r.showFlag=1,2==r.id&&0==r.flag&&e.user.chAll>0&&(r.flag=1),e.isBetween(r.id,10,13)&&0==r.flag&&(c&&(r.flag=1),e.chargeMap.day.len++<2?r.showFlag=1:(r.showFlag=0,e.chargeMap.day.list.push(r))),e.isBetween(r.id,14,16)&&0==r.flag&&(l&&(r.flag=1),e.chargeMap.week.len++<2?r.showFlag=1:(r.showFlag=0,e.chargeMap.week.list.push(r))),e.isBetween(r.id,17,19)&&0==r.flag&&(d&&(r.flag=1),e.chargeMap.month.len++<2?r.showFlag=1:(r.showFlag=0,e.chargeMap.month.list.push(r))),e.isBetween(r.id,20,27)&&0==r.flag&&(e.user.chAll>=r.data/100>>0&&(r.flag=1),e.chargeMap.all.len++<2?r.showFlag=1:(r.showFlag=0,e.chargeMap.all.list.push(r)));var u=localStorage._SDW_SHARE_TIME_||0;4!=r.id||1!=r.flag||n(u,PAGE_TIME)||(r.flag=0),r.btnMsg||(0==r.flag?1==r.id?r.btnMsg="绑定":r.btnMsg="0/1":1==r.flag?r.btnMsg="领取":2==r.flag&&(r.btnMsg="已领取")),r.id>=5&&r.id<=9&&(r.btnMsg="0/1"),2==r.flag?s.push(r):1==r.flag?a.unshift(r):0==r.flag&&a.push(r),1==r.id&&(e.bindPhoneItem=r),e.taskList=a.concat(s)}e.user.gold=t.gold}})}},components:{taskItem:i,sdwFooter:s,taskInfo:a,bindPhone:o}});SDW_WEB.onShandw?SDW_WEB.sdw&&SDW_WEB.sdw.getUserInfo({success:function(e){SDW_WEB.USER_INFO=e,c.loadList()},fail:function(e){alert(e.msg)}}):c.loadList()}]);