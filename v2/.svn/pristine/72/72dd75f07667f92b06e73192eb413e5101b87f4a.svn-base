!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=16)}([function(t,e){t.exports=function(t,e,n,i){var a,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,o=t.default);var r="function"==typeof o?o.options:o;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),n&&(r._scopeId=n),i){var c=r.computed||(r.computed={});Object.keys(i).forEach(function(t){var e=i[t];c[t]=function(){return e}})}return{esModule:a,exports:o,options:r}}},function(t,e){function n(t,e,n,i){return"function"!=typeof t?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=e||!1,this.enable=!0,this.callback=t||null,this.delayTime=n||200,this.offset=i||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var t=this;t.timer=null,t.callback&&window.addEventListener("scroll",function(e){if(t.enable){var n=document.body.scrollTop+t.clientHeigth,i=document.documentElement.scrollHeight-t.offset,a=n>=i,o=1==t.toBottom&&a||0==t.toBottom;o&&!t.timer&&(t.timer=setTimeout(function(){t.callback(e),t.timer=null},t.delayTime))}},!1)},n.prototype.setCallback=function(t){"function"==typeof t?self.callback=t:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},t.exports=n},function(t,e){},function(t,e){},function(t,e,n){n(12);var i=n(0)(n(7),n(15),null,null);t.exports=i.exports},function(t,e,n){n(10);var i=n(0)(n(8),n(13),null,null);t.exports=i.exports},function(t,e,n){n(11);var i=n(0)(n(9),n(14),null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bind-phone",data:function(){return{bindMyPhone:"",bindMyCode:"",bindTimer:null,bindMsg:"获取验证码",bindStartTimer:0}},props:["showbind","bindPhoneItem"],methods:{bindPhoneCheck:function(){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);if(!/\d+/.test(this.bindMyCode))return void window.dialog.show("error","请输入正确的验证码",1);dialog.show("loading","手机绑定中...");var t=this,e=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.MD5(""+SDW_WEB.channel+SDW_WEB.USER_INFO.uid+SDW_WEB.USER_INFO.secheme+t.bindTime+t.bindMyCode),sec:SDW_WEB.USER_INFO.secheme,time:t.bindTime},!1,HTTP_USER_STATIC+"checkcode");SDW_WEB.getAjaxData(e,function(e){if(1==e.result){var n=t.bindMyPhone.substring(0,3)+"****"+t.bindMyPhone.substring(7);e.myPhoneStr=n,dialog.show("ok","手机绑定成功",1),t.$emit("bind-callback",e)}else dialog.show("error",e.msg,1)})},getBindCode:function(){var t=this;if(!(this.bindStartTimer>0)){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);var e=+new Date,n=+new Date,i=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.MD5(""+SDW_WEB.channel+SDW_WEB.USER_INFO.uid+e+this.bindMyPhone+n+SDW_WEB.USER_INFO.otoken),phone:this.bindMyPhone,sec:e,time:n},!1,HTTP_USER_STATIC+"getcode");dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(i,function(e){1==e.result?(dialog.show("ok","验证码已发送",1),t.bindTime=e.time,t.bindStartTimer=60,t.bindTimer=setInterval(function(){t.bindStartTimer<=1?(clearInterval(t.bindTimer),t.bindStartTimer=0,t.bindMsg="获取验证码",t.bindTimer=null):t.bindMsg=t.bindStartTimer--+"秒后获取"},1e3)):dialog.show("error",e.msg,1)})}},transCoins:function(t){var e,n;return t<1e4?t:t<1e8?(e=t/1e4>>0,n=t%1e4+"",0==n?e+"万":e+"."+n[0]+"万"):t<1e10?(e=t/1e8>>0,n=t%1e8+"",0==n?e+"亿":e+"."+n[0]+"亿"):void 0}},computed:{show:function(){return this.showbind||0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"game-item",data:function(){return{msg:"i am compB!"}},props:["gameItem","showMore"],methods:{transDate:function(t){var e=+new Date,n=new Date(t),i=e-t,a=(n.getFullYear(),n.getMonth()+1),o=n.getDate();return i<864e5?i<36e5?i<1e4?"刚刚玩过":i<6e4?(i/1e3>>0)+"秒前玩过":(i/6e4>>0)+"分钟前玩过":(i/36e5>>0)+"小时前玩过":(a<10&&(a="0"+a),o<10&&(o="0"+o),a+"."+o+"玩过")},checkAuth:function(t,e){this.$emit("tap-game",t,e)},transformQuantity:function(t){if(t<1e4)return t;if(t<1e8){var e=(t/1e4).toFixed(1).split(".");return"0"==e[1]?e[0]+"万":e[0]+"."+e[1]+"万"}if(t<1e10){var e=(t/1e8).toFixed(1).split(".");return"0"==e[1]?e[0]+"亿":e[0]+"."+e[1]+"亿"}}},computed:{starLists:function(){var t=Math.max(0,this.gameItem.star>>0);t=Math.min(10,t);var e,n=[],i=t/2>>0,a=t%2;for(e=0;e<i;e++)n.push("star2");for(1==a&&(n.push("star1"),i++),e=i;e<5;e++)n.push("star0");return n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkNavState:function(t){var e={0:"index/?",1:"rank/?",2:"task/?",3:"home/?"};if(this.index==t.index);else{var n=t.index;if(0!=n&&!SDW_WEB.USER_INFO.uid)return void this.$emit("show-login",n);location.href=SDW_WEB.MOBILE_ROOT+e[""+n]+SDW_WEB.URLS.spliceParam()}}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var t=parseInt(this.index)||0,e=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],i=[],a=0;a<e.length;a++){var o={};o.title=e[a],o.icon=n[a],o.select=a==t,o.select&&(o.icon+=" icon-select"),i.push(o)}return i}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-list-item",on:{click:function(e){e.stopPropagation(),t.checkAuth("detail",t.gameItem.id)}}},[n("div",{staticClass:"game-cover-info"},[n("img",{staticClass:"game-list-cover",attrs:{"data-src":t.gameItem.cover,"data-loaded":"0"}}),t._v(" "),n("div",{staticClass:"game-title"},[t._v(t._s(t.gameItem.title))])]),t._v(" "),t.showMore?[n("div",{staticClass:"tag-list"},t._l(t.gameItem.tags,function(t){return n("i",{staticClass:"tags",class:t})}))]:[n("div",{staticClass:"game-play-time"},[t._v(t._s(t.transDate(t.gameItem.time)))])],t._v(" "),n("div",{staticClass:"game-more-info"},[t.showMore?[n("div",{staticClass:"game-info"},[n("span",{staticClass:"star-list"},t._l(t.starLists,function(t,e){return n("i",{class:t})})),t._v(" "),n("span",{staticClass:"light-num"},[t._v(t._s(t.transformQuantity(t.gameItem.quantity)))]),t._v("人在玩\n            ")]),t._v(" "),n("div",{staticClass:"game-desc"},[t._v(t._s(t.gameItem.desc))])]:t._e(),t._v(" "),t.showMore?n("div",{staticClass:"game-btn",on:{click:function(e){e.target===e.currentTarget&&(e.stopPropagation(),t.checkAuth("play",t.gameItem.id))}}},[t._v("开玩")]):t._e(),t._v(" "),t.showMore?t._e():n("div",{staticClass:"game-btn larger",on:{click:function(e){e.target===e.currentTarget&&(e.stopPropagation(),t.checkAuth("play",t.gameItem.id))}}},[t._v("开玩")])],2)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.navList.length&&!t.onShandw?n("div",{class:t.footerClass},t._l(t.navList,function(e,i){return n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:t.checkNavState,item:e,index:i},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:e.icon}),t._v(" "),e.select?t._e():n("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),e.select?n("i",{staticClass:"light"}):t._e()])})):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"bind-phone-info-container"},[t.show?n("div",{staticClass:"mask",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&(t.showbind=0)}}}):t._e(),t._v(" "),n("transition",{attrs:{name:"fade2"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"bind-phone-infos"},[n("div",{staticClass:"bind-phone-name"},[t._v(t._s(t.bindPhoneItem.title))]),t._v(" "),n("div",{staticClass:"bind-phone-gift"},[t._v("奖励"),n("span",{staticClass:"conts-i"},[t._v(t._s(t.transCoins(t.bindPhoneItem.coin)))])]),t._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bindMyPhone,expression:"bindMyPhone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:t._s(t.bindMyPhone)},on:{input:function(e){e.target.composing||(t.bindMyPhone=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.bindMyCode,expression:"bindMyCode"}],attrs:{type:"tel",placeholder:"请输入验证码","data-module":"80%"},domProps:{value:t._s(t.bindMyCode)},on:{input:function(e){e.target.composing||(t.bindMyCode=e.target.value)}}}),t._v(" "),n("div",{staticClass:"get-code",class:t.bindTimer?"":"normal-code",attrs:{id:"bindCode"},on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.getBindCode()}}},[t._v("\n                    "+t._s(t.bindMsg)+"\n                ")])]),t._v(" "),n("section",{staticClass:"login-btn-v3",on:{click:function(e){e.stopPropagation(),e.target===e.currentTarget&&t.bindPhoneCheck()}}},[t._v("绑"),n("span",{staticStyle:{width:"20px"}}),t._v("定\n            ")])])])],1)},staticRenderFns:[]}},function(t,e,n){function i(t){for(var e=0,n=t.length;e<n;e++)t[e].getBoundingClientRect().top<document.documentElement.clientHeight&&!t[e].isLoad&&(t[e].isLoad=!0,t[e].dataset.loaded="1",t[e].style.cssText="transition: ''; opacity: 0;",a(t[e],t[e].dataset.src))}function a(t,e){if(e){var n=new Image;n.onload=function(){t.src=n.src,t.style.cssText="transition: 1s; opacity: 1;";var e=t.parentNode;e&&e.classList.contains("game-cover-info")&&(e.style.transition=".4s",e.style.background="rgba(0,0,0,0)")},n.src=e}}n(2);var o=n(5),s=n(6),r=n(4),c=n(46);n(3),SDW_WEB.USER_INFO=SDW_WEB.USER_INFO||{};var d={onShandw:SDW_WEB.onShandw,bindPhoneItem:{},SCROLL_HEIGHT:document.documentElement.clientHeight,item:{name:"测试"},user:{avatar:SDW_WEB.USER_INFO.avatar||"https://www.shandw.com/mobile/images/phdavatar.png",uid:"",nick:"",phone:""},gameList:[]},l={gotoTaskPage:function(){SDW_WEB.onShandw&&SDW_WEB.sdw.switchTab("task")},gotoMySet:function(){var t={channel:SDW_WEB.channel},e=SDW_WEB.MOBILE_ROOT+"myset/",n=SDW_WEB.URLS.addParam(t,!1,e);SDW_WEB.openNewWindow({link:n,isFullScreen:!1,showMoreBtn:!1,title:""})},refreshUser:function(){SDW_WEB.onShandw&&SDW_WEB.sdw.openLogin()},clearAppCache:function(){SDW_WEB.onShandw&&(SDW_WEB.sdw.clearAPPCache(),dialog.show("ok","clear",1))},bindPhoneCallback:function(t){var e=this;dialog.hidden(),e.$nextTick(function(){e.$refs.taskgetalert.showInfo=1,e.user.phone=t.myPhoneStr})},getMyData:function(){var t=this,e=(+new Date,SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,sec:SDW_WEB.USER_INFO.secheme,token:SDW_WEB.USER_INFO.token,type:1,page:0},!1,HTTP_STATIC+"userinfo"));SDW_WEB.getAjaxData(e,function(e){if(1==e.result){var n,i=e.recent||[],a=[];for(n=0;n<i.length;n++){var o=i[n];a.push({id:o.id,cover:o.bIcon,title:o.name,time:o.time})}t.gameList=a;var s=e.info;t.user.avatar=s.avatar||SDW_WEB.USER_INFO.avatar||"https://www.shandw.com/mobile/images/phdavatar.png",t.user.uid=s.id,t.user.nick=s.nick,t.user.phone=s.phone||"",t.user.sex=s.sex,t.bindPhoneItem=e.phoneTask,t.$nextTick(function(){setTimeout(function(){m.runCallback()},200)})}})},gotoCollect:function(){location.href="https://www.shandw.com/mobile/collect.html?channel="+SDW_WEB.channel},checkMyPhone:function(){this.user.phone||(this.$refs.binPhone.showbind=1)},checkGameSate:function(t,e){var n=SDW_WEB.USER_INFO.uid,i={gid:e,channel:SDW_WEB.channel},a="play"==t?SDW_WEB.MOBILE_ROOT+"game/":SDW_WEB.MOBILE_ROOT+"detail/",o=SDW_WEB.URLS.addParam(i,!1,a);"play"==t?n?SDW_WEB.openNewWindow({link:o,isFullScreen:!1,showMoreBtn:!0,title:""}):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage():SDW_WEB.openNewWindow({link:o,isFullScreen:!1,title:""})}},u=new Vue({el:"#app",data:d,methods:l,components:{gameItem:o,sdwFooter:s,bindPhone:r,taskGetAlert:c}}),h=n(1),m=new h(function(){i(document.querySelectorAll('img[data-loaded="0"]'))});m.runCallback();new h(function(){},!0);SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(){u.getMyData()}):u.getMyData()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(48);var i=n(0)(n(47),n(49),null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-get-alert",data:function(){return{}},props:["taskItemInfo","showInfo","typeindex"],methods:{transCoins:function(t){var e,n;return t<1e4?t:t<1e8?(e=t/1e4>>0,n=t%1e4+"",0==n?e+"万":e+"."+n[0]+"万"):t<1e10?(e=t/1e8>>0,n=t%1e8+"",0==n?e+"亿":e+"."+n[0]+"亿"):void 0},hideInfo:function(){this.showInfo=0},showTask:function(){this.showInfo=1}},computed:{show:function(){return this.showInfo||0},type:function(){return this.typeindex||"1"}}}},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"task-get-container"},[t.show?n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:t.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"mask"}):t._e(),t._v(" "),"1"==t.type?[n("transition",{attrs:{name:"scale2"}},[t.show?n("div",{staticClass:"task-get-info"},[n("div",{staticClass:"task-infos-container"},[n("div",{staticClass:"task-name"},[t._v(t._s(t.taskItemInfo.title||"任务名称"))]),t._v(" "),n("div",{staticClass:"task-gift"},[t._v("获得"),n("span",{staticClass:"conts-i"},[t._v(t._s(t.transCoins(t.taskItemInfo.coin||0)))]),t._v("奖励\n                    ")])]),t._v(" "),t._t("default",[n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:t.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"task-get-btn"},[t._v("知道了\n                    ")])])],2):t._e()])]:t._e(),t._v(" "),"2"==t.type?[n("transition",{attrs:{name:"scale2"}},[t.show?n("div",{staticClass:"task-get-info2"},[n("div",{staticClass:"task-infos-container"},[n("div",{staticClass:"task-gift"},[n("span",{staticClass:"conts-i"},[t._v(t._s(t.transCoins(t.taskItemInfo.coin||0)))])]),t._v(" "),n("div",{staticClass:"task-name"},[t._v("奖励已到账")])]),t._v(" "),t._t("default",[n("div",{directives:[{name:"tap",rawName:"v-tap.stop.self",value:{methods:t.hideInfo},expression:"{methods:hideInfo}",modifiers:{stop:!0,self:!0}}],staticClass:"task-get-btn"},[t._v("知道了\n                    ")])])],2):t._e()])]:t._e()],2)},staticRenderFns:[]}}]);