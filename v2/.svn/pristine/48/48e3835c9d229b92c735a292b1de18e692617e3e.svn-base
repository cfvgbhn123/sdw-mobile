!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t){e.exports=function(e,t,n,a){var i,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,o=e.default);var c="function"==typeof o?o.options:o;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns),n&&(c._scopeId=n),a){var r=c.computed||(c.computed={});Object.keys(a).forEach(function(e){var t=a[e];r[e]=function(){return t}})}return{esModule:i,exports:o,options:c}}},function(e,t){function n(e,t,n,a){return"function"!=typeof e?void console.log("WindowScroll error: callback must be a Function!"):(this.toBottom=t||!1,this.enable=!0,this.callback=e||null,this.delayTime=n||200,this.offset=a||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,void this._init())}n.prototype._init=function(){var e=this;e.timer=null,e.callback&&window.addEventListener("scroll",function(t){if(e.enable){var n=document.body.scrollTop+e.clientHeigth,a=document.documentElement.scrollHeight-e.offset,i=n>=a,o=1==e.toBottom&&i||0==e.toBottom;o&&!e.timer&&(e.timer=setTimeout(function(){e.callback(t),e.timer=null},e.delayTime))}},!1)},n.prototype.setCallback=function(e){"function"==typeof e?self.callback=e:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},e.exports=n},function(e,t){var n;window.NativeBridge,window.sdwShareState={jsApiTicket:"",hasWXConfig:!1,queueWXCallback:null,successCallback:null,failCallback:null,initWXConfig:function(){if(this.jsApiTicket){var e=this,t=this.jsApiTicket,n=GUID(),a=+new Date/1e3>>0,i=location.href.split("#")[0],o="jsapi_ticket="+t+"&noncestr="+n+"&timestamp="+a+"&url="+i,s=hex_sha1(o);wx.config({debug:!1,appId:"wxfd695e777664b347",timestamp:a,nonceStr:n,signature:s,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),wx.ready(function(){e.hasWXConfig=!0,e.queueWXCallback&&e.configWXShare(e.queueWXCallback)})}},checkCallbackFn:function(e,t){"function"==typeof e[t]?this[t+"Callback"]=function(){window.parent===window?e[t]():window.postMessage(JSON.stringify({postSdwData:!0,oprate:"shareCallback_"+t}),"*")}:this[t+"Callback"]=function(){}},configWXShare:function(e){if(this.jsApiTicket)if(this.hasWXConfig){this.checkCallbackFn(e,"success"),this.checkCallbackFn(e,"fail");for(var t=0;t<e.target.length;t++)wx["onMenuShare"+e.target[t]]({title:e.title||document.title,desc:e.desc||"",link:e.link||location.href.split("#")[0],imgUrl:e.imgUrl,success:this.successCallback,fail:this.failCallback})}else this.queueWXCallback=e,this.initWXConfig()}},function(){var e={},t=navigator.userAgent;e.ky=window.parent!==window,e.onIOS=!!t.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),e.onMobile=!!t.match(/AppleWebKit.*Mobile.*/),e.onIPhone=t.indexOf("iPhone")>-1,e.onIPad=t.indexOf("iPad")>-1,e.onAndriod=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,e.onWP=t.indexOf("Windows Phone")>-1,e.onQQBrowser=t.indexOf("QQBrowser")>-1,e.onMQQBrowser=t.indexOf("MQQBrowser")>-1,e.onBaiduBrowser=t.indexOf("Baidu")>-1,e.onUCBrowser=t.indexOf("UCBrowser")>-1,e.onLiebao=t.indexOf("LieBao")>-1,e.onSogo=t.indexOf("Sogou")>-1,e.onWeiXin=t.indexOf("MicroMessenger")>-1,e.onWeiBo=t.indexOf("Weibo")>-1,e.onQQ=e.onIOS?t.indexOf("QQ")>-1:e.onMQQBrowser&&!e.onWeiXin,e.onPC=!e.onMobile,e.onKD=/KDM3G/.test(navigator.userAgent)||/KDM3GNEW/.test(navigator.userAgent)||"undefined"!=typeof kdjs||"undefined"!=typeof callKDMSGToResponse,e.width=document.documentElement.clientWidth||document.body.clientWidth,e.height=document.documentElement.clientHeight||document.body.clientHeight,e.onShandw=/Shandw/.test(navigator.userAgent),e.onKD&&e.onAndriod&&(e.and_KdVer=parseInt(kdjs.getKDVersion().replace(/\D/g,""))),NativeBridge={name:"sdwJs",loadJs:1,callbacksCount:1,callbacks:{goBackstage:null,recoverBackstage:null},resultForCallback:function(e,t){var n=NativeBridge.callbacks[e];n?n(t):setTimeout(function(){},10)},objectToString:function(e){var t={};for(var n in e)"function"==typeof e[n]?t[n]=e[n].toString():t[n]=e[n];return JSON.stringify(t)},call:function(t,n,a,i){var o=a&&"function"==typeof a,s=o?NativeBridge.callbacksCount++:-1,c=!1;if(e.ky&&o&&"quickPayment"!=t){var r=JSON.stringify({optionStr:this.objectToString(i),functionName:t,callbackId:s,args:n,postSdwData:!0,operate:"createNativeBridgeCallback"});window.parent.postMessage(r,"*"),c=!0}if(o&&(sessionStorage["NativeBridge_callbacks"+s]=a.toString(),NativeBridge.callbacks[s]=a),!c){var l=JSON.stringify({callbackId:s,args:n}),d="quickPayment"==t?"payment://":"sdw://";d+=t+"#"+l;var u=document.createElement("IFRAME");u.src=d,document.documentElement.appendChild(u),u.parentNode.removeChild(u),u=null}}},n={cachePayHandler:null,JsApiTicket:"",debug:1,loadJs:1,pre_callbacks:[],onShandw:/Shandw/.test(navigator.userAgent),init_load:function(){var e=this,t=document.createElement("script");t.src="",document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){if(e.loadJs=1,e.pre_callbacks.length)for(var t=0;t<e.pre_callbacks.length;t++){var n=e.pre_callbacks[t];n.cb(n.args)}}},log:function(e){this.debug&&alert(e)},hasSDK:function(){var e=/WangZuo/.test(navigator.userAgent),t="undefined"!=typeof CDLAndroid,n=/KDM3GNEW/.test(navigator.userAgent);return t||n||e},selectImg:function(){var e=document.getElementsByTagName("img");return e?e[0].src:""},createCallback:function(e){var t=this;return function(n){try{var a=JSON.parse(n);0==a.result?e.fail&&e.fail(a):1==a.result?e.success&&e.success(a):2==a.result&&e.cancel&&e.cancel(a)}catch(e){t.log(e)}}},createSDKCallback:function(e){var t=this;return function(n){var a=t.createPayData(e);e.complete&&setTimeout(function(){e.complete(a)},20)}},createPayData:function(e){var t={};return t.channel=e.channel,t.appId=e.appId,t.cpOrderId=e.cpOrderId,t.timestamp=e.timestamp,t.accountId=e.accountId,t.amount=e.amount,t.memo=e.memo,t},checkOptionCallback:function(e){for(var t=!0,n=["success","fail","cancel","complete"],a=0;a<n.length;a++)e[n[a]]&&(t=t&&"function"==typeof e[n[a]]);return t||this.log("Function类型错误"),t},checkOptionArguments:function(e,t){for(var n=0;n<t.length;n++)if(!e.hasOwnProperty(t[n]))return{result:0,msg:"参数"+t[n]+"有误"};return{result:1}},getAPPInfo:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("getAPPInfo",null,t,e)}},getUserInfo:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("getUserInfo",null,t,e)}},notifyToAPP:function(e){var t,n=[];if("playGame"==e.type)n=["id","icon","name","time"];else{if("isGame"!=type)return void this.log("缺少type类型");e.show=e.show||0}return t=this.checkOptionArguments(e,n),0==t.result?void this.log(t.msg):void NativeBridge.call("notifyToAPP",e)},requestFullScreen:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("requestFullScreen",e,t)}},exitFullScreen:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("exitFullScreen",e,t)}},closeWindow:function(){NativeBridge.call("closeWindow",null)},goBackWindow:function(){NativeBridge.call("goBackWindow",null)},openLogin:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("openLogin",null,t)}},openWindow:function(e){var t;return e.link?/http(s)?\:\/\//.test(e.link)||(t="参数[link]格式错误！"):t="缺少参数[link]",t?void this.log(t):void NativeBridge.call("openWindow",e)},onShareOperation:function(e){e.target=e.target||"",e.title=e.title||document.title,e.link=e.link||location.href,e.description=e.description||"",e.icon=e.icon||this.selectImg();var t=this.createCallback(e);NativeBridge.call("onShareOperation",e,t)},changeShareOperation:function(e){var t;if(e.target=e.target||"",e.title=e.title||document.title,e.link=e.link||location.href,e.description=e.description||"",e.icon=e.icon||this.selectImg(),t)return void this.log(t);var n=this.createCallback(e);NativeBridge.call("changeShareOperation",e,n)},goBackstage:function(e){e&&"function"==typeof e?(NativeBridge.callbacks.goBackstage=e,NativeBridge.call("goBackstage",null)):this.log("Function参数错误")},recoverBackstage:function(e){e&&"function"==typeof e?(NativeBridge.callbacks.recoverBackstage=e,NativeBridge.call("recoverBackstage",null)):this.log("Function参数错误")},appCallJs:function(e){e&&"function"==typeof e?NativeBridge.call("appCallJs",null,e):this.log("Function参数错误")},checkWebJsFile:function(){return"undefined"!=typeof dhpayObj||(this.log("请检查是否引入支付文件"),!1)},chooseSDWPay:function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}t=t||{};var n=this.checkOptionArguments(t,["subject","appId","gameName","accountId","amount","memo","cpOrderId","sign","timestamp","channel"]);if(t.paychannel=t.paychannel||"",0==n.result)return void this.log(n.msg);if(this.checkOptionCallback(t)){if(this.onShandw||this.hasSDK()){var a=this.createSDKCallback(t);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?this.cachePayHandler=function(){NativeBridge.call("quickPayment",JSON.stringify(t),a,t)}:this.cachePayHandler=function(){CDLAndroid.quickPayment(JSON.stringify(t)),window.onDHSDKResult=a}}else{var i={postjson:{},resultpost:!0,config:{alipay:!0,weixin:!0}};for(var o in t)if("success"!=o&&"fail"!=o&&"cancel"!=o&&"complete"!=o&&"paychannel"!=o&&(i.postjson[o]=t[o]),"complete"==o&&"function"==typeof t.complete){var s=this.createPayData(t);i.closecallback=function(){t.complete(s)}}if(i.closecallback||(i.closecallback=function(){}),""!=t.paychannel){var c="weixin"==t.paychannel;i.config.alipay=!c,i.config.weixin=c}e.onKD&&e.onAndriod&&e.and_KdVer<402&&(i.config.alipay=!1),this.cachePayHandler=function(){dhpayObj&&dhpayObj.payfor(i)}}e.ky&&(console.log("check"),window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"checkVisitorMode"}),"*"))}},onSetShareOperate:function(t){var n=this.clone(t),a={postSdwData:!0,operate:"setSDWShareInfo"};if(console.log("SHARE.OPTION: ",n),e.onWeiXin){var i=["AppMessage","Timeline","QQ","Weibo","QZone"];if(a.source="weixin","undefined"==typeof n.target||""==n.target)n.target=i;else{for(var o=n.target.replace(/weixin:/g,"").split(","),s=[],c=0;c<o.length;c++)i.indexOf(o[c])!=-1&&s.push(o[c]);n.target=s}}"function"!=typeof n.success&&(n.success=function(){}),"function"!=typeof n.fail&&(n.fail=function(){}),a.shareInfo=n,e.ky?parent.postMessage(JSON.stringify(a),"*"):(e.onWeiXin&&sdwShareState.configWXShare(n),console.log("非IFRAME模式下暂未开放"))},closeSDWPay:function(){this.onShandw||this.hasSDK()||(e.ky&&e.onWeiXin?window.parent.postMessage(JSON.stringify({operate:"requestHideQrcode"}),"*"):dhpayObj&&dhpayObj.hidepay())},createDesktop:function(e){e.title=e.title||document.title,e.link=e.link||location.href,e.icon=e.icon||"";var t=this.createCallback(e);NativeBridge.call("createDesktop",e,t)},clone:function(e){if("object"==typeof e){var t={};for(var n in e)t[n]=e[n]}return t}},e.ky&&window.addEventListener("message",function(e){console.log(e.data);try{var t=JSON.parse(e.data);if(t.postSdwData){var a=t.oprate;"shareCallback_success"==a&&sdwShareState.successCallback(),"shareCallback_fail"==a&&sdwShareState.failCallback(),"choosePayCheckState_ok"==a&&(console.log("choosePayCheckState_ok"),console.log(n.cachePayHandler),n.cachePayHandler&&n.cachePayHandler())}}catch(e){}},!1)}(),e.exports=n},function(e,t){},function(e,t){},function(e,t,n){n(14);var a=n(0)(n(9),n(18),null,null);e.exports=a.exports},function(e,t,n){n(16);var a=n(0)(n(10),n(20),null,null);e.exports=a.exports},function(e,t,n){n(15);var a=n(0)(n(11),n(19),null,null);e.exports=a.exports},function(e,t,n){n(13);var a=n(0)(n(12),n(17),null,null);e.exports=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bind-phone",data:function(){return{bindMyPhone:"",bindMyCode:"",bindTimer:null,bindMsg:"获取验证码",bindStartTimer:0}},props:["showBindPhone","bindPhoneItem"],methods:{bindPhoneCheck:function(){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);if(!/\d+/.test(this.bindMyCode))return void window.dialog.show("error","请输入正确的验证码",1);dialog.show("loading","手机绑定中...");var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,time:this.bindTime},!1,HTTP_USER_STATIC+"checkcode");SDW_WEB.getAjaxData(t,function(t){if(1==t.result){var n=e.bindMyPhone.substring(0,3)+"****"+e.bindMyPhone.substring(7);t.myPhoneStr=n,e.$emit("bind-callback",t)}else dialog.show("error",t.msg,1)})},getBindCode:function(){var e=this;if(!(this.bindStartTimer>0)){if(!/\d{11}/.test(this.bindMyPhone))return void window.dialog.show("error","请输入正确的手机号",1);var t=+new Date,n=+new Date,a=faultylabs.MD5(SDW_WEB.channel+SDW_WEB.USER_INFO.uid+t+this.bindMyPhone+n+SDW_WEB.USER_INFO.otoken),i=HTTP_USER_STATIC+"getcode?channel="+SDW_WEB.channel+"&token="+a+"&uid="+SDW_WEB.USER_INFO.uid+"&sec="+t+"&phone="+this.bindMyPhone+"&time="+n;dialog.show("loading","验证码获取中..."),$.ajax({type:"GET",url:i,dataType:"jsonp",jsonp:"cb",timeout:18e5,jsonpCallback:"callFn"+ +new Date+(65536*(1+Math.random())|0).toString(16).substring(1),success:function(t,n){1==t.result?(dialog.show("ok","验证码已发送",1),e.bindTime=t.time,e.bindStartTimer=60,e.bindTimer=setInterval(function(){e.bindStartTimer<=1?(clearInterval(e.bindTimer),e.bindStartTimer=0,e.bindMsg="获取验证码",e.bindTimer=null):e.bindMsg=e.bindStartTimer--+"秒后获取"},1e3)):dialog.show("error",t.msg,1)},error:function(e,t){}})}},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},bindPhoneCheck:function(){}},computed:{show:function(){return this.showBindPhone||0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"game-item",data:function(){return{msg:"i am compB!"}},props:["gameItem","showMore"],methods:{transDate:function(e){var t=+new Date,n=new Date(e),a=t-e,i=(n.getFullYear(),n.getMonth()+1),o=n.getDate();return a<864e5?a<36e5?a<1e4?"刚刚玩过":a<6e4?(a/1e3>>0)+"秒前玩过":(a/6e4>>0)+"分钟前玩过":(a/36e5>>0)+"小时前玩过":(i<10&&(i="0"+i),o<10&&(o="0"+o),i+"."+o+"玩过")},checkAuth:function(e,t){this.$emit("tap-game",e,t)},transformQuantity:function(e){if(e<1e4)return e;if(e<1e8){var t=(e/1e4).toFixed(1).split(".");return"0"==t[1]?t[0]+"万":t[0]+"."+t[1]+"万"}if(e<1e10){var t=(e/1e8).toFixed(1).split(".");return"0"==t[1]?t[0]+"亿":t[0]+"."+t[1]+"亿"}}},computed:{starLists:function(){var e=Math.max(0,this.gameItem.star>>0);e=Math.min(10,e);var t,n=[],a=e/2>>0,i=e%2;for(t=0;t<a;t++)n.push("star2");for(1==i&&(n.push("star1"),a++),t=a;t<5;t++)n.push("star0");return n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-item",data:function(){return{}},methods:{},computed:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkNavState:function(e){this.index==e.index||(0==e.index?location.href="http://192.168.110.149:2222/mobile/index/":1==e.index?location.href="http://192.168.110.149:2222/mobile/rank/":3==e.index?location.href="http://192.168.110.149:2222/mobile/home/":2==e.index&&(location.href="http://192.168.110.149:2222/mobile/task/"))}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var e=parseInt(this.index)||0,t=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],a=[],i=0;i<4;i++){var o={};o.title=t[i],o.icon=n[i],o.select=i==e,o.select&&(o.icon+=" icon-select"),a.push(o)}return a}}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.navList.length&&!e.onShandw?n("div",{class:e.footerClass},e._l(e.navList,function(t,a){return n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:e.checkNavState,item:t,index:a},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:t.icon}),e._v(" "),t.select?e._e():n("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),t.select?n("i",{staticClass:"light"}):e._e()])})):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-info-container"},[e.show?n("div",{staticClass:"mask",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&(e.showBindPhone=0)}}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade2"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bind-phone-infos"},[n("div",{staticClass:"bind-phone-name"},[e._v(e._s(e.bindPhoneItem.title))]),e._v(" "),n("div",{staticClass:"bind-phone-gift"},[e._v("奖励"),n("span",{staticClass:"conts-i"},[e._v(e._s(e.transCoins(e.bindPhoneItem.coin)))])]),e._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyPhone,expression:"bindMyPhone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:e._s(e.bindMyPhone)},on:{input:function(t){t.target.composing||(e.bindMyPhone=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bindMyCode,expression:"bindMyCode"}],attrs:{type:"tel",placeholder:"请输入验证码","data-module":"80%"},domProps:{value:e._s(e.bindMyCode)},on:{input:function(t){t.target.composing||(e.bindMyCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"get-code",class:e.bindTimer?"":"normal-code",attrs:{id:"bindCode"},on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.getBindCode()}}},[e._v("\n                    "+e._s(e.bindMsg)+"\n                ")])]),e._v(" "),n("section",{staticClass:"login-btn-v3",on:{click:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.bindPhoneCheck()}}},[e._v("绑"),n("span",{staticStyle:{width:"20px"}}),e._v("定\n            ")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c||t;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-container"},[n("div",{staticClass:"loading-more"},[n("i",{staticClass:"icon-loading"}),e._v(" "),n("span",{staticClass:"loading-text"},[e._v("努力加载中...")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-list-item",on:{click:function(t){t.stopPropagation(),e.checkAuth("detail",e.gameItem.id)}}},[n("div",{staticClass:"game-cover-info"},[n("img",{staticClass:"game-list-cover",attrs:{"data-src":e.gameItem.cover,"data-loaded":"0"}}),e._v(" "),n("div",{staticClass:"game-title"},[e._v(e._s(e.gameItem.title))])]),e._v(" "),e.showMore?[n("div",{staticClass:"tag-list"},e._l(e.gameItem.tags,function(e){return n("i",{staticClass:"tags",class:e})}))]:[n("div",{staticClass:"game-play-time"},[e._v(e._s(e.transDate(e.gameItem.time)))])],e._v(" "),n("div",{staticClass:"game-more-info"},[e.showMore?[n("div",{staticClass:"game-info"},[n("span",{staticClass:"star-list"},e._l(e.starLists,function(e,t){return n("i",{class:e})})),e._v(" "),n("span",{staticClass:"light-num"},[e._v(e._s(e.transformQuantity(e.gameItem.quantity)))]),e._v("人在玩\n            ")]),e._v(" "),n("div",{staticClass:"game-desc"},[e._v(e._s(e.gameItem.desc))])]:e._e(),e._v(" "),e.showMore?n("div",{staticClass:"game-btn",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")]):e._e(),e._v(" "),e.showMore?e._e():n("div",{staticClass:"game-btn larger",on:{click:function(t){t.target===t.currentTarget&&(t.stopPropagation(),e.checkAuth("play",e.gameItem.id))}}},[e._v("开玩")])],2)],2)},staticRenderFns:[]}},function(e,t,n){function a(){var e=document.querySelectorAll('img[data-loaded="0"]');i(e)}function i(e,t){for(var n=0,a=e.length;n<a;n++)e[n].getBoundingClientRect().top<document.documentElement.clientHeight&&!e[n].isLoad&&(e[n].isLoad=!0,e[n].dataset.loaded="1",!t&&(e[n].style.cssText="transition: ''; opacity: 0;"),o(e[n],e[n].dataset.src,t))}function o(e,t,n){function a(e,t){return e.classList.contains(t)}if(t){var i=new Image;i.onload=function(){e.src=i.src,!n&&(e.style.cssText="transition: 1s; opacity: 1;");var t=e.parentNode;t&&(a(t,"game-cover-info")||a(t,"recommend-list"))&&(t.style.transition=".4s",t.style.background="rgba(0,0,0,0)")},i.src=t}}var s=n(2),c=n(6),r=n(8),l=n(7),d=n(5);n(4),n(3);var u={onShandw:SDW_WEB.onShandw,bindPhoneItem:{},showEwmV2:0,user:{gold:0,avatar:"",nick:"",phone:null},pageHasLoading:!1,hotGameList:[],newGameList:[],isShowHotGame:!0,hotGames:{isLoad:!1,page:0,hasMoreData:!0},newGames:{isLoad:!1,page:0,hasMoreData:!0},recommendList:[],bannerList:[]},h={showPhoneBindFn:function(){this.$refs.binPhone.showBindPhone=1},transCoins:function(e){var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0},transDate:function(e){var t=+new Date,n=new Date(e),a=t-e,i=(n.getFullYear(),n.getMonth()+1),o=n.getDate();return a<864e5?a<36e5?a<1e4?"刚刚玩过":a<6e4?(a/1e3>>0)+"秒前":(a/6e4>>0)+"分前":(a/36e5>>0)+"时前":(i<10&&(i="0"+i),o<10&&(o="0"+o),i+"."+o)},changeGameListState:function(e){this.pageHasLoading||(this.isShowHotGame=e,m.enable=1==e,p.enable=0==e,0==e&&0==this.newGames.page&&this.loadNewGameList())},checkGameSate:function(e,t){var n,a={gid:t,channel:SDW_WEB.channel};n="play"==e?"https://www.shandw.com/v2/mobile/game/":"https://www.shandw.com/mobile/details.html";var i=SDW_WEB.URLS.addParam(a,!1,n);SDW_WEB.onShandw?s.openWindow({link:i,isFullScreen:!0,title:"",fail:function(e){alert("回调失败")}}):location.href=i},loadNewGameList:function(){if(!this.newGames.isLoad&&this.newGames.hasMoreData){this.newGames.isLoad=!0;var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,page:this.newGames.page,type:"",flag:1},!1,HTTP_STATIC+"pcgg");this.pageHasLoading=!0,SDW_WEB.getAjaxData(t,function(t){if(e.pageHasLoading=!1,1==t.result){e.newGames.page++,0==t.list.length&&(e.newGames.hasMoreData=!1);for(var n=t.list,i=[],o=0;o<n.length;o++){var s=n[o];i.push({id:s.id,cover:s.bIcon,title:s.name,time:s.time,star:s.vStar,quantity:s.vPv,desc:s.sInfo,tags:s.gift?["gift"]:[]})}e.newGameList=e.newGameList.concat(i)}e.$nextTick(function(){a(),setTimeout(function(){e.newGames.isLoad=!1},300)})})}},clickBannerEvt:function(e){this.checkGameSate("play",this.bannerList[e].id)},createRecommend:function(e){for(var t,n=e.recent||[],a=e.recommand||[],i=[],o=0;o<a.length;o++){for(var s=0;s<n.length;s++)if(a[o].id==n[s].id){t=s;break}t==n.length&&i.push(a[o])}var c=n.concat(i);return c.splice(0,5)},createBanner:function(e){var t=e.ad||[],n='<img data-src=D_IMG class="swiper-slide slider-img" data-index=D_INDEX data-loaded="5">';return t.forEach(function(e,t){if("10041"==SDW_WEB.channel)var a=n.replace(/D_IMG/,e["670x280"]).replace(/D_INDEX/,t);else var a=n.replace(/D_IMG/,e.adImg).replace(/D_INDEX/,t);$("#bannercont").append(a)}),t},bindPhoneCallback:function(){},loadMainData:function(){if(!this.hotGames.isLoad&&this.hotGames.hasMoreData){this.hotGames.isLoad=!0;var e=this,t=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,page:this.hotGames.page,type:1,flag:1},!1,HTTP_STATIC+"main");this.pageHasLoading=!0,SDW_WEB.getAjaxData(t,function(t){if(e.pageHasLoading=!1,1==t.result){if(0==e.hotGames.page){e.user.avatar=t.avatar,e.user.gold=t.gold,e.bindPhoneItem=t.phoneTask,e.user.phone=t.phone,e.recommendList=e.createRecommend(t),e.bannerList=e.createBanner(t);new Swiper(".banner-conatiner",{pagination:".swiper-pagination",effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,coverflow:{rotate:45,stretch:0,depth:145,modifier:1,slideShadows:!0}});if(e.bannerList.length){var n="10041"==SDW_WEB.channel?e.bannerList[0]["670x280"]:e.bannerList[0].adImg;$("#topBanner").attr("src",n)}}e.hotGames.page++,0==t.list.length&&(e.hotGames.hasMoreData=!1);for(var a=t.list,o=[],s=0;s<a.length;s++){var c=a[s];o.push({id:c.id,cover:c.bIcon,title:c.name,time:c.time,star:c.vStar,quantity:c.vPv,desc:c.sInfo,tags:c.gift?["gift"]:[]})}e.hotGameList=e.hotGameList.concat(o)}e.$nextTick(function(){var t=document.querySelectorAll('img[data-loaded="0"]');i(t),setTimeout(function(){e.hotGames.isLoad=!1},300),1==e.hotGames.page&&setTimeout(function(){var t=document.querySelectorAll('img[data-loaded="5"]');i(t,!0),$(".slider-img").click(function(t){e.clickBannerEvt(this.dataset.index)})},200)})})}}},f=new Vue({el:"#app",data:u,methods:h,components:{gameItem:c,sdwFooter:r,loadingView:l,bindPhone:d}});a();var g=n(1),m=(new g(a),new g(function(){f.loadMainData()},!0,200,10)),p=new g(function(){f.loadNewGameList()},!0,200,10);p.enable=!1,SDW_WEB.onShandw?SDW_WEB.sdw&&SDW_WEB.sdw.getUserInfo({success:function(e){SDW_WEB.USER_INFO=e,f.loadMainData()},fail:function(e){alert(e.msg)}}):f.loadMainData()}]);