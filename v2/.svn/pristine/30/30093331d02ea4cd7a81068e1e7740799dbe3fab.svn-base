!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){var n=function(e){function t(e){var t=(e>>>0).toString(16);return"00000000".substr(0,8-t.length)+t}function n(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(u(e[n]));return t}function o(e){for(var t=[],n=0;n<8;n++)t.push(255&e),e>>>=8;return t}function i(e,t){return e<<t&4294967295|e>>>32-t}function a(e,t,n){return e&t|~e&n}function r(e,t,n){return n&e|~n&t}function c(e,t,n){return e^t^n}function s(e,t,n){return t^(e|~n)}function l(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e){for(var t=[],n=0;n<e.length;n++)if(e.charCodeAt(n)<=127)t.push(e.charCodeAt(n));else for(var o=encodeURIComponent(e.charAt(n)).substr(1).split("%"),i=0;i<o.length;i++)t.push(parseInt(o[i],16));return t}function d(e,n,o,i){for(var a="",r=0,c=0,s=3;s>=0;s--)c=arguments[s],r=255&c,c>>>=8,r<<=8,r|=255&c,c>>>=8,r<<=8,r|=255&c,c>>>=8,r<<=8,r|=c,a+=t(r);return a}function h(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function f(e,t){return 4294967295&e+t}function p(){function e(e,t,n,o){var a=k;k=y,y=v,v=f(v,i(f(w,f(e,f(t,n))),o)),w=a}var t=g.length;g.push(128);var n=g.length%64;if(n>56){for(var u=0;u<64-n;u++)g.push(0);n=g.length%64}for(u=0;u<56-n;u++)g.push(0);g=g.concat(o(8*t));var h=1732584193,p=4023233417,S=2562383102,m=271733878,w=0,v=0,y=0,k=0;for(u=0;u<g.length/64;u++){w=h,v=p,y=S,k=m;var C=64*u;e(a(v,y,k),3614090360,l(g,C),7),e(a(v,y,k),3905402710,l(g,C+4),12),e(a(v,y,k),606105819,l(g,C+8),17),e(a(v,y,k),3250441966,l(g,C+12),22),e(a(v,y,k),4118548399,l(g,C+16),7),e(a(v,y,k),1200080426,l(g,C+20),12),e(a(v,y,k),2821735955,l(g,C+24),17),e(a(v,y,k),4249261313,l(g,C+28),22),e(a(v,y,k),1770035416,l(g,C+32),7),e(a(v,y,k),2336552879,l(g,C+36),12),e(a(v,y,k),4294925233,l(g,C+40),17),e(a(v,y,k),2304563134,l(g,C+44),22),e(a(v,y,k),1804603682,l(g,C+48),7),e(a(v,y,k),4254626195,l(g,C+52),12),e(a(v,y,k),2792965006,l(g,C+56),17),e(a(v,y,k),1236535329,l(g,C+60),22),e(r(v,y,k),4129170786,l(g,C+4),5),e(r(v,y,k),3225465664,l(g,C+24),9),e(r(v,y,k),643717713,l(g,C+44),14),e(r(v,y,k),3921069994,l(g,C),20),e(r(v,y,k),3593408605,l(g,C+20),5),e(r(v,y,k),38016083,l(g,C+40),9),e(r(v,y,k),3634488961,l(g,C+60),14),e(r(v,y,k),3889429448,l(g,C+16),20),e(r(v,y,k),568446438,l(g,C+36),5),e(r(v,y,k),3275163606,l(g,C+56),9),e(r(v,y,k),4107603335,l(g,C+12),14),e(r(v,y,k),1163531501,l(g,C+32),20),e(r(v,y,k),2850285829,l(g,C+52),5),e(r(v,y,k),4243563512,l(g,C+8),9),e(r(v,y,k),1735328473,l(g,C+28),14),e(r(v,y,k),2368359562,l(g,C+48),20),e(c(v,y,k),4294588738,l(g,C+20),4),e(c(v,y,k),2272392833,l(g,C+32),11),e(c(v,y,k),1839030562,l(g,C+44),16),e(c(v,y,k),4259657740,l(g,C+56),23),e(c(v,y,k),2763975236,l(g,C+4),4),e(c(v,y,k),1272893353,l(g,C+16),11),e(c(v,y,k),4139469664,l(g,C+28),16),e(c(v,y,k),3200236656,l(g,C+40),23),e(c(v,y,k),681279174,l(g,C+52),4),e(c(v,y,k),3936430074,l(g,C),11),e(c(v,y,k),3572445317,l(g,C+12),16),e(c(v,y,k),76029189,l(g,C+24),23),e(c(v,y,k),3654602809,l(g,C+36),4),e(c(v,y,k),3873151461,l(g,C+48),11),e(c(v,y,k),530742520,l(g,C+60),16),e(c(v,y,k),3299628645,l(g,C+8),23),e(s(v,y,k),4096336452,l(g,C),6),e(s(v,y,k),1126891415,l(g,C+28),10),e(s(v,y,k),2878612391,l(g,C+56),15),e(s(v,y,k),4237533241,l(g,C+20),21),e(s(v,y,k),1700485571,l(g,C+48),6),e(s(v,y,k),2399980690,l(g,C+12),10),e(s(v,y,k),4293915773,l(g,C+40),15),e(s(v,y,k),2240044497,l(g,C+4),21),e(s(v,y,k),1873313359,l(g,C+32),6),e(s(v,y,k),4264355552,l(g,C+60),10),e(s(v,y,k),2734768916,l(g,C+24),15),e(s(v,y,k),1309151649,l(g,C+52),21),e(s(v,y,k),4149444226,l(g,C+16),6),e(s(v,y,k),3174756917,l(g,C+44),10),e(s(v,y,k),718787259,l(g,C+8),15),e(s(v,y,k),3951481745,l(g,C+36),21),h=f(h,w),p=f(p,v),S=f(S,y),m=f(m,k)}return d(m,S,p,h).toUpperCase()}var g=null,S=null;return"string"==typeof e?g=u(e):e.constructor==Array?0===e.length?g=e:"string"==typeof e[0]?g=n(e):"number"==typeof e[0]?g=e:S=typeof e[0]:"undefined"!=typeof ArrayBuffer?e instanceof ArrayBuffer?g=h(new Uint8Array(e)):e instanceof Uint8Array||e instanceof Int8Array?g=h(e):e instanceof Uint32Array||e instanceof Int32Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Float32Array||e instanceof Float64Array?g=h(new Uint8Array(e.buffer)):S=typeof e:S=typeof e,S&&alert("MD5 type mismatch, cannot process "+S),p()};e.exports=n},function(e,t){var n={},o=navigator.userAgent;n.onIOS=!!o.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),n.onMobile=!!o.match(/AppleWebKit.*Mobile.*/),n.onIPhone=o.indexOf("iPhone")>-1,n.onIPad=o.indexOf("iPad")>-1,n.onAndriod=o.indexOf("Android")>-1||o.indexOf("Adr")>-1,n.onWP=o.indexOf("Windows Phone")>-1,n.onQQBrowser=o.indexOf("QQBrowser")>-1,n.onMQQBrowser=o.indexOf("MQQBrowser")>-1,n.onWeiXin=o.indexOf("MicroMessenger")>-1,n.onWeiBo=o.indexOf("Weibo")>-1,n.onQQ=n.onIOS?o.indexOf("QQ")>-1:n.onMQQBrowser&&!n.onWeiXin,n.onPC=!n.onMobile,n.onKD=/KDM3G/.test(o)||/KDM3GNEW/.test(o)||"undefined"!=typeof kdjs||"undefined"!=typeof callKDMSGToResponse,n.width=document.documentElement.clientWidth||document.body.clientWidth,n.height=document.documentElement.clientHeight||document.body.clientHeight,n.onShandw=/Shandw/.test(navigator.userAgent),n.os=0,n.onIOS?n.os=2:n.onAndriod&&(n.os=1),n.getNow=function(){return+new Date},e.exports=n},function(e,t,n){var o="_Store_CHEN_",i={CACHE_KEY:o,supportSession:!1,supportLocal:!1,supportStorage:!1,CACHE_MAP_LOCAL:{},CACHE_MAP_SESSION:{},REG_FLAG:new RegExp(o)};i._init=function(){this.supportSession=this.supportType("sessionStorage"),this.supportLocal=this.supportType("localStorage"),this.supportStorage=this.supportSession&&this.supportLocal},i.supportType=function(e){return window[e]},i.set=function(e,t,n){if(this.supportStorage){e+=this.CACHE_KEY;var o=JSON.stringify({timestamp:+new Date,data:t});n?window.localStorage[e]=o:window.sessionStorage[e]=o}},i.get=function(e,t){if(!this.supportStorage)return null;e+=this.CACHE_KEY;var n=t?window.localStorage[e]:window.sessionStorage[e],o=n?JSON.parse(n).data:null;return o},i.clearItem=function(e,t){this.supportStorage&&(e+=this.CACHE_KEY,t?window.localStorage.removeItem(e):window.sessionStorage.removeItem(e))},i.getAll=function(e){if(!this.supportStorage)return null;var t={},n=e?window.localStorage:window.sessionStorage;for(var o in n)if(n.hasOwnProperty(o)){var i=o.replace(this.REG_FLAG,""),a=this.get(i,e);a&&(t[i]=this.get(i,e))}return t},i.clearAll=function(e){if(this.supportStorage){var t=e?window.localStorage:window.sessionStorage;for(var n in t)t.hasOwnProperty(n)&&this.REG_FLAG.test(n)&&t.removeItem(n)}},i._getCache=function(e,t){var n=null;return t&&this.supportLocal&&(n=this.CACHE_MAP_LOCAL[e]),!t&&this.supportSession&&(n=this.CACHE_MAP_SESSION[e]),n},i._setCache=function(e,t,n){n&&this.supportLocal&&(this.CACHE_MAP_LOCAL[e]=t),!n&&this.supportSession&&(this.CACHE_MAP_SESSION[e]=t)},i._clearCache=function(e,t){t&&this.supportLocal&&this._setCache(e,null,t),!t&&this.supportSession&&this._setCache(e,null,t)},i._init(),e.exports=i},function(e,t){var n={URL_MAP:{}};n.queryUrl=function(e,t){if(t=t||location.search||"",t=t.indexOf("#")!=-1?t.split("#")[0]:t,t=t.indexOf("?")!=-1?t.split("?")[1]:t,this.URL_MAP[t])return this.URL_MAP[t];for(var n,o,i,a={},r=t.length?t.split("&"):[],c=0;c<r.length;c++)n=r[c].split("="),o=e?this.decodeURI(n[0]):n[0],i=e?this.decodeURI(n[1]):n[1],o.length&&(a[o]=i);return this.URL_MAP[t]=a,a},n.param=function(e,t){"object"!=typeof e&&(e={});var n=[];for(var o in e)if(e.hasOwnProperty(o)){var i=t?this.encodeURI(e[o]):e[o];n.push(o+"="+i)}return n.join("&")},n.addParam=function(e,t,n){var o=this.param(e,t);return n=n||location.href||"",n.indexOf("?")==-1?n+"?"+o:n+"&"+o},n.replaceState=function(e){0!=arguments.length&&history.replaceState&&history.replaceState({},"",e)},n.encodeURI=function(e){return e=e||"",encodeURIComponent(e)},n.decodeURI=function(e){return e=e||"",decodeURIComponent(e)},n.spliceParam=function(e){return e=e||location.href,e.indexOf("?")!=-1?"?"+e.split("?")[1]:""},e.exports=n},function(e,t){var n;window.NativeBridge,window.sdwShareState={jsApiTicket:"",hasWXConfig:!1,queueWXCallback:null,successCallback:null,failCallback:null,initWXConfig:function(){if(this.jsApiTicket){var e=this,t=this.jsApiTicket,n=GUID(),o=+new Date/1e3>>0,i=location.href.split("#")[0],a="jsapi_ticket="+t+"&noncestr="+n+"&timestamp="+o+"&url="+i,r=hex_sha1(a);wx.config({debug:!1,appId:"wxfd695e777664b347",timestamp:o,nonceStr:n,signature:r,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),wx.ready(function(){e.hasWXConfig=!0,e.queueWXCallback&&e.configWXShare(e.queueWXCallback)})}},checkCallbackFn:function(e,t){"function"==typeof e[t]?this[t+"Callback"]=function(){window.parent===window?e[t]():window.postMessage(JSON.stringify({postSdwData:!0,oprate:"shareCallback_"+t}),"*")}:this[t+"Callback"]=function(){}},configWXShare:function(e){if(this.jsApiTicket)if(this.hasWXConfig){this.checkCallbackFn(e,"success"),this.checkCallbackFn(e,"fail");for(var t=0;t<e.target.length;t++)wx["onMenuShare"+e.target[t]]({title:e.title||document.title,desc:e.desc||"",link:e.link||location.href.split("#")[0],imgUrl:e.imgUrl,success:this.successCallback,fail:this.failCallback})}else this.queueWXCallback=e,this.initWXConfig()}},function(){var e={},t=navigator.userAgent;e.ky=window.parent!==window,e.onIOS=!!t.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),e.onMobile=!!t.match(/AppleWebKit.*Mobile.*/),e.onIPhone=t.indexOf("iPhone")>-1,e.onIPad=t.indexOf("iPad")>-1,e.onAndriod=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,e.onWP=t.indexOf("Windows Phone")>-1,e.onQQBrowser=t.indexOf("QQBrowser")>-1,e.onMQQBrowser=t.indexOf("MQQBrowser")>-1,e.onBaiduBrowser=t.indexOf("Baidu")>-1,e.onUCBrowser=t.indexOf("UCBrowser")>-1,e.onLiebao=t.indexOf("LieBao")>-1,e.onSogo=t.indexOf("Sogou")>-1,e.onWeiXin=t.indexOf("MicroMessenger")>-1,e.onWeiBo=t.indexOf("Weibo")>-1,e.onQQ=e.onIOS?t.indexOf("QQ")>-1:e.onMQQBrowser&&!e.onWeiXin,e.onPC=!e.onMobile,e.onKD=/KDM3G/.test(navigator.userAgent)||/KDM3GNEW/.test(navigator.userAgent)||"undefined"!=typeof kdjs||"undefined"!=typeof callKDMSGToResponse,e.width=document.documentElement.clientWidth||document.body.clientWidth,e.height=document.documentElement.clientHeight||document.body.clientHeight,e.onShandw=/Shandw/.test(navigator.userAgent),e.onKD&&e.onAndriod&&(e.and_KdVer=parseInt(kdjs.getKDVersion().replace(/\D/g,""))),NativeBridge={name:"sdwJs",loadJs:1,callbacksCount:1,callbacks:{goBackstage:null,recoverBackstage:null},resultForCallback:function(e,t){var n=NativeBridge.callbacks[e];n?n(t):setTimeout(function(){},10)},objectToString:function(e){var t={};for(var n in e)"function"==typeof e[n]?t[n]=e[n].toString():t[n]=e[n];return JSON.stringify(t)},call:function(t,n,o,i){var a=o&&"function"==typeof o,r=a?NativeBridge.callbacksCount++:-1,c=!1;if(e.ky&&a&&"quickPayment"!=t){var s=JSON.stringify({optionStr:this.objectToString(i),functionName:t,callbackId:r,args:n,postSdwData:!0,operate:"createNativeBridgeCallback"});window.parent.postMessage(s,"*"),c=!0}if(a&&(sessionStorage["NativeBridge_callbacks"+r]=o.toString(),NativeBridge.callbacks[r]=o),!c){var l=JSON.stringify({callbackId:r,args:n}),u="quickPayment"==t?"payment://":"sdw://";u+=t+"#"+l;var d=document.createElement("IFRAME");d.src=u,document.documentElement.appendChild(d),d.parentNode.removeChild(d),d=null}}},n={cachePayHandler:null,JsApiTicket:"",debug:1,loadJs:1,pre_callbacks:[],onShandw:/Shandw/.test(navigator.userAgent),init_load:function(){var e=this,t=document.createElement("script");t.src="",document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){if(e.loadJs=1,e.pre_callbacks.length)for(var t=0;t<e.pre_callbacks.length;t++){var n=e.pre_callbacks[t];n.cb(n.args)}}},log:function(e){this.debug&&alert(e)},hasSDK:function(){var e=/WangZuo/.test(navigator.userAgent),t="undefined"!=typeof CDLAndroid,n=/KDM3GNEW/.test(navigator.userAgent);return t||n||e},selectImg:function(){var e=document.getElementsByTagName("img");return e?e[0].src:""},createCallback:function(e){var t=this;return function(n){try{var o=JSON.parse(n);0==o.result?e.fail&&e.fail(o):1==o.result?e.success&&e.success(o):2==o.result&&e.cancel&&e.cancel(o)}catch(e){t.log(e)}}},createSDKCallback:function(e){var t=this;return function(n){var o=t.createPayData(e);e.complete&&setTimeout(function(){e.complete(o)},20)}},createPayData:function(e){var t={};return t.channel=e.channel,t.appId=e.appId,t.cpOrderId=e.cpOrderId,t.timestamp=e.timestamp,t.accountId=e.accountId,t.amount=e.amount,t.memo=e.memo,t},checkOptionCallback:function(e){for(var t=!0,n=["success","fail","cancel","complete"],o=0;o<n.length;o++)e[n[o]]&&(t=t&&"function"==typeof e[n[o]]);return t||this.log("Function类型错误"),t},checkOptionArguments:function(e,t){for(var n=0;n<t.length;n++)if(!e.hasOwnProperty(t[n]))return{result:0,msg:"参数"+t[n]+"有误"};return{result:1}},getAPPInfo:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("getAPPInfo",null,t,e)}},getUserInfo:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("getUserInfo",null,t,e)}},notifyToAPP:function(e){var t,n=[];if("playGame"==e.type)n=["id","icon","name","time"];else{if("isGame"!=type)return void this.log("缺少type类型");e.show=e.show||0}return t=this.checkOptionArguments(e,n),0==t.result?void this.log(t.msg):void NativeBridge.call("notifyToAPP",e)},requestFullScreen:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("requestFullScreen",e,t)}},exitFullScreen:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("exitFullScreen",e,t)}},closeWindow:function(){NativeBridge.call("closeWindow",null)},goBackWindow:function(){NativeBridge.call("goBackWindow",null)},openLogin:function(e){if(this.checkOptionCallback(e)){var t=this.createCallback(e);NativeBridge.call("openLogin",null,t)}},openWindow:function(e){var t;return e.link?/http(s)?\:\/\//.test(e.link)||(t="参数[link]格式错误！"):t="缺少参数[link]",t?void this.log(t):void NativeBridge.call("openWindow",e)},onShareOperation:function(e){e.target=e.target||"",e.title=e.title||document.title,e.link=e.link||location.href,e.description=e.description||"",e.icon=e.icon||this.selectImg();var t=this.createCallback(e);NativeBridge.call("onShareOperation",e,t)},changeShareOperation:function(e){var t;if(e.target=e.target||"",e.title=e.title||document.title,e.link=e.link||location.href,e.description=e.description||"",e.icon=e.icon||this.selectImg(),t)return void this.log(t);var n=this.createCallback(e);NativeBridge.call("changeShareOperation",e,n)},goBackstage:function(e){e&&"function"==typeof e?(NativeBridge.callbacks.goBackstage=e,NativeBridge.call("goBackstage",null)):this.log("Function参数错误")},recoverBackstage:function(e){e&&"function"==typeof e?(NativeBridge.callbacks.recoverBackstage=e,NativeBridge.call("recoverBackstage",null)):this.log("Function参数错误")},appCallJs:function(e){e&&"function"==typeof e?NativeBridge.call("appCallJs",null,e):this.log("Function参数错误")},checkWebJsFile:function(){return"undefined"!=typeof dhpayObj||(this.log("请检查是否引入支付文件"),!1)},chooseSDWPay:function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}t=t||{};var n=this.checkOptionArguments(t,["subject","appId","gameName","accountId","amount","memo","cpOrderId","sign","timestamp","channel"]);if(t.paychannel=t.paychannel||"",0==n.result)return void this.log(n.msg);if(this.checkOptionCallback(t)){if(this.onShandw||this.hasSDK()){var o=this.createSDKCallback(t);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?this.cachePayHandler=function(){NativeBridge.call("quickPayment",JSON.stringify(t),o,t)}:this.cachePayHandler=function(){CDLAndroid.quickPayment(JSON.stringify(t)),window.onDHSDKResult=o}}else{var i={postjson:{},resultpost:!0,config:{alipay:!0,weixin:!0}};for(var a in t)if("success"!=a&&"fail"!=a&&"cancel"!=a&&"complete"!=a&&"paychannel"!=a&&(i.postjson[a]=t[a]),"complete"==a&&"function"==typeof t.complete){var r=this.createPayData(t);i.closecallback=function(){t.complete(r)}}if(i.closecallback||(i.closecallback=function(){}),""!=t.paychannel){var c="weixin"==t.paychannel;i.config.alipay=!c,i.config.weixin=c}e.onKD&&e.onAndriod&&e.and_KdVer<402&&(i.config.alipay=!1),this.cachePayHandler=function(){dhpayObj&&dhpayObj.payfor(i)}}e.ky&&(console.log("check"),window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"checkVisitorMode"}),"*"))}},onSetShareOperate:function(t){var n=this.clone(t),o={postSdwData:!0,operate:"setSDWShareInfo"};if(console.log("SHARE.OPTION: ",n),e.onWeiXin){var i=["AppMessage","Timeline","QQ","Weibo","QZone"];if(o.source="weixin","undefined"==typeof n.target||""==n.target)n.target=i;else{for(var a=n.target.replace(/weixin:/g,"").split(","),r=[],c=0;c<a.length;c++)i.indexOf(a[c])!=-1&&r.push(a[c]);n.target=r}}"function"!=typeof n.success&&(n.success=function(){}),"function"!=typeof n.fail&&(n.fail=function(){}),o.shareInfo=n,e.ky?parent.postMessage(JSON.stringify(o),"*"):(e.onWeiXin&&sdwShareState.configWXShare(n),console.log("非IFRAME模式下暂未开放"))},closeSDWPay:function(){this.onShandw||this.hasSDK()||(e.ky&&e.onWeiXin?window.parent.postMessage(JSON.stringify({operate:"requestHideQrcode"}),"*"):dhpayObj&&dhpayObj.hidepay())},createDesktop:function(e){e.title=e.title||document.title,e.link=e.link||location.href,e.icon=e.icon||"";var t=this.createCallback(e);NativeBridge.call("createDesktop",e,t)},clone:function(e){if("object"==typeof e){var t={};for(var n in e)t[n]=e[n]}return t}},e.ky&&window.addEventListener("message",function(e){console.log(e.data);try{var t=JSON.parse(e.data);if(t.postSdwData){var o=t.oprate;"shareCallback_success"==o&&sdwShareState.successCallback(),"shareCallback_fail"==o&&sdwShareState.failCallback(),"choosePayCheckState_ok"==o&&(console.log("choosePayCheckState_ok"),console.log(n.cachePayHandler),n.cachePayHandler&&n.cachePayHandler())}}catch(e){}},!1)}(),e.exports=n},function(e,t,n){function o(){var e=SDW_WEB.queryParam.channel;return e="undefined"!==e&&/^\d+$/.test(e)?e||"10000":"10000"}var i=n(4);window.SDW_WEB=n(1),SDW_WEB.Store=n(2),SDW_WEB.URLS=n(3),SDW_WEB.queryParam=SDW_WEB.URLS.queryUrl(!0),SDW_WEB.sdw=i,SDW_WEB.MD5=n(0),SDW_WEB.channel=o(),SDW_WEB.localItem="SDW_USER_DATA_",window.DATAITEM="H5_DATA15";var a=SDW_WEB.queryParam.url_Type;a&&(SDW_WEB.localItem+=a,window.DATAITEM+=a),SDW_WEB.getUserInfo=function(e,t){var n={qq:"https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101359011&redirect_uri=URLREPLACE&scope=get_user_info&state=123456&display=mobile",wb:"https://api.weibo.com/oauth2/authorize?client_id=530008665&redirect_uri=URLREPLACE&response_type=code",wx:"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxfd695e777664b347&redirect_uri=URLREPLACE&response_type=code&scope=snsapi_userinfo&state=125455#wechat_redirect"};if(!this.onShandw&&"m3g"!=this.queryParam.s_from){var o=this.Store.get(this.localItem,!0);if(o)o.secheme=+new Date,o.token=this.MD5(""+this.channel+o.uid+o.secheme+o.otoken),console.log("otoken => ",o.otoken),console.log("before => ",this.channel+o.uid+o.secheme+o.otoken),console.log("after  => ",o.token),console.log(o),this.USER_INFO=o,this.onKD&&JSON.parse(sessionStorage.KD_USER).uid!=this.USER_INFO.uid&&(location.href=t),e&&e(o);else{if("string"!=typeof t||!/^(https|http)/.test(t))return void console.log("[SDW_WEB.getUserInfo]: authUrl 参数必须是回调地址");if(this.onWeiXin)location.href=n.wx.replace(/URLREPLACE/,encodeURIComponent(t));else if(this.onKD)location.href=t;else if(this.onQQ||this.onQQBrowser)location.href=n.qq.replace(/URLREPLACE/,encodeURIComponent(t));else if(this.onWeiBo)location.href=location.href=n.wb.replace(/URLREPLACE/,encodeURIComponent(t));else{var i=this.queryParam.lg_to,a=this.queryParam.gid;if("1247433539"==a)return void(location.href="https://www.shandw.com/mobile/message/jueZhan/?channel="+this.channel);i?location.href="https://www.shandw.com/mobile/message/"+i+"/?channel="+this.channel+"&lg_to="+i+"&gid="+a:location.href="https://www.shandw.com/mobile/login.html?lg_to="+encodeURIComponent(location.href)+"&channel="+this.channel}}}},SDW_WEB.changeUrl=function(){var e=location.href;if(e.indexOf("channel")==-1&&(e+="&channel="+this.channel),e.indexOf("?")==-1)var t=e.replace(/&/,"?");else t=e;var n={foo:"bar"};history.replaceState(n,"",t)},SDW_WEB.changeUrl(),"1"==SDW_WEB.queryParam.apiTest?(window.HTTP_STATIC="http://192.168.110.148:9061/",window.HTTP_USER_STATIC="http://192.168.110.148:9060/"):(window.HTTP_STATIC="https://platform.shandw.com/",window.HTTP_USER_STATIC="https://auth.shandw.com/"),SDW_WEB.createGUI=function(e){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},n="SDW_GUID",o=this.Store.get(n,!0)||"";if(32!=o.length){o="";for(var i=0;i<e;i++)o+=t();this.Store.set(n,o,!0)}return o},SDW_WEB.guid=SDW_WEB.createGUI(8),SDW_WEB.getAjaxData=function(e,t,n){var o={imei:SDW_WEB.guid,os:SDW_WEB.os,tg:0,w:SDW_WEB.width,h:SDW_WEB.height};SDW_WEB.USER_INFO.fl&&(o.fl=SDW_WEB.USER_INFO.fl),e=SDW_WEB.URLS.addParam(o,!1,e),$.ajax({type:"GET",url:e,dataType:"jsonp",jsonp:"cb",timeout:18e5,jsonpCallback:"callFn"+ +new Date+(65536*(1+Math.random())|0).toString(16).substring(1),success:function(e,o){e.result==-3&&(SDW_WEB.USER_INFO.uid=null),"function"==typeof t&&(n?1==e.result?t(e):alert(JSON.stringify(e)):t(e))},error:function(e,t){console.log("[AJAX ERROR]:",e,t)}})},function(e){var t=e.documentElement.clientWidth,n=t/375*16;n=Math.min(n,19),e.documentElement.style.fontSize=n+"px"}(document),document.addEventListener("DOMContentLoaded",function(){window.dialog={dom:null,msgCont:null,icons:null,timer:null,types:["ok","error","loading"],init:function(){$("body").append('<section class="dialogsCont"><section class="dialogs"><div id="icons"></div><div class="msg"></div></section></section>'),dialog.dom=$(".dialogsCont")[0],dialog.msgCont=$(".dialogs .msg")[0],dialog.icons=$("#icons")[0]},show:function(e,t,n){dialog.timer&&(clearTimeout(dialog.timer),dialog.timer=null),dialog.msgCont.innerHTML=t,dialog.icons.className="icon-"+e,dialog.dom.style.visibility="visible",dialog.dom.style.opacity="1",n&&dialog.hidden(2e3)},hidden:function(e){e=e||0,dialog.timer=setTimeout(function(){dialog.dom.style.visibility="hidden",dialog.dom.style.opacity="0",dialog.timer=null},e)}},dialog.init()},!1)}]);