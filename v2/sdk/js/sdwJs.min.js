!function(e){function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var o={};n.m=e,n.c=o,n.i=function(e){return e},n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=3)}([function(e,n){var o={bannerSetting:null,initAd:function(e){if(sdw.dialogManage&&sdw.dialogManage.init(),o.bannerSetting=e||{},"12319"==sdw.params.channel||"12319"==e.channel){sdw.dynamicLoadCss("https://www.shandw.com/libs/css/styles.css");var n=document.createElement("div"),t=document.createElement("div");return n.className="mask-view",t.className="close-btn",n.appendChild(t),t.onclick=function(){console.log("点击关闭按钮"),sdw.dialogManage.show({title:"是否关闭视频",msg:"观看完整视频才能获得奖励哦",btn:"取消",callback:function(){console.log("关闭弹窗"),o.videoView.style.display="none",o.video.pause()}})},o.videoView=n,o.closebtn=t,{code:"200",msg:"广告支持"}}return{code:"101",msg:"当前渠道不支持广告"}},getAdInfo:function(){o.bannerSetting=o.bannerSetting||{};var e=this;return new Promise(function(n,t){var a=sdw.params.uid||o.bannerSetting.uid;sdw.postAjaxData("https://platform.shandw.com/youKuTraffic",JSON.stringify({bid:sdw._MD5(String((new Date).getTime())),pid:"uc_youxi_test",template_id:"uc_test",image_size:e.bannerSetting.imgsize||"200x200",os:"android",is_test:1,imei:sdw._MD5(a)}),function(e){if(1==e.result&&200==e.data.httpStatusCode){var t=e.data.model.materialResultDTO;t?(o.adInfo=t,o.state=1,n(o.state)):(o.state=-1,n(o.state))}else o.state=-2,n(o.state)})})},playRewardVideo:function(e){if(sdw.dialogManage.show({msg:"视频加载中",icon:"loading"}),o.adInfo&&o.adInfo.vedioUrl)return o.initVideo(e),void(o.adInfo.vedioUrl=null);o.getAdInfo().then(function(n){1==n?o.initVideo(e):(sdw.dialogMessage({fn:"hidden"}),e&&e.playFail&&e.playFail("超出广告播放次数"))})},initVideo:function(e){(new Image).src=o.adInfo.feedbackVedioUrl,o.video=document.createElement("video"),o.video.className="ad-container";var n=document.querySelector(".ad-container");n&&o.videoView.removeChild(n),o.videoView.appendChild(o.video),o.video.src=o.adInfo.vedioUrl,o.video.style.width=o.adInfo.vedioWidth+"px",o.video.style.height=o.adInfo.vedioHeight+"px",o.video.autoplay="autoplay",o.video.controls="controls",o.videoView.style.display="block",o.video.oncanplay=function(){sdw.dialogManage.hidden(),o.video.play()},o.video.onended=function(){o.videoView.style.display="none",o.videoView.removeChild(o.video),e&&e.playComplete&&e.playComplete()},o.video.onerror=function(){sdw.dialogManage.hidden(),o.videoView.style.display="none",o.videoView.removeChild(o.video),e&&e.playFail&&e.playFail("视频播放碰到了点问题")},document.getElementsByTagName("body")[0].appendChild(o.videoView)},displayBanner:function(e){if(o.adInfo&&o.adInfo.imgUrl){return(new Image).src=o.adInfo.feedbackUrl,e.displayComplete&&e.displayComplete({imgUrl:o.adInfo.imgUrl,clickUrl:o.adInfo.clickUrl}),void(o.adInfo.imgUrl=null)}o.getAdInfo(e).then(function(n){if(1!=n)return e&&e.displayFail&&e.displayFail("超出广告播放次数"),!1;(new Image).src=o.adInfo.feedbackUrl,e.displayComplete&&e.displayComplete({imgUrl:o.adInfo.imgUrl,clickUrl:o.adInfo.clickUrl})})}};e.exports=o},function(e,n){var o={init:function(){var e=document.createElement("div");e.className="toast-container",e.innerHTML='<div class="dialog-icon"></div><div class="dialog-title"></div><div class="dialog-msg"></div><div class="btn-container"></div>',document.body&&(e.style.display="none",document.body.appendChild(e),o.container=document.querySelector(".toast-container"),o.msg=document.querySelector(".dialog-msg"),o.icon=document.querySelector(".dialog-icon"),o.title=document.querySelector(".dialog-title"),o.btnCtl=document.querySelector(".btn-container"))},hidden:function(e){e=e||0,o.timer=setTimeout(function(){o.container.style.visibility="hidden",o.container.style.opacity="0",o.timer=null},e)},show:function(e){if(e){o.title.innerHTML=e.title||"",o.msg.innerHTML=e.msg||"",o.icon.className="dialog-icon icon-"+e.icon,e.icon?o.btnCtl.style.display="none":o.btnCtl.style.display="flex",e.autoHide&&setTimeout(o.hidden,e.autoHide),o.btnCtl.innerHTML="";var n=document.createElement("div");if(n.className="dialog-btn",n.innerHTML="确定",n.onclick=function(){o.hidden(),e.callback&&e.callback()},o.btnCtl.appendChild(n),e.btn){var t=document.createElement("div");t.className="dialog-btn",t.innerHTML=e.btn,t.onclick=o.hidden,o.btnCtl.appendChild(t)}o.container.style.display="block",o.container.style.visibility="visible",o.container.style.opacity="1",o.container.style.height="auto"}}};e.exports=o},function(e,n){},function(e,n,o){o(2);var t={},a=navigator.userAgent;t.onIOS=!!a.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),t.onMobile=!!a.match(/AppleWebKit.*Mobile.*/),t.onIPhone=a.indexOf("iPhone")>-1,t.onIPad=a.indexOf("iPad")>-1,t.onAndriod=a.indexOf("Android")>-1||a.indexOf("Adr")>-1,t.onWP=a.indexOf("Windows Phone")>-1,t.onQQBrowser=a.indexOf("QQBrowser")>-1,t.onMQQBrowser=a.indexOf("MQQBrowser")>-1,t.onWeiXin=a.indexOf("MicroMessenger")>-1,t.onWeiBo=a.indexOf("Weibo")>-1,t.onSafari=a.indexOf("Safari")>-1,t.onQQ=t.onIOS?a.indexOf("QQ")>-1&&!(t.onMQQBrowser||t.onQQBrowser):t.onMQQBrowser&&!t.onWeiXin,t.onPC=!t.onMobile,t.QBCore=/QBCore/.test(a),t.onKD=/KDM3G/.test(a)||/KDM3GNEW/.test(a)||"undefined"!=typeof kdjs||"undefined"!=typeof callKDMSGToResponse,t.width=document.documentElement.clientWidth||document.body.clientWidth,t.height=document.documentElement.clientHeight||document.body.clientHeight,t.onShandw=/Shandw/.test(a),t.onMDZZHelper=/MDZZHelper/.test(a),t.onWeChat=/WindowsWechat/.test(a),t.onAliPay=/Alipay/.test(a),t.onJDJR=/JDJR/.test(a),t.onJZQ=/jinzhuquan/.test(a),t.onUC=/UCBrowser/.test(a),t.onQujianpan=/qujianpan/.test(a),t.onMicroSDWAPP=/Micro-SDW-APP/.test(a)||/Micro-SDW-APP-WapPay/.test(a),t.onShandwMicroGame=/Shandw-Micro-Game/.test(a),t.hasIOSMicroWapPay=/Micro-SDW-APP-WapPay/.test(a)||/WapPay-Shandw/.test(a),t.hasApplePay=/APPLE-PAY/.test(a),t.hasH5NativePay=/ONE-GAME-APP/.test(a),t.onAPPs=t.onMobile&&(t.onWeiXin||t.onQQ||t.onKD||t.onShandw||t.onWeiBo||t.onAliPay||t.onMDZZHelper),t.ky=window!==parent,t.landscape=/Landscape/.test(a),t.wxLoginPay=/WXLoginPay/.test(a),t.os=0,t.onIOS?t.os=t.onShandw||t.onMicroSDWAPP||t.hasIOSMicroWapPay?2:4:t.onAndriod&&(t.os=t.onShandw||t.onMicroSDWAPP||t.onShandwMicroGame?1:3),t.getNow=function(){return+new Date};var i=t;i.onKD&&i.onAndriod&&(i.and_KdVer=parseInt(kdjs.getKDVersion().replace(/\D/g,""))),window.NativeBridge={myData:"sdw",name:"sdwJs-cp.js",loadJs:1,callbacksCount:1,callbacks:{goBackstage:null,recoverBackstage:null,pullDownRefresh:function(){}},resultForCallback:function(e,n){var o=window.NativeBridge.callbacks[e];o?o(n):setTimeout(function(){},10)},objectToString:function(e){var n={};for(var o in e)"function"==typeof e[o]?n[o]=e[o].toString():n[o]=e[o];return JSON.stringify(n)},call:function(e,n,o,t,a){var s=o&&"function"==typeof o,r=s?window.NativeBridge.callbacksCount++:-1,d=!1;if(s&&(window.NativeBridge.callbacks[r]=o),i.ky&&s){var c=JSON.stringify({optionStr:this.objectToString(t),fncName:e,callbackId:r,args:n,postSdwData:!0,operate:"createNativeBridgeCallback"});window.parent.postMessage(c,"*"),d=!0}if(!d){var l=JSON.stringify({callbackId:r,args:n}),w="";"quickPayment"===e||"ApplePayment"===e?w="payment://":i.onShandw?w="sdw://":i.onKD?w="kd://":i.onMDZZHelper&&(w="mdzz://"),a&&(w=a+"://"),w+=e+"#"+l;var p=document.createElement("IFRAME");p.src=w,document.documentElement.appendChild(p),p.parentNode.removeChild(p),p=null}}};var s={_shareItems:["QQ","Timeline","AppMessage","Weibo","QZone"],_otherItems:["copyLink","followWeixin","addDesktop","customService"],_toolBarItems:["QQ","Timeline","AppMessage","Weibo","QZone","copyLink","followWeixin","addDesktop","customService"],checkShareItem:function(e){for(var n=s._toolBarItems.slice(0),o=0;o<n.length;o++)if(n[o]==e)return!0;return!1}};if(window.sdw={app:t,name:"CP-sdw",payMap:{},th_callback:[],cachePayHandler:null,JsApiTicket:"",debug:1,loadJs:1,pre_callbacks:[],onShandw:t.onShandw,isNativeGame:t.hasH5NativePay,hasApplePay:t.hasApplePay,customToolBarItems:[],dynamicLoadCss:function(e){var n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,n.appendChild(o)},init_load:function(){var e=this,n=document.createElement("script");n.src="",document.getElementsByTagName("head")[0].appendChild(n),n.onload=function(){if(e.loadJs=1,e.pre_callbacks.length)for(var n=0;n<e.pre_callbacks.length;n++){var o=e.pre_callbacks[n];o.cb(o.args)}}},log:function(e){this.debug&&alert(e)},hasSDK:function(){var e="undefined"!=typeof CDLAndroid,n=/WangZuo/.test(navigator.userAgent),o=/KDM3GNEW/.test(navigator.userAgent),a=t.hasIOSMicroWapPay,i=t.onIOS&&(t.onShandw||n||o||a);return/WapPayShandw/.test(navigator.userAgent)&&(i=!1),e||i},selectImg:function(){var e=document.getElementsByTagName("img");return e?e[0].src:""},createCallback:function(e){return function(n){try{var o=JSON.parse(n);0==o.result?e.fail&&e.fail(o):1==o.result?e.success&&e.success(o):2==o.result&&e.cancel&&e.cancel(o)}catch(o){/失败/.test(n)?e.fail&&e.fail({result:0,msg:n}):e.cancel&&e.cancel({result:2,msg:n})}}},createSDKCallback:function(e){var n=this;return function(o){var t=n.createPayData(e);e.complete&&setTimeout(function(){e.complete(t)},20)}},createPayData:function(e){var n={};return n.channel=e.channel,n.appId=e.appId,n.cpOrderId=e.cpOrderId,n.timestamp=e.timestamp,n.accountId=e.accountId,n.amount=e.amount,n.memo=e.memo,n},checkOptionCallback:function(e){for(var n=!0,o=["success","fail","cancel","complete"],t=0;t<o.length;t++)e[o[t]]&&(n=n&&"function"==typeof e[o[t]]);return n||this.log("Function类型错误"),n},checkOptionArguments:function(e,n){for(var o=0;o<n.length;o++)if(!e.hasOwnProperty(n[o]))return{result:0,msg:"参数"+n[o]+"有误"};return{result:1}},__sortToolBars:function(e){for(var n={firstLine:[],secondLine:[]},o=0;o<e.length;o++)for(var t=0;t<s._shareItems.length;t++)if(e[o]==s._shareItems[t]){n.firstLine.push(e[o]);break}for(var o=0;o<e.length;o++)for(var t=0;t<s._otherItems.length;t++)if(e[o]==s._otherItems[t]){n.secondLine.push(e[o]);break}return n},checkWebJsFile:function(){return"undefined"!=typeof dhpayObj||(this.log("请检查是否引入支付文件"),!1)},postMessageToParent:function(e){window.parent.postMessage(JSON.stringify(e),"*")},chooseSDWPay:function(e,n){if("12320"==e.channel)return void window.parent.postMessage(JSON.stringify({operate:"sdw_dialogMessage",postSdwData:!0,option:{fn:"show",type:"error",msg:"ios充值暂时关闭，敬请期待",hidden:2}}),"*");if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return void console.log(e)}if(["12098","12129","11753","12238"].indexOf(e.channel)>-1&&!e.sdwPay)return window.sdw.addJsFile("https://www.shandw.com/libs/js/sdwpay.min.window.js?v="+(new Date).getTime(),function(){new window.sdwpay(e).showPay()}),!1;e.sdwPay&&delete e.sdwPay;var o=this;e=e||{};var t=this.checkOptionArguments(e,["subject","appId","gameName","accountId","amount","cpOrderId","sign","timestamp","channel"]);if(e.paychannel=e.paychannel||"",0===t.result)return void this.log(t.msg);if(this.payMap[e.cpOrderId])return void alert("订单号重复提交...");if(this.payMap[e.cpOrderId]=1,this.checkOptionCallback(e)){if(i.onJDJR)return void window.parent.postMessage(JSON.stringify({operate:"jdPay",postSdwData:!0,data:e}),"*");var a=function(n){sdw.postChoosePayInfo({transactionId:""+e.cpOrderId,paymentType:n||"alipay",currencyType:"CNY",currencyAmount:e.amount/100})},s=function(e,n){var o=r(e);o.config.method=n,o.config.weixin=!0,dhpayObj&&dhpayObj.payfor(o)},r=function(e){console.log(e);var n={postjson:{},config:{alipay:!0,weixin:!0},resultpost:!0};for(var o in e)if("success"!=o&&"fail"!=o&&"cancel"!=o&&"complete"!=o&&"paychannel"!=o&&e[o]&&(n.postjson[o]=e[o]),"complete"==o&&"function"==typeof e.complete){var t=sdw.createPayData(e);n.closecallback=function(){e.complete(t)}}return n.closecallback||(n.closecallback=function(){}),n};if(window.OPEN_DATA&&window.OPEN_DATA.appurl)var d=window.sdw.getUrlObj(window.OPEN_DATA.appurl.split("?")[1]),c=1;else var d=window.sdw.getUrlObj(),c=d.pltpay;var l=d.plt;"oppoxg"==window._plt_&&(l="oppoxg",c=!0);var w=function(){return"wanyiwanh5"==l}();if(!w&&l&&c&&void 0!==window._sdw_3th_pay_fun&&"null"!==l)return void window._sdw_3th_pay_fun(e);var p=function(){sdw.dialogMessage({fn:"show",msg:"Loading...",type:"loading",hidden:!1});jQuery&&jQuery.ajax({type:"GET",url:n?"http://sandbox.pay.17m3cdn.com/sdk/CodeWappay.aspx":"https://pay.17m3.com/sdk/CodeWappay.aspx",data:{subject:e.subject,appId:e.appId,gameName:e.gameName,accountId:e.accountId,amount:e.amount,cpOrderId:e.cpOrderId,call_back_url:e.call_back_url,merchant_url:e.merchant_url,sign:e.sign,timestamp:e.timestamp,channel:e.channel,payChannel:"sdw",payScene:5},dataType:"jsonp",jsonpCallback:"callback"+(new Date).getTime(),success:function(e){if("1"==e.result){a("applepay");var n=e.data,t=o.createSDKCallback(n);NativeBridge.call("ApplePayment",JSON.stringify(n),t,n),sdw.dialogMessage({fn:"hidden"})}else sdw.dialogMessage({fn:"show",msg:"sdwJs.js[chooseSDWPay]:"+JSON.stringify(e),type:"error",hidden:!1})}})};if("1"==d.app_review)return void(i.hasApplePay&&p());this.cachePayHandler=function(n){if(i.hasApplePay&&0===n)return p(),!1;if(o.hasSDK()){var t=o.createSDKCallback(e);return i.onIOS?i.hasIOSMicroWapPay?s(e,"wap"):NativeBridge.call("quickPayment",JSON.stringify(e),t,e):(i.hasH5NativePay?CDLAndroid.channelPayment&&CDLAndroid.channelPayment(JSON.stringify(e)):i.onMicroSDWAPP||CDLAndroid.sdkAvaliable&&CDLAndroid.sdkAvaliable()?s(e,"wap"):CDLAndroid.quickPayment&&CDLAndroid.quickPayment(JSON.stringify(e)),i.ky||(window.onDHSDKResult=t)),!1}var a=r(e);if(a.config.method="web",""!=e.paychannel){var d="weixin"==e.paychannel;a.config.alipay=!d,a.config.weixin=d}i.onKD&&i.onAndriod&&i.and_KdVer<402&&(a.config.alipay=!1),a.config.qpay=i.onQQ,w&&(a.config.qpay=!0,a.config.alipay=!1,a.config.weixin=!1),"10911"!=e.channel&&"11267"!=e.channel||(a.config.qpay=!1),dhpayObj&&dhpayObj.payfor(a)},sdw.wxGame?function(e){e=e||{};var n=[];for(var o in e)e.hasOwnProperty(o)&&n.push(o+"="+encodeURIComponent(e[o]));n=n.join("&"),setTimeout(function(){wx.miniProgram.navigateTo({url:"/pages/pay/pay?"+n,success:function(){console.log("success")},fail:function(){console.log("fail")},complete:function(){console.log("complete")}})},20)}(e):i.ky&&!w?/(?=.*btnName)(?=.*M32GW)^.*$/.test(location.href)?this.cachePayHandler&&this.cachePayHandler():this.postMessageToParent({postSdwData:!0,operate:"checkVisitorMode"}):this.cachePayHandler&&this.cachePayHandler()}},isFun:function(e){return"function"==typeof e},onSetShareOperate:function(e){var n=this.clone(e),o=this;"function"!=typeof n.success&&(n.success=function(){}),"function"!=typeof n.cancel&&(n.cancel=function(){}),"function"!=typeof n.fail&&(n.fail=function(){});var t=window.OPEN_DATA?window.sdw.getUrlObj(window.OPEN_DATA.appurl):window.sdw.getUrlObj(),a=t.plt;if(!a||"null"==a||(window._LOADED_JS?o.isFun(window._onSetShareOperate)&&window._onSetShareOperate(n):(window._onSetShareOperateCacheFn=function(){o.isFun(window._onSetShareOperate)&&window._onSetShareOperate(n)},o.th_callback.push(_onSetShareOperateCacheFn)),i.hasH5NativePay)){var r={postSdwData:!0,operate:"setSDWShareInfo"};if(r.shareInfo=n,i.onWeiXin){var d=s._shareItems.slice(0);if(r.source="weixin",void 0===n.target||""==n.target)n.target=d;else{for(var c=n.target,l=[],w=0;w<c.length;w++)-1!=d.indexOf(c[w])&&l.push(c[w]);n.target=l}}else if(i.onShandw||i.onMDZZHelper||i.onMicroSDWAPP)var o=this;else if(i.onKD){var o=this,p=o.clone(n),u=o.createCallback(p);window.NativeBridge.call("onSetShareOperate",p,u)}if(i.ky){window.sdw.childSuccessCallback=n.success,window.sdw.childCancelCallback=n.cancel,window.sdw.childFailCallback=n.fail;var f=JSON.stringify(r);parent.postMessage(f,"*")}}},closeSDWPay:function(){this.hasSDK()||(i.ky&&i.onWeiXin?window.parent.postMessage(JSON.stringify({operate:"requestHideQrcode"}),"*"):dhpayObj&&dhpayObj.hidepay())},setLocalStorage:function(e,n){i.onIOS&&(i.onKD||i.onShandw||i.onMDZZHelper)&&i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"sdw_setLocalStorage",key:e,data:n}),"*"):localStorage["_SDW_"+e]=JSON.stringify({name:"sdw_data",data:n})},readLocalStorage:function(e,n){if(i.onIOS&&(i.onKD||i.onShandw||i.onMDZZHelper)&&i.ky)sdw._readLocalStorageCallback=n,window.parent.postMessage(JSON.stringify({postSdwData:!0,key:e,operate:"sdw_getLocalStorage"}),"*");else{var o=localStorage["_SDW_"+e];try{o=JSON.parse(o),n(o.data)}catch(e){n(null)}}},postServerId:function(e){console.log("此方法【postServerId】已失效")},postGameInfo:function(e){e=e||{};for(var n=["uid","appid","channel","sid","level","type","vip","power","new"],o=["id","sname","nick"],t=0;t<n.length;t++)if(void 0===e[n[t]])return void console.log("缺少必填参数字段",n[t]);for(var t=0;t<o.length;t++)void 0===e[o[t]]&&(e[o[t]]="");var a=window.OPEN_DATA?window.sdw.getUrlObj(window.OPEN_DATA.appurl):window.sdw.getUrlObj(),s=a.plt,r=this;if(s&&"null"!==s)if(window._LOADED_JS)r.isFun(window._getGameUserInfo)&&window._getGameUserInfo(e);else{var d=function(){r.isFun(window._getGameUserInfo)&&window._getGameUserInfo(e)};r.th_callback.push(d)}i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,data:e,operate:"sdw_postGameInfo"}),"*")},clone:function(e){if("object"==typeof e){var n={};for(var o in e)n[o]=e[o]}return n},getAuthInfo:function(e,n){var o=e.platform,t=e.gid,a="";o&&t&&"null"!==o?(window.sdw._authCallback=n,window.sdw._authParam=window.sdw._authParam||{},window.sdw._authParam.cGid=t,window.sdw._authParam.plt=o,window.sdw._authParam.channel=e.channel,a="https://www.shandw.com/3th/"+o+"/auth.js? ="+ +new Date,window.sdw.addJsFile(a,function(){console.log("加载第三方的用户授权js文件...")})):alert("[sdw.getAuthInfo]:缺少platform和gid字段")},_getQCode:function(){return i.onWeiXin?{atSDW:sdw._atSdwInfo.atSDW,result:1}:{atSDW:1,result:1}},getSdwQcodeInfo:function(e,n){if(0===arguments.length)return void console.log("缺少参数");1===arguments.length&&(n=e);var o=window.sdw.getUrlObj(),t=o.plt,a=this;if(t&&"null"!==t)if(window._LOADED_JS)a.isFun(window._getSdwQcodeInfo)?window._getSdwQcodeInfo(n):n&&n({atSDW:2});else{var s=function(){a.isFun(window._getSdwQcodeInfo)?window._getSdwQcodeInfo(n):n&&n({atSDW:2})};a.th_callback.push(s)}else sdw._atSdwInfo?this.isFun(n)&&n(sdw._getQCode()):i.ky&&(sdw._getQcodeInfo_callback=n,window.parent.postMessage(JSON.stringify({postSdwData:!0,gid:e,operate:"getSdwQcodeInfo"}),"*"))},onShowQcode:function(e,n){1===arguments.length&&(n=e);var o=window.sdw.getUrlObj(),t=o.plt,a=this;if(t&&"null"!==t)if(window._LOADED_JS)a.isFun(window._onShowQcode)&&window._onShowQcode(n);else{var s=function(){a.isFun(window._onShowQcode)&&window._onShowQcode(n)};a.th_callback.push(s)}else i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,gid:e,operate:"onShowQcode"}),"*")},onFocus:function(e){var n=window.sdw.getUrlObj(),o=n.plt,t=this;if(o&&"null"!==o)if(window._LOADED_JS)t.isFun(window._onFocus)&&window._onFocus(e);else{var a=function(){t.isFun(window._onFocus)&&window._onFocus(e)};t.th_callback.push(a)}},getSdwVerify:function(e){var n=window.sdw.getUrlObj(),o=n.plt,t=this;if(o&&"null"!==o)if(window._LOADED_JS)t.isFun(window._getSdwVerify)?window._getSdwVerify(e):e({verify:2,wallow:0});else{var a=function(){t.isFun(window._getSdwVerify)?window._getSdwVerify(e):e({verify:2,wallow:0})};t.th_callback.push(a)}else e&&e({verify:2,wallow:0})},onShowSdwVerify:function(e){var n=window.sdw.getUrlObj(),o=n.plt,t=this;if(o&&"null"!==o)if(window._LOADED_JS)t.isFun(window._onShowSdwVerify)&&window._onShowSdwVerify(e);else{var a=function(){t.isFun(window._onShowSdwVerify)&&window._onShowSdwVerify(e)};t.th_callback.push(a)}else console.log("闪电玩目前还没有实名认证")},onShowShareLayer:function(){var e=window.sdw.getUrlObj(),n=e.plt,o=this;if(n&&"null"!==n)if(window._LOADED_JS)o.isFun(window._onShowShareLayer)&&window._onShowShareLayer();else{var t=function(){o.isFun(window._onShowShareLayer)&&window._onShowShareLayer()};o.th_callback.push(t)}},pltShare:function(e){var n=window.OPEN_DATA?window.sdw.getUrlObj(window.OPEN_DATA.appurl):window.sdw.getUrlObj(),o=n.plt,t=this;if(o&&"null"!==o)if(window._LOADED_JS)t.isFun(window._pltShare)&&window._pltShare(e);else{var a=function(){t.isFun(window._pltShare)&&window._pltShare(e)};t.th_callback.push(a)}},getAvatar:function(e){var n=window.OPEN_DATA?window.sdw.getUrlObj(window.OPEN_DATA.appurl):window.sdw.getUrlObj(),o=n.plt,t=this;if(o&&"null"!==o)if(window._LOADED_JS)t.isFun(window._getAvatar)&&window._getAvatar(e);else{var a=function(){t.isFun(window._getAvatar)&&window._getAvatar(e)};t.th_callback.push(a)}},getGameUserInfo:function(e,n){console.log("此方法【getGameUserInfo】已失效，请调用新的方法")},addDesktop:function(e){var n=this,o=window.OPEN_DATA?window.sdw.getUrlObj(window.OPEN_DATA.appurl):window.sdw.getUrlObj(),t=o.plt;if(t&&"null"!=t){e=e||{};var e={title:e.name,icon:e.icon,url:e.linkUrl,success:e.success};return void(window._LOADED_JS?n.isFun(window._addDesktop)&&window._addDesktop(e):(window._addDesktop_callback=function(){n.isFun(window._addDesktop)&&window._addDesktop(e)},window.th_callback.push(_addDesktop_callback)))}i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"sdw_addDesktop"}),"*"):console.log("只能在IFRAME模式下调用")},requestFullScreen:function(){i.onShandw&&i.onIOS||(i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"requestFullScreen"}),"*"):console.log("只能在IFRAME模式下调用"))},exitFullScreen:function(){i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"exitFullScreen"}),"*"):console.log("只能在IFRAME模式下调用")},openUrlToRoot:function(e){e=e||{},e.url=e.url||location.href,i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"openUrlToRoot",option:e}),"*"):location.href=e.url},postGameInfoToClient:function(e){i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"postGameInfoToClient",data:e}),"*")},postGamePlayerInfo:function(e){i.onMicroSDWAPP&&i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"postGamePlayerInfo",data:e}),"*")},postPaySuccessInfo:function(e){i.onMicroSDWAPP&&(e=e||{},e.paymentType="wxpay",i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"postPaySuccessInfo",data:e}),"*"))},postChoosePayInfo:function(e){i.onMicroSDWAPP&&(e=e||{},e.paymentType=e.paymentType||"wxpay",i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"postChoosePayInfo",data:e}),"*"))},postInfoH5Native:function(e){i.hasH5NativePay&&i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,data:e,operate:"postInfoH5Native"}),"*")},onShowToolBar:function(){i.ky&&window.parent.postMessage(JSON.stringify({postSdwData:!0,operate:"onShowToolBar"}),"*")}},i.ky){var r={getGameToken_callback:function(e){var n=e.data,o=window.sdw._getGameToken_option;1===n.result?o.success&&o.success(n):o.fail&&o.fail(n.msg||"数据请求失败")},getFriendList_callback:function(e){var n=e.data;window.sdw._getFriendListCallback&&window.sdw._getFriendListCallback(n)},shareCallback_success:function(){window.sdw.childSuccessCallback&&window.sdw.childSuccessCallback()},shareCallback_cancel:function(){window.sdw.childFailCallback&&window.sdw.childCancelCallback()},shareCallback_fail:function(){window.sdw.childFailCallback&&window.sdw.childFailCallback()},choosePayCheckState_ok:function(e){var n=e.useweb;sdw.cachePayHandler&&sdw.cachePayHandler(n)},getLocalStorage_ok:function(e){var n=e.data;sdw._readLocalStorageCallback&&sdw._readLocalStorageCallback(n)},getSdwQcodeInfo_callback:function(e){sdw._atSdwInfo=e.data,sdw._getQcodeInfo_callback&&sdw._getQcodeInfo_callback(sdw._getQCode())},goBackstage_callback:function(){sdw._goBackstageCallback&&sdw._goBackstageCallback()},recoverBackstage_callback:function(){sdw._recoverBackstageCallback&&sdw._recoverBackstageCallback()},createNativeBridgeCallback_callback:function(e){var n=window.NativeBridge.callbacks[e.callbackId];n&&("ApplePayment"===e.fncName?n(e.res):n())},window_size_change:function(e){"function"==typeof sdw.onResize?sdw.onResize(e.width,e.height):console.log(e.width,e.height,"resize")}};window.addEventListener("message",function(e){if("string"==typeof e.data)try{var n=JSON.parse(e.data);if(n.postSdwData){var o=n.oprate||n.operate;r[o]&&r[o](n)}}catch(e){console.log(e)}},!1)}window.sdw._MD5=function(e){function n(e){var n=(e>>>0).toString(16);return"00000000".substr(0,8-n.length)+n}function o(e){for(var n=[],o=0;o<8;o++)n.push(255&e),e>>>=8;return n}function t(e,n){return e<<n&4294967295|e>>>32-n}function a(e,n,o){return e&n|~e&o}function i(e,n,o){return o&e|~o&n}function s(e,n,o){return e^n^o}function r(e,n,o){return n^(e|~o)}function d(e,n){return e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]}function c(e){for(var n=[],o=0;o<e.length;o++)if(e.charCodeAt(o)<=127)n.push(e.charCodeAt(o));else for(var t=encodeURIComponent(e.charAt(o)).substr(1).split("%"),a=0;a<t.length;a++)n.push(parseInt(t[a],16));return n}function l(e,o,t,a){for(var i="",s=0,r=0,d=3;d>=0;d--)r=arguments[d],s=255&r,r>>>=8,s<<=8,s|=255&r,r>>>=8,s<<=8,s|=255&r,r>>>=8,s<<=8,s|=r,i+=n(s);return i}function w(e){for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=e[o];return n}function p(e,n){return 4294967295&e+n}var u=null,f=null;return"string"==typeof e?u=c(e):e.constructor==Array?0===e.length?u=e:"string"==typeof e[0]?u=function(e){for(var n=[],o=0;o<e.length;o++)n=n.concat(c(e[o]));return n}(e):"number"==typeof e[0]?u=e:f=typeof e[0]:"undefined"!=typeof ArrayBuffer?e instanceof ArrayBuffer?u=w(new Uint8Array(e)):e instanceof Uint8Array||e instanceof Int8Array?u=w(e):e instanceof Uint32Array||e instanceof Int32Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Float32Array||e instanceof Float64Array?u=w(new Uint8Array(e.buffer)):f=typeof e:f=typeof e,f&&alert("MD5 type mismatch, cannot process "+f),function(){function e(e,n,o,a){var i=_;_=S,S=v,v=p(v,t(p(m,p(e,p(n,o))),a)),m=i}var n=u.length;u.push(128);var c=u.length%64;if(c>56){for(var w=0;w<64-c;w++)u.push(0);c=u.length%64}for(w=0;w<56-c;w++)u.push(0);u=u.concat(o(8*n));var f=1732584193,g=4023233417,h=2562383102,y=271733878,m=0,v=0,S=0,_=0;for(w=0;w<u.length/64;w++){m=f,v=g,S=h,_=y;var k=64*w;e(a(v,S,_),3614090360,d(u,k),7),e(a(v,S,_),3905402710,d(u,k+4),12),e(a(v,S,_),606105819,d(u,k+8),17),e(a(v,S,_),3250441966,d(u,k+12),22),e(a(v,S,_),4118548399,d(u,k+16),7),e(a(v,S,_),1200080426,d(u,k+20),12),e(a(v,S,_),2821735955,d(u,k+24),17),e(a(v,S,_),4249261313,d(u,k+28),22),e(a(v,S,_),1770035416,d(u,k+32),7),e(a(v,S,_),2336552879,d(u,k+36),12),e(a(v,S,_),4294925233,d(u,k+40),17),e(a(v,S,_),2304563134,d(u,k+44),22),e(a(v,S,_),1804603682,d(u,k+48),7),e(a(v,S,_),4254626195,d(u,k+52),12),e(a(v,S,_),2792965006,d(u,k+56),17),e(a(v,S,_),1236535329,d(u,k+60),22),e(i(v,S,_),4129170786,d(u,k+4),5),e(i(v,S,_),3225465664,d(u,k+24),9),e(i(v,S,_),643717713,d(u,k+44),14),e(i(v,S,_),3921069994,d(u,k),20),e(i(v,S,_),3593408605,d(u,k+20),5),e(i(v,S,_),38016083,d(u,k+40),9),e(i(v,S,_),3634488961,d(u,k+60),14),e(i(v,S,_),3889429448,d(u,k+16),20),e(i(v,S,_),568446438,d(u,k+36),5),e(i(v,S,_),3275163606,d(u,k+56),9),e(i(v,S,_),4107603335,d(u,k+12),14),e(i(v,S,_),1163531501,d(u,k+32),20),e(i(v,S,_),2850285829,d(u,k+52),5),e(i(v,S,_),4243563512,d(u,k+8),9),e(i(v,S,_),1735328473,d(u,k+28),14),e(i(v,S,_),2368359562,d(u,k+48),20),e(s(v,S,_),4294588738,d(u,k+20),4),e(s(v,S,_),2272392833,d(u,k+32),11),e(s(v,S,_),1839030562,d(u,k+44),16),e(s(v,S,_),4259657740,d(u,k+56),23),e(s(v,S,_),2763975236,d(u,k+4),4),e(s(v,S,_),1272893353,d(u,k+16),11),e(s(v,S,_),4139469664,d(u,k+28),16),e(s(v,S,_),3200236656,d(u,k+40),23),e(s(v,S,_),681279174,d(u,k+52),4),e(s(v,S,_),3936430074,d(u,k),11),e(s(v,S,_),3572445317,d(u,k+12),16),e(s(v,S,_),76029189,d(u,k+24),23),e(s(v,S,_),3654602809,d(u,k+36),4),e(s(v,S,_),3873151461,d(u,k+48),11),e(s(v,S,_),530742520,d(u,k+60),16),e(s(v,S,_),3299628645,d(u,k+8),23),e(r(v,S,_),4096336452,d(u,k),6),e(r(v,S,_),1126891415,d(u,k+28),10),e(r(v,S,_),2878612391,d(u,k+56),15),e(r(v,S,_),4237533241,d(u,k+20),21),e(r(v,S,_),1700485571,d(u,k+48),6),e(r(v,S,_),2399980690,d(u,k+12),10),e(r(v,S,_),4293915773,d(u,k+40),15),e(r(v,S,_),2240044497,d(u,k+4),21),e(r(v,S,_),1873313359,d(u,k+32),6),e(r(v,S,_),4264355552,d(u,k+60),10),e(r(v,S,_),2734768916,d(u,k+24),15),e(r(v,S,_),1309151649,d(u,k+52),21),e(r(v,S,_),4149444226,d(u,k+16),6),e(r(v,S,_),3174756917,d(u,k+44),10),e(r(v,S,_),718787259,d(u,k+8),15),e(r(v,S,_),3951481745,d(u,k+36),21),f=p(f,m),g=p(g,v),h=p(h,S),y=p(y,_)}return l(y,h,g,f).toUpperCase()}()},window.sdw.getAjaxData=function(e,n){if(!e)return void console.log("[getAjaxData]: url error");var o=function(){var e;if(window.XMLHttpRequest)e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType("text/xml");else if(window.ActiveXObject)for(var n=["MSXML2.XMLHTTP","Microsoft.XMLHTTP"],o=0;o<n.length;o++)try{if(e=new ActiveXObject(n[o]))break}catch(e){}return e}();o&&(o.open("GET",e,!0),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=JSON.parse(o.responseText);n&&n(e)}else console.log("[AJAX ERROR]:",o)},o.send(null))},window.sdw.postAjaxData=function(e,n,o,t){var a=this.createXMLHTTPRequest();a.open("post",e),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t&&t.contentType&&a.setRequestHeader("Content-type",t.contentType),a.send(n),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status)try{var e=JSON.parse(a.responseText);o&&o(e)}catch(e){}}},window.sdw.createXMLHTTPRequest=function(){var e;if(window.XMLHttpRequest)e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType("text/xml");else if(window.ActiveXObject)for(var n=["MSXML2.XMLHTTP","Microsoft.XMLHTTP"],o=0;o<n.length;o++)try{if(e=new ActiveXObject(n[o]))break}catch(e){}return e},window.sdw.getUrlObj=function(e){for(var n=e||location.search,o=n.length>0?n.substring(1):"",t={},a=o.length?o.split("&"):[],i=null,s=null,r=null,d=0;d<a.length;d++)i=a[d].split("="),s=decodeURIComponent(i[0]),r=decodeURIComponent(i[1]),s.length&&(t[s]=r);return t},window.sdw.params=window.sdw.getUrlObj(),window.sdw.addJsFile=function(e,n){var o=document.getElementsByTagName("HEAD").item(0),t=document.createElement("script");t.type="text/javascript",t.src=e,o.appendChild(t),t.onload=function(){"function"==typeof n&&n()}},window.sdw.onResize=function(e,n){console.log("resize...此处CP可重新定义此函数...")},window.sdw.dialogMessage=function(e){i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,option:e,operate:"sdw_dialogMessage"}),"*"):console.log("只能在IFRAME模式下调用")},window.sdw.setGameToolPositionY=function(e){if(e<0||e>1)return void console.log("y的范围错误");i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,y:e,operate:"sdw_setGameToolPositionY"}),"*"):console.log("只能在IFRAME模式下调用")},window.sdw.openSafari=function(e){e.isSet=!1,window.NativeBridge.call("createDesktop",e,null,e,"kd")},window.sdw.dialogMessage=function(e){i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,option:e,operate:"sdw_dialogMessage"}),"*"):console.log("只能在IFRAME模式下调用")},window.sdw.setGameToolPositionY=function(e){if(e<0||e>1)return void console.log("y的范围错误");i.ky?window.parent.postMessage(JSON.stringify({postSdwData:!0,y:e,operate:"sdw_setGameToolPositionY"}),"*"):console.log("只能在IFRAME模式下调用")},window.sdw.openSafari=function(e){e.isSet=!1,window.NativeBridge.call("createDesktop",e,null,e,"kd")},window.sdw.canSetShare=t.onKD||t.onShandw||t.onWeiXin,window.sdw.canAddDesktop=t.onKD||t.onShandw||window.OPEN_DATA,function(){if(window.OPEN_DATA&&window.OPEN_DATA.appurl){var e=window.sdw.getUrlObj(window.OPEN_DATA.appurl.split("?")[1]);sdw.params=e;var n=!0}else var e=window.sdw.getUrlObj(),n=e.pltpay;t.hasH5NativePay&&(n=!1),e.wxGame&&window.sdw.addJsFile("https://res.wx.qq.com/open/js/jweixin-1.3.2.js",function(){sdw.wxGame=1}),!t.ky&&t.onQQ&&window.sdw.addJsFile("https://open.mobile.qq.com/sdk/qqapi.js?_bid=152");var o=e.plt;"oppoxg"==window._plt_&&(o="oppoxg",n=!0);var a=e.isTest167;if(o&&n&&"null"!==o){var i=a?"http://119.90.39.167/3th/":"https://www.shandw.com/3th/";console.log(i);var s=i+o+"/pay.js?m="+ +new Date;window.sdw.addJsFile(s,function(){window._LOADED_JS=!0;for(var e=0;e<window.sdw.th_callback.length;e++)window.sdw.th_callback[e]()})}}(),window.sdw.logout=function(){i.ky&&window.sdw.postMessageToParent({postSdwData:!0,operate:"sdw_logout"})},window.sdw.goBackstage=function(e){window.sdw._goBackstageCallback=e,i.ky&&window.sdw.postMessageToParent({postSdwData:!0,operate:"sdw_goBackstage"})},window.sdw.recoverBackstage=function(e){window.sdw._recoverBackstageCallback=e,i.ky&&window.sdw.postMessageToParent({postSdwData:!0,operate:"sdw_recoverBackstage"})},window.sdw.getGameToken=function(e){window.sdw._getGameToken_option=e,i.ky&&window.sdw.postMessageToParent({postSdwData:!0,data:e,operate:"sdw_getGameToken"})};window.sdw.getFriendList=function(e){if(!e||!e.callback)return"缺少回调函数";for(var n={friendList:["5281991900"]},o=e.page||0,t=e.pageSize||20,a=n.friendList.slice(o*t,o*t+t),i="",s=0;s<a.length;s++)i+=a[s]+",";var r="https://platform.shandw.com/openidToSDWUid?channel="+window.sdw.getUrlObj().channel+"&openids="+i;sdw.getAjaxData(r,function(n){1==n.result&&e.callback(n.data)})};var d=o(1);window.sdw.dialogManage=d;var c=o(0);window.sdw.adManage=c}]);