!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){},function(t,e){},,,,function(t,e,n){n(1),n(0);new Vue({el:"#app",data:{id:null,name:null,hasIdInfo:null,errorTip:null},methods:{getIdInfo:function(){var t=this,e=SDW_WEB.URLS.addParam({uid:SDW_WEB.USER_INFO.uid},!1,HTTP_STATIC+"queryAccessRealName");SDW_WEB.getAjaxData(e,function(e){console.log(e),1===e.result?t.hasIdInfo=!1:2===e.result?(t.hasIdInfo=!0,t.name=e.data.name,t.id=e.data.idcard.replace(/^(.{4})(?:\d+)(.{4})$/,"$1******$2")):dialog.show("error",e.msg,1)})},identify:function(){var t=this,e=this.cidInfo(String(this.id));if(e)return void(this.errorTip=e);if(!this.name)return void(this.errorTip="请填写真实姓名");this.errorTip=null,dialog.show("loading","正在认证...");var n=SDW_WEB.URLS.addParam({userid:SDW_WEB.USER_INFO.uid,name:this.name,idcard:this.id},!1,"https://platform.shandw.com/accessRealName");SDW_WEB.getAjaxData(n,function(e){dialog.hidden(),1===e.result?(t.hasIdInfo=!0,dialog.show("ok","认证成功",1)):dialog.show("error",e.msg,1)})},cidInfo:function(t){var e={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},n=0;if(!/^\d{17}(\d|x)$/i.test(t))return"身份证号格式有误";if(console.log(t),t=t.replace(/x$/i,"a"),null==e[parseInt(t.substr(0,2))])return"非法地区";sBirthday=t.substr(6,4)+"-"+Number(t.substr(10,2))+"-"+Number(t.substr(12,2));var r=new Date(sBirthday.replace(/-/g,"/"));if(sBirthday!=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate())return"非法生日";for(var a=17;a>=0;a--)n+=Math.pow(2,a)%11*parseInt(t.charAt(17-a),11);return n%11!=1&&"非法证号"},IsAdult:function(t){var e=new Date;if(e.getFullYear()-t.getFullYear()<18)return!1;if(e.getFullYear()-t.getFullYear()==18){if(e.getMonth()>t.getMonth())return!1;if(e.getMonth()==t.getMonth()&&e.getDate()>t.getDate())return!1}return!0}},mounted:function(){var t=this;SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(e){t.getIdInfo()},function(t){SDW_WEB.onShandw&&SDW_WEB.sdw.openLogin({success:function(){}})}):this.getIdInfo()},components:{}})}]);