!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){},function(t,e,n){n(0);var i={loading:!1,userInfo:{nick:"",fail:!1},REM_MAP:{},hasFinish:!0,unLog:!0,init:function(){this.getDom(),this.setGiftBtnSate("finish")},getCloudPosition:function(t,e){var n=[650,260,-100],i=[-380,-280,-370];return e?n[t]:i[t]},getCloudMoveTime:function(t,e){return(t-e)/960*22*1e3},initCloudAni:function(t,e,n){function i(){var e=t.first?a.getCloudPosition(t.index,t.first):780,n=a.getCloudPosition(t.index);Velocity(t,{translateX:[a.changeRem(n),a.changeRem(e)],translateY:[a.changeRem(380),a.changeRem(380)]},{duration:a.getCloudMoveTime(e,n),easing:"linear",complete:function(){t.first=!1,i()}})}function o(){var t=e.first?a.getCloudPosition(e.index,e.first):780,n=a.getCloudPosition(e.index);Velocity(e,{translateX:[a.changeRem(n),a.changeRem(t)],translateY:[a.changeRem(110),a.changeRem(110)]},{duration:a.getCloudMoveTime(t,n),easing:"linear",complete:function(){e.first=!1,o()}})}function s(){var t=n.first?a.getCloudPosition(n.index,n.first):780,e=a.getCloudPosition(n.index);Velocity(n,{translateX:[a.changeRem(e),a.changeRem(t)],translateY:[a.changeRem(260),a.changeRem(260)]},{duration:a.getCloudMoveTime(t,e),easing:"linear",complete:function(){n.first=!1,s()}})}var a=this;t.index=0,e.index=1,n.index=2,t.first=e.first=n.first=!0,i(),o(),s()},changeRem:function(t){if(this.REM_MAP[""+t])return this.REM_MAP[""+t];var e=t/32+"rem";return this.REM_MAP[""+t]=e,e},getDom:function(){this.cloud1=document.querySelector('.cloud[data-index="1-1"]'),this.cloud2=document.querySelector('.cloud[data-index="1-2"]'),this.cloud3=document.querySelector('.cloud[data-index="1-3"]'),this.container=document.querySelector(".container"),this.messageContainer=document.querySelector(".message-container"),this.msgCont=document.querySelector(".msg-cont"),this.msg=document.querySelector(".msg"),this.okBtn=document.querySelector(".ok-btn"),this.giftBtn=document.querySelector(".gift-btn"),this.nick=document.querySelector(".nick"),this.unlog=document.querySelector(".unlog"),this.addEvent()},noPlayerMsg:"请先在个人界面添加角色信息",finishMsg:'恭喜你，领取成功！</br> <span style="font-size:12px">*游戏道具发放或存在一定延迟</span> ',addEvent:function(){this.initCloudAni(this.cloud1,this.cloud2,this.cloud3);var t=this;this.giftBtn.onclick=function(e){return e.stopPropagation(),t.unLog?void t.dialogMessage("请登录后领取",!0):t.userInfo.playerId?void(t.hasFinish||t.getGiftInfo()):void t.dialogMessage(t.noPlayerMsg,!0)},this.okBtn.onclick=function(e){e.stopPropagation(),t.dialogMessage("",!1)},this.messageContainer.onclick=function(e){e.stopPropagation(),e.target===this&&t.dialogMessage("",!1)},this.unlog.onclick=function(e){e.stopPropagation(),t.dialogMessage("请通过头像 - 管理角色信息，进行切换账号操作",!0)}},getGiftInfo:function(t){if(!this.loading){this.loading=!0;var e=this,n=SDW_WEB.URLS.addParam({channel:this.userInfo.channel,uid:this.userInfo.uid,token:this.userInfo.token,sec:this.userInfo.secheme,playerId:this.userInfo.playerId,countrycode:this.userInfo.countrycode,query:t?1:0,fl:this.userInfo.fl},!1,"http://bbqzs.shandw.com/getInstallReward");SDW_WEB.getAjaxData(n,function(n){e.loading=!1,1===n.result?t?0===n.isGet?(e.hasFinish=!1,e.setGiftBtnSate("normal")):e.setGiftBtnSate("finish"):(e.dialogMessage(e.finishMsg,!0),e.hasFinish=!0,e.setGiftBtnSate("finish")):e.dialogMessage(n.msg||"获取数据失败",!0)})}},setGiftBtnSate:function(t){"finish"===t&&(this.giftBtn.innerText="已领取",this.giftBtn.dataset.type=t),"normal"===t&&(this.giftBtn.innerText="点击领取",this.giftBtn.dataset.type="normal")},dialogMessage:function(t,e){e?(this.msg.innerHTML=t||"Default Text",Velocity(this.messageContainer,"transition.fadeIn",{duration:450})):Velocity(this.messageContainer,"transition.fadeOut",{duration:450})}};i.init(),SDW_WEB.getSdwUserData().then(function(t){i.userInfo=t,i.unLog=!1,i.nick.innerText="角色昵称:"+(i.userInfo.nick||i.userInfo.uid),i.container.classList.remove("hidden"),t.playerId?i.getGiftInfo(!0):i.dialogMessage(i.noPlayerMsg,!0)},function(){i.unLog=!0,i.container.classList.remove("hidden"),i.dialogMessage("获取用户信息失败",!0)}),window.onload=function(){SDW_WEB.sdw.onSetToolBarOperation(["AppMessage","Timeline","QQ","QZone","Weibo"]),setTimeout(function(){SDW_WEB.sdw.onSetShareOperate({title:"《野蛮人♂大作战》高能开启寻福之旅，Let's go 201發！",desc:"摩摩可送你新人♂福利",link:"http://www.shandw.com/h5/ymr-h5/?v"+SDW_WEB.getNow(),imgUrl:"http://www.shandw.com/h5/ymr-h5/images/share-icon.jpg"})},1e3)}}]);