!function(t){function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var e={};o.m=t,o.c=e,o.i=function(t){return t},o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},o.p="",o(o.s=3)}([function(t,o){function e(t,o,e,n){if("function"!=typeof t)return void console.log("WindowScroll error: callback must be a Function!");this.toBottom=o||!1,this.enable=!0,this.callback=t||null,this.delayTime=e||200,this.offset=n||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,this._init()}e.prototype._init=function(){var t=this;t.timer=null,t.callback&&window.addEventListener("scroll",function(o){if(t.enable){var e=document.body.scrollTop+t.clientHeigth,n=document.documentElement.scrollHeight-t.offset,i=e>=n;(1==t.toBottom&&i||0==t.toBottom)&&!t.timer&&(t.timer=setTimeout(function(){t.callback(o),t.timer=null},t.delayTime))}},!1)},e.prototype.setCallback=function(t){"function"==typeof t?self.callback=t:console.log("[WindowScroll error]: callback must be a Function!")},e.prototype.runCallback=function(){this.callback&&this.callback()},t.exports=e},function(t,o){},function(t,o){},function(t,o,e){e(2),e(1);var n=e(0),i={showIndex:1,navList:[{title:"商城兑换记录",index:1,show:"normal",page:0,loading:!1,data:[],method:"usei"},{title:"闪电币记录",index:2,show:"normal",loading:!1,page:0,data:[],method:"ucci"}],showAlertList:{gameSuccess:!1,code:!1,goods:!1},myGameCode:"",myGoodsInfo:{},codeInfo:{},alertInfo:{}},s={gotoWeixinShandw:function(){location.href=SDW_WEB.SDW_WEIXIN_URL},setCopyCode:function(t){SDW_WEB.onShandw&&SDW_WEB.sdw.setClipboard(t),dialog&&dialog.show("ok","复制成功",1)},showShopItem:function(t){this.alertInfo=t,3===t.iType?(this.showAlertList.goods=!0,this.myGoodsInfo.address=t.address,this.myGoodsInfo.userNick=t.contact,this.myGoodsInfo.expressNo=t.expressNo,this.myGoodsInfo.phone=t.phone,this.myGoodsInfo.orderId=t._id,this.myGoodsInfo.price=function(t,o){return 4===o||7===o?(t/100).toFixed(2):t}(t.price,t.pType),this.myGoodsInfo.priceType=function(t){return 1===t?"闪电币":3===t?"点券":4===t?"现金":7===t?"红包":void 0}(t.pType)):1===t.iType?(this.showAlertList.gameSuccess=!0,this.myGameCode=t.key):2===t.iType&&(this.showAlertList.code=!0,this.codeInfo.code=t.key,this.codeInfo.info=t.msg)},hiddenAlert:function(){for(var t in this.showAlertList)this.showAlertList.hasOwnProperty(t)&&(this.showAlertList[t]=!1)},goToGamePage:function(t){var o=SDW_PATH.GAME_URL("play",t.appid),e={link:o,isFullScreen:!1,showMoreBtn:!0,title:""},e=SDW_WEB._checkWebViewObject(e,t);SDW_WEB.openNewWindow(e)},switchNavList:function(t){document.body.scrollTop=document.documentElement.scrollTop=0;for(var o=0;o<this.navList.length;o++){var e=this.navList[o];t.index===e.index?(e.show="show",this.showIndex=t.index,0===e.page&&this.getShopList(e.index)):e.show="normal"}},getShopList:function(t){var o=this.navList[t-1];if(!o.loading){o.loading=!0;var e=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,token:SDW_WEB.USER_INFO.token,uid:SDW_WEB.USER_INFO.uid,sec:SDW_WEB.USER_INFO.secheme,page:o.page++},!1,HTTP_STATIC+o.method);SDW_WEB.getAjaxData(e,function(t){if(1===t.result){t.list=t.list||[];for(var e=0;e<t.list.length;e++){var n=t.list[e];n.key&&(n._mInfo="兑换码"+n.key),n.gold=n.gold||n.coin||n.stamp,n.pType=n.pType||n.type,3===n.pType?n.typeUrl="stamp":1===n.pType?n.typeUrl="gold":4!==n.pType&&7!==n.pType||(n.typeUrl="money",n.gold=(n.gold/100).toFixed(2)),n.expressNo?n._mInfo="快递单号"+n.expressNo:3===n.iType&&(n._mInfo="快递暂未发货"),o.data.push(t.list[e])}o.loading=!1,0===t.list.length&&(o.loading=!0)}})}},transTime:function(t){var o=new Date(t);return o.getFullYear()+"."+(o.getMonth()+1)+"."+o.getDate()}},r=new Vue({el:"#shop-root",data:i,methods:s,mounted:function(){var t=this;new Clipboard(".copy-btn"),new n(function(){t.getShopList(t.showIndex)},!0,200,5)},computed:{showAlert:function(){var t=!1;for(var o in this.showAlertList)this.showAlertList.hasOwnProperty(o)&&(t=t||this.showAlertList[o]);return t}}});SDW_WEB.getSdwUserData().then(function(t){r.switchNavList({index:1})},function(t){SDW_WEB.onShandw&&SDW_WEB.sdw.openLogin({success:function(){}})})}]);