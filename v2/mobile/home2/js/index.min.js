!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t){e.exports=function(e,t,n,o){var i,a=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,a=e.default);var r="function"==typeof a?a.options:a;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),o){var c=Object.create(r.computed||null);Object.keys(o).forEach(function(e){var t=o[e];c[e]=function(){return t}}),r.computed=c}return{esModule:i,exports:a,options:r}}},function(e,t){function n(e,t,n,o){if("function"!=typeof e)return void console.log("WindowScroll error: callback must be a Function!");this.toBottom=t||!1,this.enable=!0,this.callback=e||null,this.delayTime=n||200,this.offset=o||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,this._init()}n.prototype._init=function(){var e=this;e.timer=null,e.callback&&window.addEventListener("scroll",function(t){if(e.enable){var n=document.body.scrollTop+e.clientHeigth,o=document.documentElement.scrollHeight-e.offset,i=n>=o;(1==e.toBottom&&i||0==e.toBottom)&&!e.timer&&(e.timer=setTimeout(function(){e.callback(t),e.timer=null},e.delayTime))}},!1)},n.prototype.setCallback=function(e){"function"==typeof e?self.callback=e:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},e.exports=n},function(e,t){},function(e,t){},function(e,t,n){n(13);var o=n(0)(n(7),n(16),null,null);e.exports=o.exports},function(e,t,n){n(11);var o=n(0)(n(8),n(14),null,null);e.exports=o.exports},function(e,t,n){n(12);var o=n(0)(n(9),n(15),null,null);e.exports=o.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={0:null,1:[{type:5,_key:"level"},{type:4,_key:"power"}],2:[{type:6,_key:"level"}],3:[{type:5,_key:"level"}],4:[{type:7,_key:"level"}],5:[{type:9,_key:"level"}],6:[{type:8,_key:"level"}]};t.default={name:"game-card",data:function(){return{infoList:[]}},props:["item"],methods:{transGameInfo:function(){var e=[],t=o[this.item.scoleType],n=!1;if(t)for(var i=0;i<t.length;i++){var a={};a.type=t[i].type,a.value=this.item[t[i]._key];var s=!!a.value;s&&e.push(a),n=n||s}return 0!==e.length&&n||(e=[{type:-1,value:"暂无数据"}]),this.infoList=e,this.$nextTick(function(){}),!0},goLink:function(e){var t={link:e,isFullScreen:!1,showMoreBtn:!0,title:""};SDW_WEB.openNewWindow(t)},checkGameSate:function(e,t,n){var o=SDW_WEB.USER_INFO.uid,i=SDW_PATH.GAME_URL(e,t),a={link:i,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===e?(a=SDW_WEB._checkWebViewObject(a,n),o?SDW_WEB.openNewWindow(a):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage()):SDW_WEB.openNewWindow(a)},playGame:function(){},transDate:function(e){if(!e)return null;var t=+new Date,n=new Date(e),o=t-e,i=n.getFullYear(),a=n.getMonth()+1,s=n.getDate();return o<864e5?o<36e5?o<1e4?"刚刚玩过":o<6e4?(o/1e3>>0)+"秒前玩过":(o/6e4>>0)+"分前玩过":(o/36e5>>0)+"时前玩过":i+"/"+a+"/"+s+"玩过"}},computed:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fast-login",data:function(){return{loginFlagV2:1,phoneLoginData:{getCodeFlag:!1,phoneNum:"",phoneCode:"",RES_TIME:"",timerHand:null,message:"获取验证码"},tapTimer:null}},props:["show"],methods:{hidePage:function(){/home/.test(location.href)||(this.show=0)},forbidScroll:function(e){e.preventDefault()},timers:function(){var e=this,t=60,n=document.querySelector("#getCode-v-2");n.className="codetimer",e.codeMessage=t--+"秒后获取",e.timerHand=setInterval(function(){t<=0?(clearInterval(e.timerHand),n.className="codenormal",e.phoneLoginData.message="获取验证码",e.phoneLoginData.getCodeFlag=!1):e.phoneLoginData.message=t--+"秒后获取"},1e3)},chooseLoginType:function(){},getPhoneCode:function(){var e=this,t=this.phoneLoginData,n=SDW_WEB.channel;if(!t.getCodeFlag)if(/^1\d{10}$/.test(t.phoneNum)){t.getCodeFlag=!0;var o=+new Date/1e3>>0,i=(new Date).Format("yyyyMMdd"),a=SDW_WEB.MD5("SDW"+i+n+SDW_WEB.guid+t.phoneNum+o),s=HTTP_USER_STATIC+"telcode?channel="+n+"&phone="+t.phoneNum+"&time="+o+"&sign="+a;dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(s,function(n){1==n.result?(t.RES_TIME=n.time,t.getCodeFlag=!0,e.timers(),dialog.show("ok","验证码已发送",1),document.querySelector(".short").focus()):(t.getCodeFlag=!1,dialog.show("error",n.msg,1))},!1)}else dialog.show("error","请输入正确的手机号",1)},phoneLogin:function(e){var t=this,n=this.phoneLoginData,o=SDW_WEB.channel;if(/^1\d{10}$/.test(n.phoneNum))if(/^\d+$/.test(n.phoneCode)){var i=e?"&vst=1&vsttoken="+visitorMode.visitorToken:"",a=HTTP_USER_STATIC+"telcheck?channel="+o+"&phone="+n.phoneNum+"&time="+n.RES_TIME+"&sign="+SDW_WEB.MD5(o+SDW_WEB.guid+n.phoneNum+n.RES_TIME+n.phoneCode)+i;dialog.show("loading","登录中..."),SDW_WEB.getAjaxData(a,function(e){if(1==e.result){var n={uid:e.id,otoken:e.token,nick:e.nick,sex:e.sex,avatar:e.avatar,city:e.city,fl:e.fl};SDW_WEB.Store.set(SDW_WEB.localItem,n,!0),localStorage.setItem(window.DATAITEM,JSON.stringify(n)),dialog.show("ok","登录成功",1),n.secheme=+new Date,n.token=SDW_WEB.MD5(""+SDW_WEB.channel+n.uid+n.secheme+n.otoken),SDW_WEB.USER_INFO=n,t.$emit("login-ok"),t.show=0}else dialog.show("error",e.msg,1)},!1)}else dialog.show("error","请输入正确的验证码",1);else dialog.show("error","请输入正确的手机号",1)}},computed:{showLogin:function(){return this.show||!1}},watch:{showLogin:function(e){var t=this;e?(this.tapTimer&&clearTimeout(this.tapTimer),this.tapTimer=setTimeout(function(){document.addEventListener("touchmove",t.forbidScroll,!1)},200)):(this.tapTimer&&clearTimeout(this.tapTimer),document.removeEventListener("touchmove",t.forbidScroll,!1))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gameItem",data:function(){return{onShandw:SDW_WEB.onShandw}},props:["index","background"],methods:{checkNavState:function(e){var t={0:"index/",1:"rank/",2:"task/",3:"home/"};if(/index\//.test(location.href)&&SDW_WEB.addCount("f-"+e.index),this.index==e.index);else{var n=e.index;if(0!=n&&!SDW_WEB.USER_INFO.uid)return void this.$emit("show-login",n);var o=SDW_PATH.MOBILE_ROOT+t[n]+location.search;/v=/.test(o)||(-1===o.indexOf("?")?o+="?v="+SDW_WEB.version:o+="&v="+SDW_WEB.version),location.href=o}}},computed:{footerClass:function(){return this.background?"footer footer-bg":"footer"},navList:function(){for(var e=parseInt(this.index)||0,t=["首页","排行","成就","我"],n=["icon icon-main","icon icon-rank","icon icon-task","icon icon-me"],o=[],i=0;i<t.length;i++){var a={};a.title=t[i],a.icon=n[i],a.select=i==e,a.select&&(a.icon+=" icon-select"),a.show=!0,"10041"==SDW_WEB.channel&&"排行"==a.title&&(a.show=!1),o.push(a)}return o}}}},function(e,t,n){function o(e){for(var t=0,n=e.length;t<n;t++)e[t].getBoundingClientRect().top<document.documentElement.clientHeight&&!e[t].isLoad&&(e[t].isLoad=!0,e[t].dataset.loaded="1",e[t].style.cssText="transition: ''; opacity: 0;",i(e[t],e[t].dataset.src))}function i(e,t){if(t){var n=new Image;n.onload=function(){e.src=n.src,e.style.cssText="transition: 1s; opacity: 1;";var t=e.parentNode;t&&t.classList.contains("game-cover-info")&&(t.style.transition=".4s",t.style.background="rgba(0,0,0,0)")},n.src=t}}n(2),n(3);var a,s=n(5),r=n(6),c=n(4);SDW_WEB.USER_INFO=SDW_WEB.USER_INFO||{};var l=[{title:"我的消息",type:"message",link:""}];SDW_WEB.onShandw?(l.push({title:"红包提现",type:"gift",link:""}),l.push({title:"话费领取",type:"phone",link:""})):l.push({title:"下载闪电玩APP",type:"app",link:"http://www.shandw.com/app/download/"});var u={initFlg:!1,onShandw:SDW_WEB.onShandw,user:{avatar:SDW_WEB.USER_INFO.avatar||"https://www.shandw.com/mobile/images/phdavatar.png",uid:"-1",nick:"闪电玩用户",phone:"11111111111",gold:0,sex:1},navList:l,recent:[],likeList:[],hotList:[],morePage:SDW_PATH.MOBILE_ROOT+"more/?channel="+SDW_WEB.channel,gamePage:SDW_PATH.MOBILE_ROOT+"thematic/?channel="+SDW_WEB.channel,mydataUrl:SDW_PATH.MOBILE_ROOT+"mydata/?channel="+SDW_WEB.channel},d={checkNavList:function(e){if("message"===e.type)return void dialog.show("ok","此功能暂未开放",1);this.goLink(e.link)},goLink:function(e){var t={link:e,isFullScreen:!1,showMoreBtn:!0,title:""};SDW_WEB.openNewWindow(t)},getMyData:function(){var e=this,t=(new Date,SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,sec:SDW_WEB.USER_INFO.secheme,token:SDW_WEB.USER_INFO.token,type:1,page:0},!1,HTTP_STATIC+"userinfo"));SDW_WEB.getAjaxData(t,function(t){if(1==t.result){t.recent&&(e.recent=t.recent.slice(0,5));for(var n=0;n<e.recent.length;n++){e.recent[n]}t.likeList&&t.likeList.length>=3?e.likeList=t.likeList:t.recommand&&(e.hotList=t.recommand);var o=t.info;e.user.avatar=o.avatar||SDW_WEB.USER_INFO.avatar||"https://www.shandw.com/mobile/images/phdavatar.png",e.user.uid=o.id,e.user.nick=o.nick,e.user.phone=o.phone||"",e.user.sex=o.sex,e.user.gold=o.gold||0,e.initFlg=!0,e.$nextTick(function(){setTimeout(function(){p.runCallback()},200)})}})},checkGameSate:function(e,t,n){var o=SDW_WEB.USER_INFO.uid,i=SDW_PATH.GAME_URL(e,t),a={link:i,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===e?(n&&n.screen&&(a.landscape=!0,i+="&screen="+n.screen,a.link=i),o?SDW_WEB.openNewWindow(a):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage()):SDW_WEB.openNewWindow(a)}},a=new Vue({el:"#app",data:u,methods:d,components:{fastLogin:s,sdwFooter:r,gameCard:c}}),h=n(1),p=new h(function(){o(document.querySelectorAll('img[data-loaded="0"]'))});p.runCallback(),SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(){a.getMyData()}):SDW_WEB.__needLogin__?SDW_WEB.onAPPs||a.$nextTick(function(){this.$refs.login.show="1"}):a.getMyData()},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"scale21"}},[e.showLogin?n("div",{staticClass:"login-container"},[n("div",{staticClass:"mask-v2",on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.hidePage()}}}),e._v(" "),e.show?n("div",[n("i",{staticClass:"sdw-logo-v2"}),e._v(" "),n("div",{staticClass:"forms",attrs:{id:"loginForm-v2"}},[n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 phone"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneNum,expression:"phoneLoginData.phoneNum"}],staticClass:"long",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e.phoneLoginData.phoneNum},on:{input:function(t){t.target.composing||e.$set(e.phoneLoginData,"phoneNum",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 code"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneCode,expression:"phoneLoginData.phoneCode"}],staticClass:"short",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e.phoneLoginData.phoneCode},on:{input:function(t){t.target.composing||e.$set(e.phoneLoginData,"phoneCode",t.target.value)}}}),e._v(" "),n("div",{staticClass:"codenormal",attrs:{id:"getCode-v-2"},on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.getPhoneCode()}}},[e._v("\n                        "+e._s(e.phoneLoginData.message)+"\n                    ")])]),e._v(" "),n("div",{staticClass:"login-btn-v2",on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.phoneLogin(0)}}},[e._v("登"),n("span",{staticStyle:{width:"50px"}}),e._v("录\n                ")])])]):e._e()]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.navList.length&&!e.onShandw?n("div",{class:e.footerClass},e._l(e.navList,function(t,o){return t.show?n("div",{directives:[{name:"tap",rawName:"v-tap.self.stop",value:{methods:e.checkNavState,item:t,index:o},expression:"{methods:checkNavState,item:item,index:index}",modifiers:{self:!0,stop:!0}}],staticClass:"bottom-nav"},[n("i",{class:t.icon}),e._v(" "),t.select?e._e():n("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),t.select?n("i",{staticClass:"light"}):e._e()]):e._e()}),0):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-game-item"},[n("div",{staticClass:"game-cover",on:{click:function(t){t.stopPropagation(),e.checkGameSate("play",e.item.id,e.item)}}},[n("div",{staticClass:"game-play-time"},[e._v(e._s(e.transDate(e.item.time)))]),e._v(" "),n("img",{attrs:{"data-src":e.item.bIcon,"data-loaded":"0"}})]),e._v(" "),n("div",{staticClass:"game-title",on:{click:function(t){t.stopPropagation(),e.checkGameSate("",e.item.id,e.item)}}},[e._v(e._s(e.item.name))]),e._v(" "),e.transGameInfo()?n("div",{staticClass:"game-data-info",attrs:{"data-length":e.infoList.length}},e._l(e.infoList,function(t){return n("div",{staticClass:"data-type",attrs:{"data-index":t.type}},[e._v(e._s(t.value)+"\n        ")])}),0):e._e()])},staticRenderFns:[]}}]);