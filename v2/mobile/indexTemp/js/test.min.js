!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=25)}([function(t,e){t.exports=function(t,e,i,n){var a,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,o=t.default);var r="function"==typeof o?o.options:o;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),i&&(r._scopeId=i),n){var l=Object.create(r.computed||null);Object.keys(n).forEach(function(t){var e=n[t];l[t]=function(){return e}}),r.computed=l}return{esModule:a,exports:o,options:r}}},function(t,e){function i(t){return this.id=t.id||"",this.adsorbed=t.adsorbed||!0,this.duration=t.duration||.3,this.position=t.position||"1,0.5",this.adsorb=t.adsorb||!1,this.notRotate=t.notRotate||!1,this.init(t),this}i.prototype.init=function(t){if(this.id){this.target=document.querySelector(this.id),this.WIDTH=document.documentElement.clientWidth||document.body.clientWidth,this.HEIGHT=document.documentElement.clientHeight||document.body.clientHeight,this.offX=0,this.offY=0,this.width=t.width||this.target.offsetWidth,this.height=t.height||this.target.offsetHeight,t.width&&(this.target.style.width=t.width+"px"),t.height&&(this.target.style.height=t.height+"px"),this.tapFlag=!1,this.timer=null,this.hasMove=!1;var e=this.position.split(","),i=parseFloat(e[0])*(this.WIDTH-this.width)>>0,n=window.touch_initY||parseFloat(e[1]),a=n*(this.HEIGHT-this.height)>>0;this.top=a,this.left=i,this.hiddenState(),this.target.addEventListener("touchstart",this.touchDown.bind(this),!1),document.addEventListener("touchmove",this.touchMove.bind(this),!1),this.target.addEventListener("touchend",this.touchUp.bind(this),!1)}},i.prototype.update=function(){this.WIDTH=document.documentElement.clientWidth||document.body.clientWidth,this.HEIGHT=document.documentElement.clientHeight||document.body.clientHeight;var t=this.WIDTH-this.width;this.top=0,this.left=t;var e="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s";this.target.style.webkitTransition=this.target.style.transition=e;var i="translate3d("+t+"px,0px,0)";this.target.style.webkitTransform=this.target.style.transform=i},i.prototype.setPositionY=function(t,e){var i=this.HEIGHT*(t||.5)-this.height/2;i=Math.max(0,i),i=Math.min(this.HEIGHT-this.height,i),this.top=i;var n="translate3d("+this.left+"px,"+i+"px,0)";this.target.style.webkitTransform=this.target.style.transform=n,e||this.hiddenState()},i.prototype.touchDown=function(t){if(t.preventDefault(),!this.tapFlag){this.hasMove=!1,this.target.style.opacity="1";var e=this.target.getBoundingClientRect();if(t.touches)var i=t.touches[0];else var i=t;this.offX=i.clientX-e.left,this.offY=i.clientY-e.top,this.tapFlag=!0,this.clearTimer(),this.touchMove(t),this.target.style.transition=this.target.style.webkitTransition="none"}},i.prototype.touchMove=function(t){if(this.tapFlag){if(this.hasMove=!0,t.changedTouches)var e=t.changedTouches[0];else var e=t;var i=e.clientY-this.offY,n=e.clientX-this.offX;i=Math.max(0,i),i=Math.min(this.HEIGHT-this.height,i),n=Math.max(0,n),n=Math.min(this.WIDTH-this.width,n);var a="translate3d("+n+"px,"+i+"px,0)";this.target.style.transform=this.target.style.webkitTransform=a}},i.prototype.touchUp=function(t){if(t.preventDefault(),this.tapFlag){if(this.tapFlag=!1,t.changedTouches)var e=t.changedTouches[0];else var e=t;var i=e.clientX-this.offX,n=e.clientY-this.offY;if(n=Math.max(0,n),n=Math.min(this.HEIGHT-this.height,n),i=i<=this.WIDTH/2-this.width/2&&this.adsorb?0:this.WIDTH-this.width,this.top=n,this.left=i,this.target.style.webkitTransition="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s",this.target.style.transition="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s",this.target.style.webkitTransform="translate3d("+i+"px,"+n+"px,0)",this.target.style.transform="translate3d("+i+"px,"+n+"px,0)",this.timer=setTimeout(function(){this.hiddenState()}.bind(this),2e3),!this.hasMove){var a="canvas"==t.target.tagName.toLocaleLowerCase();("barrage-cont"==t.target.className||"barrage-text"==t.target.className||a)&&this.target.click()}}},i.prototype.clearTimer=function(){clearTimeout(this.timer)},i.prototype.hiddenState=function(){if(this.target.style.opacity="0.7",this.notRotate)var t=this.left,e="translate3d("+t+"px,"+this.top+"px,0)";else var t=this.left+this.width/2,e="translate3d("+t+"px,"+this.top+"px,0) rotate(-45deg)";this.target.style.webkitTransform=this.target.style.transform=e},t.exports=i},function(t,e){function i(t){t=t||{},this.files=t.files||[],this.loaded=0,this.loadLength=this.files.length,this.RES={},"function"==typeof t.callback&&(this.callback=t.callback);for(var e=0;e<this.loadLength;e++)this.loadFile(this.files[e])}function n(t,e){return t+a()*e}function a(){for(var t=0,e=0;e<12;e++)t+=Math.random();return t-6}function o(t){t=t||{},this.dom=t.dom,this.angle=t.angle,this.vAngle=t.vAngle}function s(t){t=t||{},this.textures=t.textures,this.ended=!1,this.oFragment=document.createDocumentFragment(),this.num=t.num||15,this.finished=0,this.OS={DPI:2,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},this.dropList=[],this.SIN_MAP={},"function"==typeof t.startCallback&&(this.startCallback=t.startCallback),"function"==typeof t.endCallback&&(this.endCallback=t.endCallback),this.init()}i.prototype.loadFile=function(t){var e=this,i=new Image;i.src=t,i.onload=function(){e.loadedFile(t,i)}},i.prototype.loadedFile=function(t,e){this.RES[t]=e,++this.loaded===this.loadLength&&this.callback&&this.callback()},i.prototype.getRes=function(t){var e=this.RES[t];return e||null},s.prototype.init=function(){var t=this;this.loader=new i({files:t.textures,callback:function(){var e=document.createElement("div");e.style.position="fixed",document.body.appendChild(e),t.stage=e;for(var i=0;i<t.num;i++){var n=i%t.textures.length,a=t.loader.getRes(t.textures[n]);t.createDropItem(a)}e.appendChild(t.oFragment),document.body.appendChild(e),t.update(),t.startCallback&&t.startCallback()}})},s.prototype.getSin=function(t){return this.SIN_MAP[t]?this.SIN_MAP[t]:(this.SIN_MAP[t]=Math.sin(t),this.SIN_MAP[t])},s.prototype.createDropItem=function(t){var e=document.createElement("div");e.className="drop-item",e.style.width=t.width/this.OS.DPI+"px",e.style.height=t.height/this.OS.DPI+"px",e.style.backgroundImage="url("+t.src+")",this.oFragment.appendChild(e);var i=n(this.OS.width/2,this.OS.width/3.4),a=new o({dom:e,angle:Math.PI*Math.random(),vAngle:.02*Math.random()+.01});this.dropList.push(a),this.setDropItemSpeed(a,40*Math.random()+20,2.4*Math.random()+2),this.setDropItemPosition(a,i,-Math.random()*t.height*4-30),this._setPosition(a)},s.prototype.setDropItemPosition=function(t,e,i){t.x=e,t.sx=t.sx||e,t.y=i},s.prototype._setPosition=function(t){if(t.dom){var e="translate3d("+t.x+"px,"+t.y+"px,0)";t.dom.style.transform=t.dom.style.webkitTransform=e}},s.prototype.setDropItemSpeed=function(t,e,i){t.vx=e,t.vy=i},s.prototype.update=function(){if(!this.ended){window.requestAnimationFrame(this.update.bind(this));for(var t=0;t<this.dropList.length;++t){var e=this.dropList[t],i=e.y+e.vy;if(i>this.OS.height){if(e.dom.style.display="none",this.dropList.splice(t,1),e=null,0===this.dropList.length)return this.ended=!0,this.stage.parentNode.removeChild(this.stage),void(this.endCallback&&this.endCallback())}else{e.angle+=e.vAngle,e.angle>2*Math.PI&&(e.angle=0);var n=this.getSin(e.angle)*e.vx;e.vy+=.0013;var a=e.sx+n;this.setDropItemPosition(e,a,i)}}for(var t=0;t<this.dropList.length;t++){var e=this.dropList[t];this._setPosition(e)}}},t.exports=s},function(t,e){},function(t,e){},function(t,e){},,function(t,e,i){i(15);var n=i(0)(i(11),i(18),null,null);t.exports=n.exports},function(t,e,i){i(14);var n=i(0)(i(12),i(17),null,null);t.exports=n.exports},function(t,e,i){i(16);var n=i(0)(i(13),i(19),null,null);t.exports=n.exports},function(t,e){function i(t,e,i,n){if("function"!=typeof t)return void console.log("WindowScroll error: callback must be a Function!");this.toBottom=e||!1,this.enable=!0,this.callback=t||null,this.delayTime=i||200,this.offset=n||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,this._init()}i.prototype._init=function(){var t=this;t.timer=null,t.callback&&window.addEventListener("scroll",function(e){if(t.enable){var i=document.body.scrollTop+t.clientHeigth,n=document.documentElement.scrollHeight-t.offset,a=i>=n;(1==t.toBottom&&a||0==t.toBottom)&&!t.timer&&(t.timer=setTimeout(function(){t.callback(e),t.timer=null},t.delayTime))}},!1)},i.prototype.setCallback=function(t){"function"==typeof t?self.callback=t:console.log("[WindowScroll error]: callback must be a Function!")},i.prototype.runCallback=function(){this.callback&&this.callback()},t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-item",data:function(){return{}},methods:{},computed:{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"long-game-item",data:function(){return{msg:"long-game-item.vue"}},props:["gameItem"],methods:{checkAuth:function(t,e,i){this.$emit("tap-game",t,e,i)},transPvNum:function(t){t=t||0;var e,i;return t<1e4?t:t<1e8?(e=t/1e4>>0,i=t%1e4+"",0==i?e+"万":e+"."+i[0]+"万"):t<1e10?(e=t/1e8>>0,i=t%1e8+"",0==i?e+"亿":e+"."+i[0]+"亿"):void 0}},computed:{tags:function(){var t={"热门":"g-l-5","精品":"g-l-3","礼包":"g-l-4","最新":"g-l-1","独家":"g-l-2","首发":"g-l-6","删档":"g-l-7","限号":"g-l-8","封测":"g-l-9"},e=[];if(this.gameItem.tip)for(var i=this.gameItem.tip.split(","),n=0;n<i.length;n++)e.push({type:i[n],cl:t[i[n]]});return this.gameItem.gift&&e.push({type:"礼包",cl:"g-l-4"}),e}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"recent-game",props:["recommendList"],methods:{goMorePage:function(){var t=SDW_PATH.MOBILE_ROOT+"more/?channel="+SDW_WEB.channel;SDW_WEB.openNewWindow({link:t,isFullScreen:!1,showMoreBtn:!1,title:""})},checkGameSate:function(t,e,i,n){n&&SDW_WEB.addCount(n);var a=SDW_WEB.USER_INFO.uid,o=SDW_PATH.GAME_URL(t,e),s={link:o,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===t?a?(s=SDW_WEB._checkWebViewObject(s,i),SDW_WEB.openNewWindow(s)):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage():SDW_WEB.openNewWindow(s)}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-long-container",on:{click:function(e){t.checkAuth("",t.gameItem.id,t.gameItem.url)}}},[i("img",{staticClass:"long-icon",attrs:{src:t.gameItem.icon}}),t._v(" "),i("div",{staticClass:"g-long-name"},[i("span",{staticClass:"g-l-name"},[t._v(t._s(t.gameItem.name))]),t._v(" "),t._l(t.tags,function(e){return i("span",{staticClass:"g-l-tag",class:e.cl},[t._v(t._s(e.type))])})],2),t._v(" "),i("div",{staticClass:"g-long-info"},[i("span",{staticClass:"g-l-type"},[t._v(t._s(t.gameItem.type))]),t._v(" "),i("span",{staticClass:"g-l-play"},[i("i",{staticClass:"s-g-l"},[t._v(t._s(t.transPvNum(t.gameItem.vPv)))]),t._v("人在玩")])]),t._v(" "),i("div",{staticClass:"g-long-desc"},[t._v(t._s(t.gameItem.sub))]),t._v(" "),i("div",{staticClass:"game-btn g-l-right",on:{click:function(e){if(e.target!==e.currentTarget)return null;e.stopPropagation(),t.checkAuth("play",t.gameItem.id,t.gameItem)}}},[t._v("开玩")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading-container"},[i("div",{staticClass:"loading-more"},[i("i",{staticClass:"icon-loading"}),t._v(" "),i("span",{staticClass:"loading-text"},[t._v("努力加载中...")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.recommendList.length?i("div",{staticClass:"recommend-container"},[t._m(0),t._v(" "),t._l(t.recommendList,function(e){return i("div",{staticClass:"recommend-list",on:{click:function(i){t.checkGameSate("play",e.id,e)}}},[i("img",{staticClass:"recommend-cover",attrs:{src:e.icon}})])}),t._v(" "),i("div",{staticClass:"recommend-more",on:{click:function(e){if(e.stopPropagation(),e.target!==e.currentTarget)return null;t.goMorePage()}}})],2):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend-list2"},[i("b",[t._v("玩过")])])}]}},,,,,,function(t,e,i){function n(){function t(t){var e=t.touches[0];return{x:e.clientX,y:e.clientY}}if(h.state){window.touch=new d({id:"#my-menu",position:"1,0.5",notRotate:!0,width:80,height:90}),window.touch.target.style.visibility="visible";var e=null,i=null,n=document.querySelector("#menu-btn");n.addEventListener("touchstart",function(n){e=t(n),e.time=+new Date,i=null},!1),n.addEventListener("touchmove",function(e){i=t(e),i.time=+new Date},!1),n.addEventListener("touchend",function(t){i=i||e;var n=i.time-e.time,a=i.x-e.x,o=i.y-e.y,s=a*a+o*o;if(n<=300&&s<=36){SDW_WEB.addCount("saishiIndex");var r=h.activityPage+"?channel="+SDW_WEB.channel;if(1==h.openState)return void dialog.show("ok","敬请期待<br>新年活动将于2月2号开启哦~！",1);SDW_WEB.USER_INFO&&SDW_WEB.USER_INFO.uid?SDW_WEB.openNewWindow({link:r,isFullScreen:!1,showMoreBtn:!0}):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):p.__showLoginPage()}},!1)}}function a(t,e){for(var i=0,n=t.length;i<n;i++)t[i].getBoundingClientRect().top<document.documentElement.clientHeight&&!t[i].isLoad&&(t[i].isLoad=!0,t[i].dataset.loaded="1",!e&&(t[i].style.cssText="transition: ''; opacity: 0;"),o(t[i],t[i].dataset.src,e))}function o(t,e,i){function n(t,e){return t.classList.contains(e)}if(e){var a=new Image;a.onload=function(){t.src=a.src,!i&&(t.style.cssText="transition: 1s; opacity: 1;");var e=t.parentNode;e&&(n(e,"game-cover-info")||n(e,"recommend-list"))&&(e.style.transition=".4s",e.style.background="rgba(0,0,0,0)")},a.src=e}}i(5),i(3);var s=i(7),r=i(8),l=i(10),c=i(9),h=i(!function(){var t=new Error('Cannot find module "./config"');throw t.code="MODULE_NOT_FOUND",t}());if(h.state){i(4);var d=i(1)}if(h.dropType){i(2)}var u={activity:h,theme:"bright"==SDW_WEB.URLS.queryUrl().theme?"bright":"dark",allGameList:[],recentList:[],pageHasLoading:!1,navList:[{title:"网游",page:0,loaded:!1,loading:!1,current:0,list:[],type:0},{title:"小游戏",page:0,loaded:!1,loading:!1,current:0,list:[],type:1},{title:"全部",page:0,loaded:!1,loading:!1,current:0,list:[]}],currentNav:null},m={switchNav:function(t){this.currentNav=t;for(var e=0;e<this.navList.length;e++){var i=this.navList[e];i.title===t.title?(i.current=1,0===i.page&&(void 0!==i.type?this.loadTypeGame(i):this.loadAllGameList(i))):i.current=0}},checkGameSate:function(t,e,i){if("10911"==SDW_WEB.channel)var n="http://www.shandw.com/maopao/game/index.html?gid="+e+"&channel=10911";else var n=SDW_PATH.GAME_URL(t,e);var a={link:n,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===t&&(a=SDW_WEB._checkWebViewObject(a,i),SDW_WEB.openNewWindow(a))},createBanner:function(t){var e=t.ad||[],i='<img data-src=D_IMG class="swiper-slide slider-img" data-index=D_INDEX data-loaded="5">',n="";return e.forEach(function(t,e){if("10041"==SDW_WEB.channel)var a=i.replace(/D_IMG/,t["670x280"]).replace(/D_INDEX/,e);else var a=i.replace(/D_IMG/,t.adImg).replace(/D_INDEX/,e);n+=a}),document.querySelector("#bannercont").innerHTML=n,e},goMorePage:function(){var t=SDW_PATH.MOBILE_ROOT+"more/?channel="+SDW_WEB.channel;SDW_WEB.openNewWindow({link:t,isFullScreen:!1,showMoreBtn:!1,title:""})},loadMainData:function(){var t=this,e=SDW_WEB.URLS.addParam({channel:SDW_WEB.channel,uid:SDW_WEB.USER_INFO.uid,token:SDW_WEB.USER_INFO.token,sec:SDW_WEB.USER_INFO.secheme,type:1,flag:1},!1,HTTP_STATIC+"pltmain");SDW_WEB.getAjaxData(e,function(e){e.recent&&(t.recentList=e.recent.splice(0,3)),t.bannerList=t.createBanner(e);new Swiper(".banner-conatiner",{pagination:".swiper-pagination",effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,coverflow:{rotate:45,stretch:0,depth:145,modifier:1,slideShadows:!0}});if(t.bannerList.length){var i=t.bannerList[0].adImg;document.querySelector("#topBanner").src=i}t.$nextTick(function(){setTimeout(function(){a(document.querySelectorAll('img[data-loaded="5"]'),!0);for(var e=document.querySelectorAll(".slider-img"),i=0;i<e.length;i++)e[i].onclick=function(){t.clickBannerEvt(this.dataset.index)}},200)}),n()})},loadListData:function(t,e){SDW_WEB.getAjaxData(t,function(t){1===t.result&&(t.list&&t.list.length?e.list=e.list.concat(t.list):e.loaded=!0,e.page++),e.loading=!1})},loadAllGameList:function(t){if(!t.loading){t.loading=!0;var e=SDW_WEB.URLS.addParam({page:t.page},!1,HTTP_STATIC+"search");this.loadListData(e,t)}},loadTypeGame:function(t){if(!t.loading){t.loading=!0;var e=SDW_WEB.URLS.addParam({page:t.page,type:t.type||0},!1,HTTP_STATIC+"simpleGameList");this.loadListData(e,t)}},clickBannerEvt:function(t){if(this.bannerList[t].url){var e=this.bannerList[t].url;-1===e.indexOf("?")?e+="?channel="+SDW_WEB.channel:e+="&channel="+SDW_WEB.channel,SDW_WEB.openNewWindow({link:e,isFullScreen:!1,showMoreBtn:!0,title:""})}else this.checkGameSate("play",this.bannerList[t].id)},loadMore:function(){var t=this.currentNav;t.loaded||(void 0!==t.type?this.loadTypeGame(t):this.loadAllGameList(t))}},p=new Vue({el:"#app",data:u,methods:m,components:{loadingView:s,longGameItem:r,recentGame:c}});SDW_WEB.getSdwUserData().then(function(t){p.loadMainData(),p.switchNav(u.navList[0])},function(t){SDW_WEB.USER_INFO={},p.loadMainData(),p.getRecentList(),p.switchNav(u.navList[0])});new l(function(){p.loadMore()},!0,100,30)}]);