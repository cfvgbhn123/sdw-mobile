!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=20)}([function(t,e){t.exports=function(t,e,i,n){var s,a=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(s=t,a=t.default);var r="function"==typeof a?a.options:a;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),i&&(r._scopeId=i),n){var c=Object.create(r.computed||null);Object.keys(n).forEach(function(t){var e=n[t];c[t]=function(){return e}}),r.computed=c}return{esModule:s,exports:a,options:r}}},function(t,e){function i(t){return this.id=t.id||"",this.adsorbed=t.adsorbed||!0,this.duration=t.duration||.3,this.position=t.position||"1,0.5",this.adsorb=t.adsorb||!1,this.notRotate=t.notRotate||!1,this.init(t),this}i.prototype.init=function(t){if(this.id){this.target=document.querySelector(this.id),this.WIDTH=document.documentElement.clientWidth||document.body.clientWidth,this.HEIGHT=document.documentElement.clientHeight||document.body.clientHeight,this.offX=0,this.offY=0,this.width=t.width||this.target.offsetWidth,this.height=t.height||this.target.offsetHeight,t.width&&(this.target.style.width=t.width+"px"),t.height&&(this.target.style.height=t.height+"px"),this.tapFlag=!1,this.timer=null,this.hasMove=!1;var e=this.position.split(","),i=parseFloat(e[0])*(this.WIDTH-this.width)>>0,n=window.touch_initY||parseFloat(e[1]),s=n*(this.HEIGHT-this.height)>>0;this.top=s,this.left=i,this.hiddenState(),this.target.addEventListener("touchstart",this.touchDown.bind(this),!1),document.addEventListener("touchmove",this.touchMove.bind(this),!1),this.target.addEventListener("touchend",this.touchUp.bind(this),!1)}},i.prototype.update=function(){this.WIDTH=document.documentElement.clientWidth||document.body.clientWidth,this.HEIGHT=document.documentElement.clientHeight||document.body.clientHeight;var t=this.WIDTH-this.width;this.top=0,this.left=t;var e="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s";this.target.style.webkitTransition=this.target.style.transition=e;var i="translate3d("+t+"px,0px,0)";this.target.style.webkitTransform=this.target.style.transform=i},i.prototype.setPositionY=function(t,e){var i=this.HEIGHT*(t||.5)-this.height/2;i=Math.max(0,i),i=Math.min(this.HEIGHT-this.height,i),this.top=i;var n="translate3d("+this.left+"px,"+i+"px,0)";this.target.style.webkitTransform=this.target.style.transform=n,e||this.hiddenState()},i.prototype.touchDown=function(t){if(t.preventDefault(),!this.tapFlag){this.hasMove=!1,this.target.style.opacity="1";var e=this.target.getBoundingClientRect();if(t.touches)var i=t.touches[0];else var i=t;this.offX=i.clientX-e.left,this.offY=i.clientY-e.top,this.tapFlag=!0,this.clearTimer(),this.touchMove(t),this.target.style.transition=this.target.style.webkitTransition="none"}},i.prototype.touchMove=function(t){if(this.tapFlag){if(this.hasMove=!0,t.changedTouches)var e=t.changedTouches[0];else var e=t;var i=e.clientY-this.offY,n=e.clientX-this.offX;i=Math.max(0,i),i=Math.min(this.HEIGHT-this.height,i),n=Math.max(0,n),n=Math.min(this.WIDTH-this.width,n);var s="translate3d("+n+"px,"+i+"px,0)";this.target.style.transform=this.target.style.webkitTransform=s}},i.prototype.touchUp=function(t){if(t.preventDefault(),this.tapFlag){if(this.tapFlag=!1,t.changedTouches)var e=t.changedTouches[0];else var e=t;var i=e.clientX-this.offX,n=e.clientY-this.offY;if(n=Math.max(0,n),n=Math.min(this.HEIGHT-this.height,n),i=i<=this.WIDTH/2-this.width/2&&this.adsorb?0:this.WIDTH-this.width,this.top=n,this.left=i,this.target.style.webkitTransition="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s",this.target.style.transition="cubic-bezier(0.5,1.95,.49,.73)  "+this.duration+"s",this.target.style.webkitTransform="translate3d("+i+"px,"+n+"px,0)",this.target.style.transform="translate3d("+i+"px,"+n+"px,0)",this.timer=setTimeout(function(){this.hiddenState()}.bind(this),2e3),!this.hasMove){var s="canvas"==t.target.tagName.toLocaleLowerCase();("barrage-cont"==t.target.className||"barrage-text"==t.target.className||s)&&this.target.click()}}},i.prototype.clearTimer=function(){clearTimeout(this.timer)},i.prototype.hiddenState=function(){if(this.target.style.opacity="0.7",this.notRotate)var t=this.left,e="translate3d("+t+"px,"+this.top+"px,0)";else var t=this.left+this.width/2,e="translate3d("+t+"px,"+this.top+"px,0) rotate(-45deg)";this.target.style.webkitTransform=this.target.style.transform=e},t.exports=i},function(t,e){function i(t){t=t||{},this.files=t.files||[],this.loaded=0,this.loadLength=this.files.length,this.RES={},"function"==typeof t.callback&&(this.callback=t.callback);for(var e=0;e<this.loadLength;e++)this.loadFile(this.files[e])}function n(t,e){return t+s()*e}function s(){for(var t=0,e=0;e<12;e++)t+=Math.random();return t-6}function a(t){t=t||{},this.dom=t.dom,this.angle=t.angle,this.vAngle=t.vAngle}function o(t){t=t||{},this.textures=t.textures,this.ended=!1,this.oFragment=document.createDocumentFragment(),this.num=t.num||15,this.finished=0,this.OS={DPI:2,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},this.dropList=[],this.SIN_MAP={},"function"==typeof t.startCallback&&(this.startCallback=t.startCallback),"function"==typeof t.endCallback&&(this.endCallback=t.endCallback),this.init()}i.prototype.loadFile=function(t){var e=this,i=new Image;i.src=t,i.onload=function(){e.loadedFile(t,i)}},i.prototype.loadedFile=function(t,e){this.RES[t]=e,++this.loaded===this.loadLength&&this.callback&&this.callback()},i.prototype.getRes=function(t){var e=this.RES[t];return e||null},o.prototype.init=function(){var t=this;this.loader=new i({files:t.textures,callback:function(){var e=document.createElement("div");e.style.position="fixed",document.body.appendChild(e),t.stage=e;for(var i=0;i<t.num;i++){var n=i%t.textures.length,s=t.loader.getRes(t.textures[n]);t.createDropItem(s)}e.appendChild(t.oFragment),document.body.appendChild(e),t.update(),t.startCallback&&t.startCallback()}})},o.prototype.getSin=function(t){return this.SIN_MAP[t]?this.SIN_MAP[t]:(this.SIN_MAP[t]=Math.sin(t),this.SIN_MAP[t])},o.prototype.createDropItem=function(t){var e=document.createElement("div");e.className="drop-item",e.style.width=t.width/this.OS.DPI+"px",e.style.height=t.height/this.OS.DPI+"px",e.style.backgroundImage="url("+t.src+")",this.oFragment.appendChild(e);var i=n(this.OS.width/2,this.OS.width/3.4),s=new a({dom:e,angle:Math.PI*Math.random(),vAngle:.02*Math.random()+.01});this.dropList.push(s),this.setDropItemSpeed(s,40*Math.random()+20,2.4*Math.random()+2),this.setDropItemPosition(s,i,-Math.random()*t.height*4-30),this._setPosition(s)},o.prototype.setDropItemPosition=function(t,e,i){t.x=e,t.sx=t.sx||e,t.y=i},o.prototype._setPosition=function(t){if(t.dom){var e="translate3d("+t.x+"px,"+t.y+"px,0)";t.dom.style.transform=t.dom.style.webkitTransform=e}},o.prototype.setDropItemSpeed=function(t,e,i){t.vx=e,t.vy=i},o.prototype.update=function(){if(!this.ended){window.requestAnimationFrame(this.update.bind(this));for(var t=0;t<this.dropList.length;++t){var e=this.dropList[t],i=e.y+e.vy;if(i>this.OS.height){if(e.dom.style.display="none",this.dropList.splice(t,1),e=null,0===this.dropList.length)return this.ended=!0,this.stage.parentNode.removeChild(this.stage),void(this.endCallback&&this.endCallback())}else{e.angle+=e.vAngle,e.angle>2*Math.PI&&(e.angle=0);var n=this.getSin(e.angle)*e.vx;e.vy+=.0013;var s=e.sx+n;this.setDropItemPosition(e,s,i)}}for(var t=0;t<this.dropList.length;t++){var e=this.dropList[t];this._setPosition(e)}}},t.exports=o},function(t,e){var i={activityType:"",activityPage:"http://www.shandw.com/activities/laborDay2019/index.html",title:"活动提醒",desc:"即将前往【组队拿红包】<br>活动会场",toolIconType:"newyear",activityName:"红包",menuType:"",navType:"",checkInType:"",link:"",name:"",toolInfoUrl:"",startTime:[2019,4,30],endTime:[2019,5,3],checkActivityState:function(){if(SDW_WEB.readParam("sdw_ac"))return!1;var t=+new Date,e=i.startTime,n=new Date;n.setFullYear(e[0]),n.setMonth(e[1]-1),n.setDate(e[2]),n.setHours(0),n.setMinutes(0),n.setSeconds(0);var s=+n,a=i.endTime,o=new Date;o.setFullYear(a[0]),o.setMonth(a[1]-1),o.setDate(a[2]),o.setHours(0),o.setMinutes(0),o.setSeconds(0);var r=+o;return t<s?1:s<=t&&t<r&&2}},n=i.checkActivityState();i.openState=n,i.state=!!n&&i.toolIconType+"-"+n,window._ActivityConfig=i,t.exports=i},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){i(15);var n=i(0)(i(11),i(18),null,null);t.exports=n.exports},function(t,e,i){i(14);var n=i(0)(i(12),i(17),null,null);t.exports=n.exports},function(t,e,i){i(16);var n=i(0)(i(13),i(19),null,null);t.exports=n.exports},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-item",data:function(){return{}},methods:{},computed:{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"long-game-item",data:function(){return{msg:"long-game-item.vue"}},props:["gameItem"],methods:{checkAuth:function(t,e,i){this.$emit("tap-game",t,e,i)},transPvNum:function(t){t=t||0;var e,i;return t<1e4?t:t<1e8?(e=t/1e4>>0,i=t%1e4+"",0==i?e+"万":e+"."+i[0]+"万"):t<1e10?(e=t/1e8>>0,i=t%1e8+"",0==i?e+"亿":e+"."+i[0]+"亿"):void 0}},computed:{tags:function(){var t={"热门":"g-l-5","精品":"g-l-3","礼包":"g-l-4","最新":"g-l-1","独家":"g-l-2","首发":"g-l-6","删档":"g-l-7","限号":"g-l-8","封测":"g-l-9"},e=[];if(this.gameItem.tip)for(var i=this.gameItem.tip.split(","),n=0;n<i.length;n++)e.push({type:i[n],cl:t[i[n]]});return this.gameItem.gift&&e.push({type:"礼包",cl:"g-l-4"}),e}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"recent-game",props:["recommendList"],methods:{goMorePage:function(){var t=SDW_PATH.MOBILE_ROOT+"more/?channel="+SDW_WEB.channel;SDW_WEB.openNewWindow({link:t,isFullScreen:!1,showMoreBtn:!1,title:""})},checkGameSate:function(t,e,i,n){n&&SDW_WEB.addCount(n);var s=SDW_WEB.USER_INFO.uid,a=SDW_PATH.GAME_URL(t,e),o={link:a,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===t?s?(o=SDW_WEB._checkWebViewObject(o,i),SDW_WEB.openNewWindow(o)):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage():SDW_WEB.openNewWindow(o)}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-long-container",on:{click:function(e){t.checkAuth("",t.gameItem.id,t.gameItem.url)}}},[i("img",{staticClass:"long-icon",attrs:{src:t.gameItem.icon}}),t._v(" "),i("div",{staticClass:"g-long-name"},[i("span",{staticClass:"g-l-name"},[t._v(t._s(t.gameItem.name))]),t._v(" "),t._l(t.tags,function(e){return i("span",{staticClass:"g-l-tag",class:e.cl},[t._v(t._s(e.type))])})],2),t._v(" "),i("div",{staticClass:"g-long-info"},[i("span",{staticClass:"g-l-type"},[t._v(t._s(t.gameItem.type))]),t._v(" "),i("span",{staticClass:"g-l-play"},[i("i",{staticClass:"s-g-l"},[t._v(t._s(t.transPvNum(t.gameItem.vPv)))]),t._v("人在玩")])]),t._v(" "),i("div",{staticClass:"g-long-desc"},[t._v(t._s(t.gameItem.sub))]),t._v(" "),i("div",{staticClass:"game-btn g-l-right",on:{click:function(e){if(e.target!==e.currentTarget)return null;e.stopPropagation(),t.checkAuth("play",t.gameItem.id,t.gameItem)}}},[t._v("开玩")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading-container"},[i("div",{staticClass:"loading-more"},[i("i",{staticClass:"icon-loading"}),t._v(" "),i("span",{staticClass:"loading-text"},[t._v("努力加载中...")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.recommendList.length?i("div",{staticClass:"recommend-container"},[t._m(0),t._v(" "),t._l(t.recommendList,function(e){return i("div",{staticClass:"recommend-list",on:{click:function(i){t.checkGameSate("play",e.id,e)}}},[i("img",{staticClass:"recommend-cover",attrs:{src:e.icon}})])}),t._v(" "),i("div",{staticClass:"recommend-more",on:{click:function(e){if(e.stopPropagation(),e.target!==e.currentTarget)return null;t.goMorePage()}}})],2):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend-list2"},[i("b",[t._v("玩过")])])}]}},function(t,e,i){function n(){function t(t){var e=t.touches[0];return{x:e.clientX,y:e.clientY}}if(a.state){window.touch=new o({id:"#my-menu",position:"1,0.5",notRotate:!0,width:80,height:90}),window.touch.target.style.visibility="visible";var e=null,i=null,n=document.querySelector("#menu-btn");n.addEventListener("touchstart",function(n){e=t(n),e.time=+new Date,i=null},!1),n.addEventListener("touchmove",function(e){i=t(e),i.time=+new Date},!1),n.addEventListener("touchend",function(t){i=i||e;var n=i.time-e.time,s=i.x-e.x,o=i.y-e.y,r=s*s+o*o;if(n<=300&&r<=36){SDW_WEB.addCount("saishiIndex");var c=a.activityPage+"?channel="+SDW_WEB.channel;if(1==a.openState)return void dialog.show("ok","敬请期待<br>"+a.activityName+"活动将于"+a.startTime[1]+"月"+a.startTime[2]+"号开启哦~！",1);SDW_WEB.USER_INFO&&SDW_WEB.USER_INFO.uid?SDW_WEB.openNewWindow({link:c,isFullScreen:!1,showMoreBtn:!0}):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):h.__showLoginPage()}},!1)}}i(6),i(4);var s=(i(7),i(8),i(9)),a=i(3);if(a.state){i(5);var o=i(1)}if(a.dropType){i(2)}var r={activity:a,allGameList:[],bannerList:[],recentList:[]},c={getTopicList:function(t){var e=this,i=SDW_WEB.URLS.addParam({uid:SDW_WEB.USER_INFO.uid,sec:SDW_WEB.USER_INFO.secheme,token:SDW_WEB.USER_INFO.token,channel:SDW_WEB.channel,type:0},!1,"https://platform.shandw.com/topiclist");SDW_WEB.getAjaxData(i,function(t){1==t.result?e.bannerList=t.adList:dialog.show("error","服务器开小差了~",1)})},getRecentList:function(){var t=this,e=SDW_WEB.URLS.addParam({uid:SDW_WEB.USER_INFO.uid,sec:SDW_WEB.USER_INFO.secheme,token:SDW_WEB.USER_INFO.token,channel:SDW_WEB.channel,type:1},!1,"https://platform.shandw.com/pltmain");SDW_WEB.getAjaxData(e,function(e){1==e.result?(t.recentList=e.recent.splice(0,4),console.log(t.recentList)):dialog.show("error","服务器开小差了~",1)})},checkGameSate:function(t,e,i){if(id=e.split(".htm")[0].replace(/[^0-9]/gi,""),"10911"==SDW_WEB.channel)var n="http://www.shandw.com/maopao/game/index.html?gid="+id+"&channel=10911";else var n=SDW_PATH.GAME_URL(t,id);var s={link:n,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===t&&(s=SDW_WEB._checkWebViewObject(s,i),SDW_WEB.openNewWindow(s))},openMore:function(){var t=SDW_PATH.MOBILE_ROOT+"indexTemp/?channel="+SDW_WEB.channel;SDW_WEB.openNewWindow({link:t,isFullScreen:!1,showMoreBtn:!1,title:""})}},h=new Vue({el:"#app",data:r,methods:c,components:{recentGame:s}});SDW_WEB.getSdwUserData().then(function(t){h.getTopicList(),h.getRecentList(),n()},function(t){SDW_WEB.USER_INFO={},h.getTopicList(),h.getRecentList(),n()})}]);