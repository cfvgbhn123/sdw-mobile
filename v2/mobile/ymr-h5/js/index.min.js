!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e){function n(t){t=t||{},this.__startTime=+new Date,this.files=t.files||[],this.loaded=0,this.loadLength=this.files.length,this.RES={},"function"==typeof t.callback&&(this.callback=t.callback),"function"==typeof t.progress&&(this.progress=t.progress);for(var e=0;e<this.loadLength;e++)this.loadFile(this.files[e])}n.prototype.loadFile=function(t){var e=this,n=new Image;n.src=t,n.onload=function(){e.loadedFile(t,n)}},n.prototype.loadedFile=function(t,e){this.RES[t]=e,this.loaded++,this.progress&&this.progress(this.loaded,this.loadLength),this.loaded===this.loadLength&&this.callback&&this.callback()},n.prototype.getRes=function(t){var e=this.RES[t];return e||null},t.exports=n},function(t,e){},function(t,e,n){function i(){pageManager.start()}n(1);var a=n(0),o=document.querySelector("#loading-text"),s=new a({files:["images/1.png","images/2.png","images/3.png","images/4.png","images/appicon.png","images/appicon2.png","images/5.png","images/box.png","images/bx2.png","images/bx1.png","images/bx3.png","images/bx5.png","images/bx4.png","images/egg-info.png","images/flash.png","images/go-arr-info.png","images/grass.png","images/icon-egg.png","images/last-bg.png","images/mmk-icon.png","images/loop-bg.jpg.png","images/mmk-t.png","images/page-0-title.png","images/page-2-title.png","images/page-3-title.png","images/page-1-title.png","images/tap-icon.png","images/page-4-title.png","images/yemanren_run_0_001.png"],progress:function(t,e){var n=(t/e*100).toFixed(2);o.innerText=n+"%"},callback:function(){var t=+new Date-s.__startTime;t=t>=1200?0:1200-t,setTimeout(function(){i()},t)}}),r=!1;window.pageManager=function(){var t={REM_MAP:{},canNext:!1,playAudio:!1,changeRem:function(t){if(this.REM_MAP[t])return this.REM_MAP[t];var e=t/32+"rem";return this.REM_MAP[t]=e,e},getDom:function(t){this.loadingContainer=t.querySelector(".loading-container"),this.pages=t.querySelectorAll(".page"),this.titleContainers=t.querySelectorAll(".title-container"),this.grass=t.querySelector(".grass-container"),this.cloud1=t.querySelector('.cloud[data-index="1-1"]'),this.cloud2=t.querySelector('.cloud[data-index="1-2"]'),this.cloud3=t.querySelector('.cloud[data-index="1-3"]'),this.go=t.querySelector("#go"),this.box=t.querySelector("#box"),this.tap=t.querySelector("#tap"),this.tips=t.querySelector("#tips"),this.player=t.querySelector(".player"),this.loopLayer=t.querySelector("#loop-layer"),this.goArr=t.querySelector("#go-arr"),this.audio=t.querySelector("#audio"),this.mask=t.querySelector("#mask"),this.downHelp=t.querySelector('.download-btn[data-type="help"]'),this.downGame=t.querySelector('.download-btn[data-type="game"]'),this.cloud11=t.querySelector('.cloud[data-index="4-1"]'),this.cloud22=t.querySelector('.cloud[data-index="4-2"]'),this.cloud33=t.querySelector('.cloud[data-index="4-3"]'),this.bxAni=t.querySelector(".bx-ani"),this.canNextFlag=!1,this.giftCont=t.querySelector(".gift-cont"),this.giftPlayerContainer=t.querySelector(".gift-player-container"),this.addEventListener()},addEventListener:function(){function t(t){s.playAudio||(s.playAudio=!0,s.audio.play())}function i(t){Velocity(s.go,"transition.slideDownOut",{duration:600}),s.hiddenNextPageArr(),s.player.dataset.play="run",setTimeout(function(){pageManager.playAnimation("playerMain")},200)}function a(t){s.canNext&&(0===n.currentPage?i(t):s.playerRunOut())}function o(t){return t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:void 0}var s=this;document.addEventListener("touchstart",t,!1),this.go.addEventListener("click",i,!1),this.goArr.addEventListener("click",function(t){a(t)});var r={isTap:!1,start:{x:0,y:0},current:{x:0,y:0}};document.addEventListener("touchstart",function(t){r.start=o(t)},!1),document.addEventListener("touchend",function(t){r.current=o(t),5===n.currentPage&&(r.current.x-r.start.x<-20?e.next():r.current.x-r.start.x>20&&e.pre(),r.current.y-r.start.y>20&&n.prePage(!0)),r.current.y-r.start.y<-20&&a(t)},!1),this.downGame.addEventListener("click",function(t){location.href="http://www.barbarq.com/download.html"},!1),this.downHelp.addEventListener("click",function(t){SDW_WEB.onIOS?location.href="https://itunes.apple.com/cn/app/%E9%87%8E%E8%9B%AE%E4%BA%BA%E5%A4%A7%E4%BD%9C%E6%88%98%E5%8A%A9%E6%89%8B-%E9%80%81%E5%AE%A0%E7%89%A9%E8%9B%8B/id1276069073?l=zh&ls=1&mt=8":location.href="download.html?v"+ +new Date},!1),this.box.addEventListener("click",function(t){s.giftPlayerContainer.classList.remove("hidden"),s.playerRunOut();var e=[{e:s.bxAni,p:"transition.bounceUpIn",o:{duration:600}},{e:s.bxAni,p:"callout.tada",o:{duration:600,complete:function(){s.bxAni.classList.add("box-ani-list"),setTimeout(function(){setTimeout(function(){s.bxAni.classList.add("hidden")},0),s.giftCont.classList.remove("hidden"),s.canNextFlag=!0},1500)}}}];Velocity.RunSequence(e)},!1),this.giftPlayerContainer.addEventListener("click",function(t){s.canNextFlag&&Velocity(s.giftPlayerContainer,{opacity:0},{complete:function(){s.giftPlayerContainer.classList.add("hidden"),s.showNextPageArr()}})},!1)},showNextPageArr:function(){var t=this;n.currentPage!==n.allPageLength-1&&Velocity(this.goArr,"transition.slideUpIn",{duration:600,complete:function(){t.canNext=!0}})},hiddenNextPageArr:function(){this.canNext=!1,Velocity(this.goArr,"transition.slideDownOut",{duration:600})},playerRunOut:function(){var t=this;if(t.hiddenNextPageArr(),n.currentPage>=3)return t.loopLayer.classList.add("hidden"),void n.nextPage();this.loopLayer.classList.remove("paused-ani");Velocity(this.player,{scale:[1,1],bottom:[this.changeRem(-400),this.changeRem(130)]},{duration:530/370*1e3,easing:"linear",complete:function(){n.nextPage()}});var e="leavePage"+n.currentPage;t[e]&&t[e]()},playerRunBottom:function(t){var e=this,i=2*document.documentElement.clientHeight,a=t&&t.to||130,o=(i-a)/370*1e3;Velocity(this.player,{scale:[1,1],bottom:[this.changeRem(a),this.changeRem(i)]},{duration:o,easing:"linear",complete:function(){var t="nextPage"+n.currentPage;e[t]&&e[t]()}})},playerMain:function(){var t=this;Velocity(this.player,{scale:[1.6,1],bottom:[this.changeRem(-450),this.changeRem(400)]},{duration:3500,easing:"linear",complete:function(){t.mask.style.visibility="visible",t.mask.style.opacity=1,setTimeout(function(){t.mask.style.opacity=0,t.mask.style.visibility="hidden",pageManager.nextPage()},1200)}})},showCurrentTitleInfo:function(){this.titleContainers[n.currentPage].classList.remove("hidden"),Velocity(this.titleContainers[n.currentPage],"transition.slideUpIn",{duration:650})},hiddenCurrentTitleInfo:function(){Velocity(this.titleContainers[n.currentPage],"transition.slideDownOut",{duration:650})},stopPage0:function(){this.stopCloudAni(this.cloud1,this.cloud2,this.cloud3)},stopCloudAni:function(t,e,n){Velocity(t,"stop"),Velocity(e,"stop"),Velocity(n,"stop"),Velocity(t,"finish"),Velocity(e,"finish"),Velocity(n,"finish")},getCloudPosition:function(t,e){var n=[650,260,-100],i=[-380,-280,-370];return e?n[t]:i[t]},getCloudMoveTime:function(t,e){return(t-e)/960*22*1e3},initCloudAni:function(t,e,n){function i(){var e=t.first?s.getCloudPosition(t.index,t.first):780,n=s.getCloudPosition(t.index);Velocity(t,{translateX:[s.changeRem(n),s.changeRem(e)],translateY:[s.changeRem(380),s.changeRem(380)]},{duration:s.getCloudMoveTime(e,n),easing:"linear",complete:function(){t.first=!1,i()}})}function a(){var t=e.first?s.getCloudPosition(e.index,e.first):780,n=s.getCloudPosition(e.index);Velocity(e,{translateX:[s.changeRem(n),s.changeRem(t)],translateY:[s.changeRem(110),s.changeRem(110)]},{duration:s.getCloudMoveTime(t,n),easing:"linear",complete:function(){e.first=!1,a()}})}function o(){var t=n.first?s.getCloudPosition(n.index,n.first):780,e=s.getCloudPosition(n.index);Velocity(n,{translateX:[s.changeRem(e),s.changeRem(t)],translateY:[s.changeRem(260),s.changeRem(260)]},{duration:s.getCloudMoveTime(t,e),easing:"linear",complete:function(){n.first=!1,o()}})}var s=this;t.index=0,e.index=1,n.index=2,t.first=e.first=n.first=!0,i(),a(),o()},page0:function(){this.showCurrentTitleInfo(),Velocity(this.grass,"transition.slideUpIn",{duration:1e3}),this.initCloudAni(this.cloud1,this.cloud2,this.cloud3)},leavePage1:function(){this.hiddenCurrentTitleInfo()},leavePage2:function(){this.hiddenCurrentTitleInfo()},leavePage3:function(){this.hiddenCurrentTitleInfo()},nextPage1:function(){this.showCurrentTitleInfo(),this.loopLayer.classList.add("paused-ani"),this.goArr.dataset.type="normal",this.showNextPageArr()},nextPage2:function(){this.showCurrentTitleInfo(),this.loopLayer.classList.add("paused-ani"),this.showNextPageArr()},nextPage3:function(){var t=this;this.showCurrentTitleInfo(),this.loopLayer.classList.add("paused-ani"),document.querySelector("#box-cont-3").classList.remove("hidden"),Velocity(this.box,"transition.bounceUpIn",{duration:600,complete:function(){t.tap.classList.remove("hidden"),t.tips.classList.remove("hidden")}})},nextPage4:function(){this.showCurrentTitleInfo(),r&&this.showNextPageArr(),r=!0,this.goArr.dataset.type="info",this.initCloudAni(this.cloud11,this.cloud22,this.cloud33)},nextPage5:function(){e.start()}},e={timer:null,time:3e3,start:function(){var t=this,e=document.querySelectorAll(".banner");this.bannersList=[];for(var n=0;n<e.length;n++)this.bannersList.push(e[n]);t.next()},next:function(t){var e=this;this.timer&&clearTimeout(this.timer),t?this.bannersList.unshift(this.bannersList.pop()):this.bannersList.push(this.bannersList.shift());for(var n=0;n<this.bannersList.length;n++)this.bannersList[n].dataset.index=n+1;this.timer=setTimeout(function(){e.next()},this.time)},pre:function(){this.next(!0)}};t.getDom(document);var n={currentPage:0,allPageLength:t.pages.length,start:function(){t.loadingContainer.classList.add("hidden"),this.showPageIndex(0)},playAnimation:function(e,n){t[e]&&t[e](n)},nextPage:function(){this.currentPage<this.allPageLength-1&&this.showPageIndex(this.currentPage+1)},prePage:function(t){5===this.currentPage&&this.showPageIndex(4,!1,t)},showPageIndex:function(e,n,i){n||(this.currentPage=e,this.changeLayerSate());for(var a=0;a<t.pages.length;a++)e===a?(t.pages[a].classList.remove("hidden"),t["page"+a]&&t["page"+a](i)):(t.pages[a].classList.add("hidden"),t["stopPage"+a]&&t["stopPage"+a](i))},changeLayerSate:function(){if(1===this.currentPage&&(t.loopLayer.classList.remove("hidden"),this.playAnimation("playerRunBottom")),2===this.currentPage&&this.playAnimation("playerRunBottom"),3===this.currentPage&&this.playAnimation("playerRunBottom",{to:-400}),4===this.currentPage){var e="nextPage4";t[e]&&t[e]()}if(5===this.currentPage){var e="nextPage5";t[e]&&t[e]()}}};return n}(),document.addEventListener("touchmove",function(t){t.preventDefault()},!1),window.onload=function(){setTimeout(function(){SDW_WEB.USER_INFO.uid&&SDW_WEB.sdw.onSetShareOperate({title:"《野蛮人♂大作战》高能开启寻福之旅，Let's go 201發！",desc:"摩摩可送你新人♂福利",link:"http://www.shandw.com/h5/ymr-h5/",imgUrl:"http://www.shandw.com/h5/ymr-h5/images/share-icon.jpg"})},2e3)}}]);