!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e,t){e.exports=function(e,t,n,a){var o,i=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,i=e.default);var r="function"==typeof i?i.options:i;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),a){var c=Object.create(r.computed||null);Object.keys(a).forEach(function(e){var t=a[e];c[e]=function(){return t}}),r.computed=c}return{esModule:o,exports:i,options:r}}},function(e,t){function n(e,t,n,a){if("function"!=typeof e)return void console.log("WindowScroll error: callback must be a Function!");this.toBottom=t||!1,this.enable=!0,this.callback=e||null,this.delayTime=n||200,this.offset=a||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,this._init()}n.prototype._init=function(){var e=this;e.timer=null,e.callback&&window.addEventListener("scroll",function(t){if(e.enable){var n=document.body.scrollTop+e.clientHeigth,a=document.documentElement.scrollHeight-e.offset,o=n>=a;(1==e.toBottom&&o||0==e.toBottom)&&!e.timer&&(e.timer=setTimeout(function(){e.callback(t),e.timer=null},e.delayTime))}},!1)},n.prototype.setCallback=function(e){"function"==typeof e?self.callback=e:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},e.exports=n},function(e,t){},function(e,t){},function(e,t,n){n(13);var a=n(0)(n(8),n(17),null,null);e.exports=a.exports},function(e,t,n){n(12);var a=n(0)(n(9),n(16),null,null);e.exports=a.exports},function(e,t,n){n(15);var a=n(0)(n(10),n(19),null,null);e.exports=a.exports},function(e,t,n){n(14);var a=n(0)(n(11),n(18),null,null);e.exports=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-item",data:function(){return{}},methods:{},computed:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fast-login",data:function(){return{loginFlagV2:1,phoneLoginData:{getCodeFlag:!1,phoneNum:"",phoneCode:"",RES_TIME:"",timerHand:null,message:"获取验证码"},tapTimer:null}},props:["show"],methods:{hidePage:function(){/home/.test(location.href)||(this.show=0)},forbidScroll:function(e){e.preventDefault()},timers:function(){var e=this,t=60,n=document.querySelector("#getCode-v-2");n.className="codetimer",e.codeMessage=t--+"秒后获取",e.timerHand=setInterval(function(){t<=0?(clearInterval(e.timerHand),n.className="codenormal",e.phoneLoginData.message="获取验证码",e.phoneLoginData.getCodeFlag=!1):e.phoneLoginData.message=t--+"秒后获取"},1e3)},chooseLoginType:function(){},getPhoneCode:function(){var e=this,t=this.phoneLoginData,n=SDW_WEB.channel;if(!t.getCodeFlag)if(/^1\d{10}$/.test(t.phoneNum)){t.getCodeFlag=!0;var a=+new Date/1e3>>0,o=(new Date).Format("yyyyMMdd"),i=SDW_WEB.MD5("SDW"+o+n+SDW_WEB.guid+t.phoneNum+a),s=HTTP_USER_STATIC+"telcode?channel="+n+"&phone="+t.phoneNum+"&time="+a+"&sign="+i;dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(s,function(n){1==n.result?(t.RES_TIME=n.time,t.getCodeFlag=!0,e.timers(),dialog.show("ok","验证码已发送",1),document.querySelector(".short").focus()):(t.getCodeFlag=!1,dialog.show("error",n.msg,1))},!1)}else dialog.show("error","请输入正确的手机号",1)},phoneLogin:function(e){var t=this,n=this.phoneLoginData,a=SDW_WEB.channel;if(/^1\d{10}$/.test(n.phoneNum))if(/^\d+$/.test(n.phoneCode)){var o=e?"&vst=1&vsttoken="+visitorMode.visitorToken:"",i=HTTP_USER_STATIC+"telcheck?channel="+a+"&phone="+n.phoneNum+"&time="+n.RES_TIME+"&sign="+SDW_WEB.MD5(a+SDW_WEB.guid+n.phoneNum+n.RES_TIME+n.phoneCode)+o;dialog.show("loading","登录中..."),SDW_WEB.getAjaxData(i,function(e){if(1==e.result){var n={uid:e.id,otoken:e.token,nick:e.nick,sex:e.sex,avatar:e.avatar,city:e.city,fl:e.fl};SDW_WEB.Store.set(SDW_WEB.localItem,n,!0),localStorage.setItem(window.DATAITEM,JSON.stringify(n)),dialog.show("ok","登录成功",1),n.secheme=+new Date,n.token=SDW_WEB.MD5(""+SDW_WEB.channel+n.uid+n.secheme+n.otoken),SDW_WEB.USER_INFO=n,t.$emit("login-ok"),t.show=0}else dialog.show("error",e.msg,1)},!1)}else dialog.show("error","请输入正确的验证码",1);else dialog.show("error","请输入正确的手机号",1)}},computed:{showLogin:function(){return this.show||!1}},watch:{showLogin:function(e){var t=this;e?(this.tapTimer&&clearTimeout(this.tapTimer),this.tapTimer=setTimeout(function(){document.addEventListener("touchmove",t.forbidScroll,!1)},200)):(this.tapTimer&&clearTimeout(this.tapTimer),document.removeEventListener("touchmove",t.forbidScroll,!1))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"long-game-item",data:function(){return{msg:"long-game-item.vue"}},props:["gameItem"],methods:{checkAuth:function(e,t,n){this.$emit("tap-game",e,t,n)},transPvNum:function(e){e=e||0;var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0}},computed:{tags:function(){var e={"热门":"g-l-5","精品":"g-l-3","礼包":"g-l-4","最新":"g-l-1","独家":"g-l-2","首发":"g-l-6","删档":"g-l-7","限号":"g-l-8","封测":"g-l-9"},t=[];if(this.gameItem.tip)for(var n=this.gameItem.tip.split(","),a=0;a<n.length;a++)t.push({type:n[a],cl:e[n[a]]});return this.gameItem.gift&&t.push({type:"礼包",cl:"g-l-4"}),t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"server-game-item",data:function(){return{msg:"server-game-item.vue"}},props:["gameItem"],methods:{checkAuth:function(e,t,n){this.$emit("tap-game",e,t,n)}}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"scale21"}},[e.showLogin?n("div",{staticClass:"login-container"},[n("div",{staticClass:"mask-v2",on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.hidePage()}}}),e._v(" "),e.show?n("div",[n("i",{staticClass:"sdw-logo-v2"}),e._v(" "),n("div",{staticClass:"forms",attrs:{id:"loginForm-v2"}},[n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 phone"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneNum,expression:"phoneLoginData.phoneNum"}],staticClass:"long",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e.phoneLoginData.phoneNum},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneNum=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 code"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneCode,expression:"phoneLoginData.phoneCode"}],staticClass:"short",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e.phoneLoginData.phoneCode},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"codenormal",attrs:{id:"getCode-v-2"},on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.getPhoneCode()}}},[e._v("\n                        "+e._s(e.phoneLoginData.message)+"\n                    ")])]),e._v(" "),n("div",{staticClass:"login-btn-v2",on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.phoneLogin(0)}}},[e._v("登"),n("span",{staticStyle:{width:"50px"}}),e._v("录\n                ")])])]):e._e()]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-container"},[n("div",{staticClass:"loading-more"},[n("i",{staticClass:"icon-loading"}),e._v(" "),n("span",{staticClass:"loading-text"},[e._v("努力加载中...")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"server-item-container"},[n("img",{staticClass:"s-b-icon",attrs:{src:e.gameItem.icon}}),e._v(" "),n("div",{staticClass:"server-g-name"},[e._v(e._s(e.gameItem.name))]),e._v(" "),n("div",{staticClass:"server-g-info"},[e._v(e._s(e.gameItem.sName))]),e._v(" "),n("div",{staticClass:"server-time"},[e._v(e._s(e.gameItem.serverDateStr))]),e._v(" "),n("div",{staticClass:"game-btn g-l-right",on:{click:function(t){if(t.target!==t.currentTarget)return null;t.stopPropagation(),e.checkAuth("play",e.gameItem.appId,e.gameItem)}}},[e._v("开玩")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-long-container",on:{click:function(t){e.checkAuth("",e.gameItem.id,e.gameItem.url)}}},[n("img",{staticClass:"long-icon",attrs:{src:e.gameItem.icon}}),e._v(" "),n("div",{staticClass:"g-long-name"},[n("span",{staticClass:"g-l-name"},[e._v(e._s(e.gameItem.name))]),e._v(" "),e._l(e.tags,function(t){return n("span",{staticClass:"g-l-tag",class:t.cl},[e._v(e._s(t.type))])})],2),e._v(" "),n("div",{staticClass:"g-long-info"},[n("span",{staticClass:"g-l-type"},[e._v(e._s(e.gameItem.type))]),e._v(" "),n("span",{staticClass:"g-l-play"},[n("i",{staticClass:"s-g-l"},[e._v(e._s(e.transPvNum(e.gameItem.vPv)))]),e._v("人在玩")])]),e._v(" "),n("div",{staticClass:"g-long-desc"},[e._v(e._s(e.gameItem.sub))]),e._v(" "),n("div",{staticClass:"game-btn g-l-right",on:{click:function(t){if(t.target!==t.currentTarget)return null;t.stopPropagation(),e.checkAuth("play",e.gameItem.id,e.gameItem)}}},[e._v("开玩")])])},staticRenderFns:[]}},,,function(e,t,n){function a(){o(document.querySelectorAll('img[data-loaded="0"]'))}function o(e){for(var t=0,n=e.length;t<n;t++)e[t].getBoundingClientRect().top<document.documentElement.clientHeight&&!e[t].isLoad&&(e[t].isLoad=!0,e[t].dataset.loaded="1",e[t].style.cssText="transition: ''; opacity: 0;",i(e[t],e[t].dataset.src))}function i(e,t){if(t){var n=new Image;n.onload=function(){e.src=n.src,e.style.cssText="transition: 1s; opacity: 1;";var t=e.parentNode;t&&t.classList.contains("game-cover-info")&&(t.style.transition=".4s",t.style.background="rgba(0,0,0,0)")},n.src=t}}var s=n(5),r=(n(7),n(6)),c=n(4),l=n(1);n(2),n(3);var u={searchResultList:[],pageHasLoading:!1,showSearchHeader:!0,searchGameList:[],searchKey:"",searchType:"",searchTip:"",searchFlag:1,searchAllTypes:[{type:"全部",select:1}],hotSearchList:[],searchAllTips:[],searchDataCache:{},searchState:{test:{notMore:!1,page:0}},userSearchCache:{},showClearBtn:!1},h={loadSearchGame:function(e){var t=this,n=SDW_WEB.URLS.addParam({key:this.searchKey,type:this.searchType,tip:this.searchTip,flag:e},!0,HTTP_STATIC+"search");SDW_WEB.getAjaxData(n,function(e){if(1===e.result){for(var n=e.hotSearch||[],a=0;a<n.length;a++)t.hotSearchList.push({type:n[a].name,select:0,tags:t.createTags(n[a].tip,n[a].gift),id:n[a].id});if(e.typeList)for(var o=e.typeList.split(","),a=0;a<o.length;a++)t.searchAllTips.push({type:o[a],select:0})}})},createTags:function(e,t){var n={"热门":"g-l-5","精品":"g-l-3","礼包":"g-l-4","最新":"g-l-1","独家":"g-l-2","首发":"g-l-6","删档":"g-l-7"},a=[];if(e)for(var o=e.split(","),i=0;i<o.length;i++)a.push({type:o[i],cl:n[o[i]]});return t&&a.push({type:"礼包",cl:"g-l-4"}),a},addSearchAllTypes:function(e){if(1===this.searchAllTypes.length)for(var t=e.split(","),n=0;n<t.length;n++)this.searchAllTypes.push({type:t[n],select:0})},checkGameState:function(e){var t=SDW_PATH.MOBILE_ROOT+"detail/?channel="+SDW_WEB.channel+"&gid="+e.id+"&ver="+SDW_PATH.ver;SDW_WEB.openNewWindow({link:t,isFullScreen:!1,showMoreBtn:!0,title:""})},searchGame:function(e,t){var n=this,a="";if(e=e||window.USER_TYPE||"",window.USER_TYPE=e,!this.searchKey&&!e)return this.searchResultList=[],void dialog.show("error","请输入需要搜索的内容哦",1);if(e?(u.searchType=e,u.searchKey=e):a=this.searchKey,u.searchKey){t&&(u.searchResultList=[]),window._cacheKey=a+e;var o=0;if(u.userSearchCache[window._cacheKey]){if(!u.userSearchCache[window._cacheKey].canLoad)return;u.userSearchCache[window._cacheKey].canLoad=!1,o=u.userSearchCache[window._cacheKey].page}else u.userSearchCache[window._cacheKey]={canLoad:!0,page:0};var i=SDW_WEB.URLS.addParam({key:a,type:e,tip:this.searchTip,flag:1,page:o},!0,HTTP_STATIC+"search");dialog.show("loading","拼命加载中..."),SDW_WEB.getAjaxData(i,function(t){1===t.result?t.list&&t.list.length?(u.userSearchCache[window._cacheKey].canLoad=!0,n.searchResultList=n.searchResultList.concat(t.list||[]),e&&(n.searchKey=e),u.userSearchCache[window._cacheKey].page++,dialog.hidden()):dialog.hidden():dialog.show("error",t.msg,1)})}},checkGameSate:function(e,t,n){var a=SDW_WEB.USER_INFO.uid,o=SDW_PATH.GAME_URL(e,t),i={link:o,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===e?(n&&n.screen&&(i.landscape=!0,o+="&screen="+n.screen,i.link=o),a?SDW_WEB.openNewWindow(i):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage()):SDW_WEB.openNewWindow(i)},__showLoginPage:function(e){this.$refs.login.show="1",this.__footIndex__=e},clearAllSearchList:function(){this.searchKey=""}},d=new Vue({el:"#app",data:u,methods:h,components:{longGameItem:r,fastLogin:s,loadingView:c},watch:{searchKey:function(e,t){e?this.showClearBtn=!0:(this.showClearBtn=!1,this.searchResultList=[],window.USER_TYPE="",u.userSearchCache[window._cacheKey]={canLoad:!0,page:0},this.$nextTick(function(){}))}}});SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(e){d.loadSearchGame(2)},function(e){SDW_WEB.USER_INFO={},d.loadSearchGame(2)}):d.loadSearchGame(2);new l(function(){d.searchGame()},!0,200,10),new l(a)}]);