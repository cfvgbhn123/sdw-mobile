!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=23)}([function(e,t){e.exports=function(e,t,n,o){var i,a=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,a=e.default);var r="function"==typeof a?a.options:a;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),o){var c=Object.create(r.computed||null);Object.keys(o).forEach(function(e){var t=o[e];c[e]=function(){return t}}),r.computed=c}return{esModule:i,exports:a,options:r}}},function(e,t){function n(e,t,n,o){if("function"!=typeof e)return void console.log("WindowScroll error: callback must be a Function!");this.toBottom=t||!1,this.enable=!0,this.callback=e||null,this.delayTime=n||200,this.offset=o||200,this.clientHeigth=document.documentElement.clientHeight||document.body.clientHeight,this._init()}n.prototype._init=function(){var e=this;e.timer=null,e.callback&&window.addEventListener("scroll",function(t){if(e.enable){var n=document.body.scrollTop+e.clientHeigth,o=document.documentElement.scrollHeight-e.offset,i=n>=o;(1==e.toBottom&&i||0==e.toBottom)&&!e.timer&&(e.timer=setTimeout(function(){e.callback(t),e.timer=null},e.delayTime))}},!1)},n.prototype.setCallback=function(e){"function"==typeof e?self.callback=e:console.log("[WindowScroll error]: callback must be a Function!")},n.prototype.runCallback=function(){this.callback&&this.callback()},e.exports=n},function(e,t){},function(e,t){},function(e,t,n){n(13);var o=n(0)(n(8),n(17),null,null);e.exports=o.exports},function(e,t,n){n(12);var o=n(0)(n(9),n(16),null,null);e.exports=o.exports},function(e,t,n){n(15);var o=n(0)(n(10),n(19),null,null);e.exports=o.exports},function(e,t,n){n(14);var o=n(0)(n(11),n(18),null,null);e.exports=o.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"task-item",data:function(){return{}},methods:{},computed:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fast-login",data:function(){return{loginFlagV2:1,phoneLoginData:{getCodeFlag:!1,phoneNum:"",phoneCode:"",RES_TIME:"",timerHand:null,message:"获取验证码"},tapTimer:null}},props:["show"],methods:{hidePage:function(){/home/.test(location.href)||(this.show=0)},forbidScroll:function(e){e.preventDefault()},timers:function(){var e=this,t=60,n=document.querySelector("#getCode-v-2");n.className="codetimer",e.codeMessage=t--+"秒后获取",e.timerHand=setInterval(function(){t<=0?(clearInterval(e.timerHand),n.className="codenormal",e.phoneLoginData.message="获取验证码",e.phoneLoginData.getCodeFlag=!1):e.phoneLoginData.message=t--+"秒后获取"},1e3)},chooseLoginType:function(){},getPhoneCode:function(){var e=this,t=this.phoneLoginData,n=SDW_WEB.channel;if(!t.getCodeFlag)if(/^1\d{10}$/.test(t.phoneNum)){t.getCodeFlag=!0;var o=+new Date/1e3>>0,i=(new Date).Format("yyyyMMdd"),a=SDW_WEB.MD5("SDW"+i+n+SDW_WEB.guid+t.phoneNum+o),s=HTTP_USER_STATIC+"telcode?channel="+n+"&phone="+t.phoneNum+"&time="+o+"&sign="+a;dialog.show("loading","验证码获取中..."),SDW_WEB.getAjaxData(s,function(n){1==n.result?(t.RES_TIME=n.time,t.getCodeFlag=!0,e.timers(),dialog.show("ok","验证码已发送",1),document.querySelector(".short").focus()):(t.getCodeFlag=!1,dialog.show("error",n.msg,1))},!1)}else dialog.show("error","请输入正确的手机号",1)},phoneLogin:function(e){var t=this,n=this.phoneLoginData,o=SDW_WEB.channel;if(/^1\d{10}$/.test(n.phoneNum))if(/^\d+$/.test(n.phoneCode)){var i=e?"&vst=1&vsttoken="+visitorMode.visitorToken:"",a=HTTP_USER_STATIC+"telcheck?channel="+o+"&phone="+n.phoneNum+"&time="+n.RES_TIME+"&sign="+SDW_WEB.MD5(o+SDW_WEB.guid+n.phoneNum+n.RES_TIME+n.phoneCode)+i;dialog.show("loading","登录中..."),SDW_WEB.getAjaxData(a,function(e){if(1==e.result){var n={uid:e.id,otoken:e.token,nick:e.nick,sex:e.sex,avatar:e.avatar,city:e.city,fl:e.fl};SDW_WEB.Store.set(SDW_WEB.localItem,n,!0),localStorage.setItem(window.DATAITEM,JSON.stringify(n)),dialog.show("ok","登录成功",1),n.secheme=+new Date,n.token=SDW_WEB.MD5(""+SDW_WEB.channel+n.uid+n.secheme+n.otoken),SDW_WEB.USER_INFO=n,t.$emit("login-ok"),t.show=0}else dialog.show("error",e.msg,1)},!1)}else dialog.show("error","请输入正确的验证码",1);else dialog.show("error","请输入正确的手机号",1)}},computed:{showLogin:function(){return this.show||!1}},watch:{showLogin:function(e){var t=this;e?(this.tapTimer&&clearTimeout(this.tapTimer),this.tapTimer=setTimeout(function(){document.addEventListener("touchmove",t.forbidScroll,!1)},200)):(this.tapTimer&&clearTimeout(this.tapTimer),document.removeEventListener("touchmove",t.forbidScroll,!1))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"long-game-item",data:function(){return{msg:"long-game-item.vue"}},props:["gameItem"],methods:{checkAuth:function(e,t,n){this.$emit("tap-game",e,t,n)},transPvNum:function(e){e=e||0;var t,n;return e<1e4?e:e<1e8?(t=e/1e4>>0,n=e%1e4+"",0==n?t+"万":t+"."+n[0]+"万"):e<1e10?(t=e/1e8>>0,n=e%1e8+"",0==n?t+"亿":t+"."+n[0]+"亿"):void 0}},computed:{tags:function(){var e={"热门":"g-l-5","精品":"g-l-3","礼包":"g-l-4","最新":"g-l-1","独家":"g-l-2","首发":"g-l-6","删档":"g-l-7","限号":"g-l-8","封测":"g-l-9"},t=[];if(this.gameItem.tip)for(var n=this.gameItem.tip.split(","),o=0;o<n.length;o++)t.push({type:n[o],cl:e[n[o]]});return this.gameItem.gift&&t.push({type:"礼包",cl:"g-l-4"}),t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"server-game-item",data:function(){return{msg:"server-game-item.vue"}},props:["gameItem"],methods:{checkAuth:function(e,t,n){this.$emit("tap-game",e,t,n)}}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"scale21"}},[e.showLogin?n("div",{staticClass:"login-container"},[n("div",{staticClass:"mask-v2",on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.hidePage()}}}),e._v(" "),e.show?n("div",[n("i",{staticClass:"sdw-logo-v2"}),e._v(" "),n("div",{staticClass:"forms",attrs:{id:"loginForm-v2"}},[n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 phone"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneNum,expression:"phoneLoginData.phoneNum"}],staticClass:"long",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e.phoneLoginData.phoneNum},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneNum=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"inpus"},[n("i",{staticClass:"icons-v2 code"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneLoginData.phoneCode,expression:"phoneLoginData.phoneCode"}],staticClass:"short",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e.phoneLoginData.phoneCode},on:{input:function(t){t.target.composing||(e.phoneLoginData.phoneCode=t.target.value)}}}),e._v(" "),n("div",{staticClass:"codenormal",attrs:{id:"getCode-v-2"},on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.getPhoneCode()}}},[e._v("\n                        "+e._s(e.phoneLoginData.message)+"\n                    ")])]),e._v(" "),n("div",{staticClass:"login-btn-v2",on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.phoneLogin(0)}}},[e._v("登"),n("span",{staticStyle:{width:"50px"}}),e._v("录\n                ")])])]):e._e()]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-container"},[n("div",{staticClass:"loading-more"},[n("i",{staticClass:"icon-loading"}),e._v(" "),n("span",{staticClass:"loading-text"},[e._v("努力加载中...")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"server-item-container"},[n("img",{staticClass:"s-b-icon",attrs:{src:e.gameItem.icon}}),e._v(" "),n("div",{staticClass:"server-g-name"},[e._v(e._s(e.gameItem.name))]),e._v(" "),n("div",{staticClass:"server-g-info"},[e._v(e._s(e.gameItem.sName))]),e._v(" "),n("div",{staticClass:"server-time"},[e._v(e._s(e.gameItem.serverDateStr))]),e._v(" "),n("div",{staticClass:"game-btn g-l-right",on:{click:function(t){if(t.target!==t.currentTarget)return null;t.stopPropagation(),e.checkAuth("play",e.gameItem.appId,e.gameItem)}}},[e._v("开玩")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-long-container",on:{click:function(t){e.checkAuth("",e.gameItem.id,e.gameItem.url)}}},[n("img",{staticClass:"long-icon",attrs:{src:e.gameItem.icon}}),e._v(" "),n("div",{staticClass:"g-long-name"},[n("span",{staticClass:"g-l-name"},[e._v(e._s(e.gameItem.name))]),e._v(" "),e._l(e.tags,function(t){return n("span",{staticClass:"g-l-tag",class:t.cl},[e._v(e._s(t.type))])})],2),e._v(" "),n("div",{staticClass:"g-long-info"},[n("span",{staticClass:"g-l-type"},[e._v(e._s(e.gameItem.type))]),e._v(" "),n("span",{staticClass:"g-l-play"},[n("i",{staticClass:"s-g-l"},[e._v(e._s(e.transPvNum(e.gameItem.vPv)))]),e._v("人在玩")])]),e._v(" "),n("div",{staticClass:"g-long-desc"},[e._v(e._s(e.gameItem.sub))]),e._v(" "),n("div",{staticClass:"game-btn g-l-right",on:{click:function(t){if(t.target!==t.currentTarget)return null;t.stopPropagation(),e.checkAuth("play",e.gameItem.id,e.gameItem)}}},[e._v("开玩")])])},staticRenderFns:[]}},function(e,t){var n=function(e,t,n){return this.time=e||+new Date,this.baseTime=t||e,this.isPrv=n,this.hourSeconds=36e5,this.differDay=function(e){var t=+new Date(new Date(this.baseTime).setHours(0,0,0,0)),n=t+24*e*this.hourSeconds;return this.time>=t&&this.time<n},this.hasExceedTime=function(e,t){var n=this.baseTime-this.time;return"hour"===t&&n<e*this.hourSeconds},this.formatStr=function(e){var t=new Date(this.time),n=null,o=null,i="";if("time"===e&&(n=t.getHours(),o=t.getMinutes(),i=":"),"day"===e&&(n=t.getMonth()+1,o=t.getDate(),i="-"),"hour"===e){return(this.baseTime-this.time)/this.hourSeconds>>0}return null!==n&&null!==o&&(n<10&&(n="0"+n),o<10&&(o="0"+o),n+i+o)},this.formatDate=function(){if(this.isPrv){if(this.differDay(1))return"今日"+this.formatStr("time");if(this.differDay(2))return"明日"+this.formatStr("time")}if(this.hasExceedTime(24,"hour")){var e=this.formatStr("hour");return 0===e?"新开服":"已开服"+e+"小时"}return!1},this.formatDate()};e.exports=n},,,function(e,t,n){function o(){i(document.querySelectorAll('img[data-loaded="0"]'))}function i(e){for(var t=0,n=e.length;t<n;t++)e[t].getBoundingClientRect().top<document.documentElement.clientHeight&&!e[t].isLoad&&(e[t].isLoad=!0,e[t].dataset.loaded="1",e[t].style.cssText="transition: ''; opacity: 0;",a(e[t],e[t].dataset.src))}function a(e,t){if(t){var n=new Image;n.onload=function(){e.src=n.src,e.style.cssText="transition: 1s; opacity: 1;";var t=e.parentNode;t&&t.classList.contains("game-cover-info")&&(t.style.transition=".4s",t.style.background="rgba(0,0,0,0)")},n.src=t}}var s=n(5),r=n(7),c=(n(6),n(4)),l=n(1);n(2),n(3);var u=SDW_WEB.queryParam,m={serverGameModuleList:[],isShowHotGame:u._s_fl_},d=n(20),g={transServerDate:function(e,t){return d(e,window.SERVER_TIME,t)},loadServerGame:function(){var e=this,t=HTTP_STATIC+"serverinfo?type="+e.isShowHotGame;SDW_WEB.getAjaxData(t,function(t){if(window.PAGE_TIME=t.ct,window.SERVER_TIME=t.ct,1===t.result)for(var n=0;n<t.list.length;n++){var o=t.list[n];o.serverDateStr=e.transServerDate(o.sTime,"0"!==e.isShowHotGame),o.serverDateStr&&e.serverGameModuleList.push(o)}else dialog.show("error",t.msg,1)})},__showLoginPage:function(e){this.$refs.login.show="1",this.__footIndex__=e},checkGameSate:function(e,t,n){var o=SDW_WEB.USER_INFO.uid,i=SDW_PATH.GAME_URL(e,t),a={link:i,isFullScreen:!1,showMoreBtn:!0,title:""};"play"===e?(n&&n.screen&&(a.landscape=!0,i+="&screen="+n.screen,a.link=i),o?SDW_WEB.openNewWindow(a):SDW_WEB.onShandw?SDW_WEB.sdw.openLogin({success:function(){}}):this.__showLoginPage()):SDW_WEB.openNewWindow(a)}},h=new Vue({el:"#app",data:m,methods:g,components:{serverGameItem:r,fastLogin:s,loadingView:c}});SDW_WEB.onShandw?SDW_WEB.getSdwUserData().then(function(e){h.loadServerGame()},function(e){SDW_WEB.USER_INFO={},h.loadServerGame()}):h.loadServerGame();new l(o)}]);